"use strict";(self.webpackChunkStarpyApp=self.webpackChunkStarpyApp||[]).push([[364],{29920:(e,t,n)=>{function r(e,t){if(!e)throw new Error(t)}function s(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function a(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function i(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}n.d(t,{E_:()=>i,fp:()=>a,hu:()=>r,ug:()=>s})},20299:(e,t,n)=>{var r,s;n.d(t,{TD:()=>s,z:()=>r}),function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,s,a,i)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:s,wireType:a,data:i})},e.onWrite=(t,n,r)=>{for(let{no:t,wireType:s,data:a}of e.list(n))r.tag(t,s).raw(a)},e.list=(n,r)=>{if(t(n)){let t=n[e.symbol];return r?t.filter((e=>e.no==r)):t}return[]},e.last=(t,n)=>e.list(t,n).slice(-1)[0];const t=t=>t&&Array.isArray(t[e.symbol])}(r||(r={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(s||(s={}))},65383:(e,t,n)=>{n.d(t,{Z:()=>o,o:()=>c});var r=n(20299),s=n(50766),a=n(7493);const i={readUnknownField:!0,readerFactory:e=>new c(e)};function o(e){return e?Object.assign(Object.assign({},i),e):i}class c{constructor(e,t){this.varint64=a.sg,this.uint32=a.jI,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case r.TD.Varint:for(;128&this.buf[this.pos++];);break;case r.TD.Bit64:this.pos+=4;case r.TD.Bit32:this.pos+=4;break;case r.TD.LengthDelimited:let t=this.uint32();this.pos+=t;break;case r.TD.StartGroup:let n;for(;(n=this.tag()[1])!==r.TD.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new s.MJ(...this.varint64())}uint64(){return new s.p2(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,new s.MJ(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new s.p2(this.sfixed32(),this.sfixed32())}sfixed64(){return new s.MJ(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}},83014:(e,t,n)=>{n.d(t,{L:()=>c,X:()=>o});var r=n(50766),s=n(7493),a=n(29920);const i={writeUnknownFields:!0,writerFactory:()=>new c};function o(e){return e?Object.assign(Object.assign({},i),e):i}class c{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for((0,a.fp)(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return(0,a.ug)(e),(0,s.fC)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){(0,a.E_)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){(0,a.fp)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){(0,a.ug)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return(0,a.ug)(e),e=(e<<1^e>>31)>>>0,(0,s.fC)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),s=r.MJ.from(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),s=r.p2.from(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(t)}int64(e){let t=r.MJ.from(e);return(0,s._y)(t.lo,t.hi,this.buf),this}sint64(e){let t=r.MJ.from(e),n=t.hi>>31,a=t.lo<<1^n,i=(t.hi<<1|t.lo>>>31)^n;return(0,s._y)(a,i,this.buf),this}uint64(e){let t=r.p2.from(e);return(0,s._y)(t.lo,t.hi,this.buf),this}}},7493:(e,t,n)=>{function r(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,0==(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function s(e,t,n){for(let r=0;r<28;r+=7){const s=e>>>r,a=!(s>>>7==0&&0==t),i=255&(a?128|s:s);if(n.push(i),!a)return}const r=e>>>28&15|(7&t)<<4,s=!(t>>3==0);if(n.push(255&(s?128|r:r)),s){for(let e=3;e<31;e+=7){const r=t>>>e,s=!(r>>>7==0),a=255&(s?128|r:r);if(n.push(a),!s)return}n.push(t>>>31&1)}}n.d(t,{IL:()=>i,_y:()=>s,fC:()=>c,gn:()=>o,jI:()=>u,sg:()=>r});const a=4294967296;function i(e){let t="-"==e[0];t&&(e=e.slice(1));const n=1e6;let r=0,s=0;function i(t,i){const o=Number(e.slice(t,i));s*=n,r=r*n+o,r>=a&&(s+=r/a|0,r%=a)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),[t,r,s]}function o(e,t){if(t>>>0<=2097151)return""+(a*t+(e>>>0));let n=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,s=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,o=2*r,c=1e7;function u(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return s>=c&&(i+=Math.floor(s/c),s%=c),i>=c&&(o+=Math.floor(i/c),i%=c),u(o,0)+u(i,o)+u(s,1)}function c(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function u(){let e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,0==(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;0!=(128&e)&&t<10;t++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}},50766:(e,t,n)=>{n.d(t,{MJ:()=>f,p2:()=>l});var r=n(7493);let s;function a(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}!function(){const e=new DataView(new ArrayBuffer(8)),t=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64;s=t?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();const i=/^-?[0-9]+$/,o=4294967296,c=2147483648;class u{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*o+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class l extends u{static from(e){if(s)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=s.C(e);case"number":if(0===e)return this.ZERO;e=s.C(e);case"bigint":if(!e)return this.ZERO;if(e<s.UMIN)throw new Error("signed value for ulong");if(e>s.UMAX)throw new Error("ulong too large");return s.V.setBigUint64(0,e,!0),new l(s.V.getInt32(0,!0),s.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!i.test(e))throw new Error("string is no integer");let[t,n,s]=(0,r.IL)(e);if(t)throw new Error("signed value for ulong");return new l(n,s);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new l(e,e/o)}throw new Error("unknown value "+typeof e)}toString(){return s?this.toBigInt().toString():(0,r.gn)(this.lo,this.hi)}toBigInt(){return a(s),s.V.setInt32(0,this.lo,!0),s.V.setInt32(4,this.hi,!0),s.V.getBigUint64(0,!0)}}l.ZERO=new l(0,0);class f extends u{static from(e){if(s)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=s.C(e);case"number":if(0===e)return this.ZERO;e=s.C(e);case"bigint":if(!e)return this.ZERO;if(e<s.MIN)throw new Error("signed long too small");if(e>s.MAX)throw new Error("signed long too large");return s.V.setBigInt64(0,e,!0),new f(s.V.getInt32(0,!0),s.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!i.test(e))throw new Error("string is no integer");let[t,n,s]=(0,r.IL)(e);if(t){if(s>c||s==c&&0!=n)throw new Error("signed long too small")}else if(s>=c)throw new Error("signed long too large");let a=new f(n,s);return t?a.negate():a;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new f(e,e/o):new f(-e,-e/o).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!=(this.hi&c)}negate(){let e=~this.hi,t=this.lo;return t?t=1+~t:e+=1,new f(t,e)}toString(){if(s)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+(0,r.gn)(e.lo,e.hi)}return(0,r.gn)(this.lo,this.hi)}toBigInt(){return a(s),s.V.setInt32(0,this.lo,!0),s.V.setInt32(4,this.hi,!0),s.V.getBigInt64(0,!0)}}f.ZERO=new f(0,0)},24799:(e,t,n)=>{n.d(t,{$y:()=>T,AR:()=>v,Aj:()=>g,CA:()=>h,DZ:()=>K,Dp:()=>de,I4:()=>f,KN:()=>q,KO:()=>J,Lf:()=>d,Nh:()=>y,OS:()=>B,QH:()=>x,R1:()=>Q,SV:()=>ne,TA:()=>F,TI:()=>re,VS:()=>H,WU:()=>Oe,We:()=>l,YG:()=>oe,Yx:()=>ie,aN:()=>b,ai:()=>R,az:()=>Y,by:()=>_,cT:()=>Ie,e8:()=>j,eg:()=>p,gx:()=>P,hA:()=>$,hw:()=>M,i0:()=>I,lC:()=>ee,n_:()=>N,ni:()=>le,pH:()=>se,sC:()=>S,t5:()=>ce,to:()=>pe,uo:()=>C,vs:()=>E,w9:()=>m,wP:()=>te,wr:()=>ue,x8:()=>D,zZ:()=>ae,ze:()=>fe,zv:()=>G});var r=n(17316),s=n(15839),a=n(16749),i=n(51988),o=n(71335),c=n(99768),u=n(65686);const l=Symbol.for("@effect/schema/annotation/Brand"),f=Symbol.for("@effect/schema/annotation/Type"),p=Symbol.for("@effect/schema/annotation/Message"),h=Symbol.for("@effect/schema/annotation/Identifier"),d=Symbol.for("@effect/schema/annotation/Title"),g=Symbol.for("@effect/schema/annotation/Description"),_=Symbol.for("@effect/schema/annotation/Examples"),m=Symbol.for("@effect/schema/annotation/Default"),b=Symbol.for("@effect/schema/annotation/JSONSchema"),y=Symbol.for("@effect/schema/annotation/Documentation"),v=(0,r.OB)(2,((e,t)=>Object.prototype.hasOwnProperty.call(e.annotations,t)?a.G(e.annotations[t]):a.YP())),S=v(p),k=v(d),w=v(h),O=v(g),I=(e,t,n,r={})=>({_tag:"Declaration",typeParameters:e,decodeUnknown:t,encodeUnknown:n,annotations:r}),E=(e,t={})=>({_tag:"Literal",literal:e,annotations:t}),N=e=>"Literal"===e._tag,B=E(null,{[h]:"null"}),x=(e,t={})=>({_tag:"UniqueSymbol",symbol:e,annotations:t}),D={_tag:"UndefinedKeyword",annotations:{[d]:"undefined"}},G={_tag:"VoidKeyword",annotations:{[d]:"void"}},T={_tag:"NeverKeyword",annotations:{[d]:"never"}},R={_tag:"UnknownKeyword",annotations:{[d]:"unknown"}},U=e=>"UnknownKeyword"===e._tag,F={_tag:"AnyKeyword",annotations:{[d]:"any"}},A=e=>"AnyKeyword"===e._tag,M={_tag:"StringKeyword",annotations:{[d]:"string",[g]:"a string"}},j=e=>"StringKeyword"===e._tag,C={_tag:"NumberKeyword",annotations:{[d]:"number",[g]:"a number"}},z=e=>"NumberKeyword"===e._tag,$={_tag:"BooleanKeyword",annotations:{[d]:"boolean",[g]:"a boolean"}},V=e=>"BooleanKeyword"===e._tag,P={_tag:"BigIntKeyword",annotations:{[d]:"bigint",[g]:"a bigint"}},L=e=>"BigIntKeyword"===e._tag,q={_tag:"SymbolKeyword",annotations:{[d]:"symbol",[g]:"a symbol"}},X=e=>"SymbolKeyword"===e._tag,K={_tag:"ObjectKeyword",annotations:{[h]:"object",[d]:"object",[g]:"an object in the TypeScript meaning, i.e. the `object` type"}},Y=(e,t)=>({type:e,isOptional:t}),H=(e,t,n,r={})=>({_tag:"Tuple",elements:e,rest:t,isReadonly:n,annotations:r}),J=(e,t,n,r,s={})=>({name:e,type:t,isOptional:n,isReadonly:r,annotations:s}),Z=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return Z(e.from);default:return!1}},W=(e,t,n)=>{if(Z(e))return{parameter:e,type:t,isReadonly:n};throw new Error("An index signature parameter type must be 'string', 'symbol', a template literal type or a refinement of the previous types")},Q=(e,t,n={})=>{const r={};for(let t=0;t<e.length;t++){const n=e[t].name;if(Object.prototype.hasOwnProperty.call(r,n))throw new Error(`Duplicate property signature ${String(n)}`);r[n]=null}const s={string:!1,symbol:!1};for(let e=0;e<t.length;e++){const n=we(t[e].parameter);if(j(n)){if(s.string)throw new Error("Duplicate index signature for type `string`");s.string=!0}else if(X(n)){if(s.symbol)throw new Error("Duplicate index signature for type `symbol`");s.symbol=!0}}return{_tag:"TypeLiteral",propertySignatures:ge(e),indexSignatures:_e(t),annotations:n}},ee=(e,t={})=>{const n=ke(e);return n.length>1?{_tag:"Union",types:Se(n),annotations:t}:c.Ux(n)?n[0]:T},te=(e,t={})=>({_tag:"Suspend",f:u.d3(e),annotations:t}),ne=(e,t,n={})=>({_tag:"Refinement",from:e,filter:t,annotations:n}),re=e=>"Refinement"===e._tag,se=(e,t,n,r={})=>({_tag:"Transform",from:e,to:t,transformation:n,annotations:r}),ae=(e,t)=>({_tag:"FinalTransformation",decode:e,encode:t}),ie=(e,t)=>({_tag:"FinalPropertySignatureTransformation",decode:e,encode:t}),oe=(e,t,n)=>({from:e,to:t,propertySignatureTransformation:n}),ce=e=>{const t={};for(const n of e){const e=n.from;if(t[e])throw new Error(`Duplicate property signature transformation ${String(e)}`);t[e]=!0}return{_tag:"TypeLiteralTransformation",propertySignatureTransformations:e}},ue=(e,t)=>({...e,annotations:{...e.annotations,...t}}),le=(e,t,n)=>({...e,annotations:{...e.annotations,[t]:n}}),fe=e=>{let t=`^${e.head}`;for(const n of e.spans)j(n.type)?t+=".*":z(n.type)&&(t+="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?"),t+=n.literal;return t+="$",new RegExp(t)},pe=e=>{switch(e._tag){case"Declaration":return I(e.typeParameters.map(pe),e.decodeUnknown,e.encodeUnknown,e.annotations);case"Tuple":return H(e.elements.map((e=>Y(pe(e.type),e.isOptional))),a.UI(e.rest,c.UI(pe)),e.isReadonly,e.annotations);case"TypeLiteral":return Q(e.propertySignatures.map((e=>J(e.name,pe(e.type),e.isOptional,e.isReadonly,e.annotations))),e.indexSignatures.map((e=>W(e.parameter,pe(e.type),e.isReadonly))),e.annotations);case"Union":return ee(e.types.map(pe),e.annotations);case"Suspend":return te((()=>pe(e.f())),e.annotations);case"Refinement":return ne(pe(e.from),e.filter,e.annotations);case"Transform":return pe(e.to)}return e},he=e=>a.EQ(w(e),{onNone:()=>{},onSome:e=>({[h]:e})}),de=e=>{switch(e._tag){case"Declaration":return I(e.typeParameters.map(de),e.decodeUnknown,e.encodeUnknown,e.annotations);case"Tuple":return H(e.elements.map((e=>Y(de(e.type),e.isOptional))),a.UI(e.rest,c.UI(de)),e.isReadonly,he(e));case"TypeLiteral":return Q(e.propertySignatures.map((e=>J(e.name,de(e.type),e.isOptional,e.isReadonly))),e.indexSignatures.map((e=>W(e.parameter,de(e.type),e.isReadonly))),he(e));case"Union":return ee(e.types.map(de),he(e));case"Suspend":return te((()=>de(e.f())),he(e));case"Refinement":case"Transform":return de(e.from)}return e},ge=c.wx((0,r.zG)(s.KM,i.$H((e=>(e=>{switch(e._tag){case"NeverKeyword":return 0;case"Literal":case"UndefinedKeyword":case"VoidKeyword":case"UniqueSymbol":return 1;case"BooleanKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3;case"ObjectKeyword":return 5;case"UnknownKeyword":case"AnyKeyword":return 6;default:return 4}})(e.type))))),_e=c.wx((0,r.zG)(s.KM,i.$H((e=>{switch(we(e.parameter)._tag){case"StringKeyword":return 2;case"SymbolKeyword":return 3;case"TemplateLiteral":return 1}})))),me=i.bc(s.KM,s.KM,s.KM),be=i.Fp(me),ye=[0,0,0],ve=e=>{switch(e._tag){case"Tuple":return[2,e.elements.length,a.pC(e.rest)?e.rest.value.length:0];case"TypeLiteral":{const t=e.propertySignatures.length,n=e.indexSignatures.length;return t+n===0?[-4,0,0]:[4,t,n]}case"Declaration":return[6,0,0];case"Suspend":return[8,0,0];case"Union":return e.types.map(ve).reduce(be,ye);case"Refinement":{const[t,n,r]=ve(e.from);return[t+1,n,r]}case"Transform":return ve(e.from);case"ObjectKeyword":return[-2,0,0];case"UnknownKeyword":case"AnyKeyword":return[-4,0,0];default:return ye}},Se=c.wx(i.GY(i.$H(me,ve))),ke=e=>{let t,n=(0,r.zG)(e,c.VS((e=>{switch(e._tag){case"NeverKeyword":return[];case"Union":return e.types;default:return[e]}})));return n.some(A)?[F]:n.some(U)?[R]:(-1!==(t=n.findIndex(j))&&(n=n.filter(((e,n)=>n===t||!j(e)&&!(N(e)&&"string"==typeof e.literal)))),-1!==(t=n.findIndex(z))&&(n=n.filter(((e,n)=>n===t||!z(e)&&!(N(e)&&"number"==typeof e.literal)))),-1!==(t=n.findIndex(V))&&(n=n.filter(((e,n)=>n===t||!V(e)&&!(N(e)&&"boolean"==typeof e.literal)))),-1!==(t=n.findIndex(L))&&(n=n.filter(((e,n)=>n===t||!L(e)&&!(N(e)&&"bigint"==typeof e.literal)))),-1!==(t=n.findIndex(X))&&(n=n.filter(((e,n)=>n===t||!X(e)&&!("UniqueSymbol"===e._tag)))),n)},we=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return we(e.from)}},Oe=(e,t=!1)=>{switch(e._tag){case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"SymbolKeyword":case"ObjectKeyword":case"AnyKeyword":case"UnknownKeyword":case"VoidKeyword":case"NeverKeyword":return a.fS(Ne(e,t),(()=>e._tag));case"Literal":return a.fS(Ne(e,t),(()=>Ie(e.literal)));case"UniqueSymbol":return a.fS(Ne(e,t),(()=>Ie(e.symbol)));case"Union":return a.fS(Ne(e,t),(()=>e.types.map((e=>Oe(e))).join(" | ")));case"TemplateLiteral":return a.fS(Ne(e,t),(()=>Ee(e)));case"Tuple":return a.fS(Ne(e,t),(()=>Be(e)));case"TypeLiteral":return a.fS(Ne(e,t),(()=>xe(e)));case"Enums":return a.fS(Ne(e,t),(()=>`<enum ${e.enums.length} value(s): ${e.enums.map(((e,t)=>JSON.stringify(t))).join(" | ")}>`));case"Suspend":return Ne(e,t).pipe(a.vx((()=>a.VS(a.eZ(e.f)(),(e=>Ne(e,t))))),a.fS((()=>"<suspended schema>")));case"Declaration":return a.fS(Ne(e,t),(()=>"<declaration schema>"));case"Refinement":return a.fS(Ne(e,t),(()=>"<refinement schema>"));case"Transform":return a.fS(Ne(e,t),(()=>((e,t)=>`(${e} <-> ${t})`)(Oe(e.from),Oe(e.to))))}},Ie=e=>{if(o.HD(e))return JSON.stringify(e);if(o.hj(e)||null==e||o.jn(e)||o.yk(e)||o.J_(e))return String(e);if(o.C4(e))return String(e)+"n";if(!Array.isArray(e)&&o.l$(e,"toString")&&o.mf(e.toString)&&e.toString!==Object.prototype.toString)return e.toString();try{return JSON.stringify(e)}catch(t){return String(e)}},Ee=e=>"`"+e.head+e.spans.map((e=>De(e)+e.literal)).join("")+"`",Ne=(e,t)=>{if(t){const t=O(e).pipe(a.vx((()=>k(e))));return a.EQ(w(e),{onNone:()=>t,onSome:e=>a.EQ(t,{onNone:()=>a.G(e),onSome:t=>a.G(`${e} (${t})`)})})}return w(e).pipe(a.vx((()=>k(e))),a.vx((()=>O(e))))},Be=e=>{const t=e.elements.map((e=>Oe(e.type)+(e.isOptional?"?":""))).join(", ");return a.EQ(e.rest,{onNone:()=>"readonly ["+t+"]",onSome:([n,...r])=>{const s=Oe(n),a=s.includes(" | ")?"("+s+")":s;if(r.length>0){const n=r.map((e=>Oe(e))).join(", ");return e.elements.length>0?`readonly [${t}, ...${a}[], ${n}]`:`readonly [...${a}[], ${n}]`}return e.elements.length>0?`readonly [${t}, ...${a}[]]`:`ReadonlyArray<${s}>`}})},xe=e=>{const t=e.propertySignatures.map((e=>String(e.name)+(e.isOptional?"?":"")+": "+Oe(e.type))).join("; ");if(e.indexSignatures.length>0){const n=e.indexSignatures.map((e=>`[x: ${Oe(we(e.parameter))}]: ${Oe(e.type)}`)).join("; ");return e.propertySignatures.length>0?`{ ${t}; ${n} }`:`{ ${n} }`}return e.propertySignatures.length>0?`{ ${t} }`:"{}"},De=e=>{switch(e.type._tag){case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}"}}},54140:(e,t,n)=>{n.d(t,{Sy:()=>p});var r=n(16749),s=n(71335),a=n(99768),i=n(24799),o=n(65686),c=n(54634),u=n(8484),l=n(81303);const f=u.S6,p=e=>_(e.ast,{}),h=(e,t,n,r)=>(r.isSuspend?e.oneof({depthSize:1},e.constant([]),e.array(e.tuple(t,n),{minLength:1,maxLength:2})):e.array(e.tuple(t,n))).map((e=>{const t={};for(const[n,r]of e)t[n]=r;return t})),d=i.AR(f),g=(e,t)=>{const n=w(t.constraints,k(e));return _(e.from,n?{...t,constraints:n}:t)},_=(e,t)=>{const n=d(e);if(r.pC(n))switch(e._tag){case"Declaration":return n.value(...e.typeParameters.map((e=>_(e,t))));case"Refinement":return n.value(g(e,t));default:return n.value()}switch(e._tag){case"Declaration":throw new Error(`cannot build an Arbitrary for a declaration without annotations (${i.WU(e)})`);case"Literal":return t=>t.constant(e.literal);case"UniqueSymbol":return t=>t.constant(e.symbol);case"UndefinedKeyword":case"VoidKeyword":return e=>e.constant(void 0);case"NeverKeyword":return()=>{throw new Error("cannot build an Arbitrary for `never`")};case"UnknownKeyword":case"AnyKeyword":return e=>e.anything();case"StringKeyword":return e=>t.constraints&&"StringConstraints"===t.constraints._tag?e.string(t.constraints.constraints):e.string();case"NumberKeyword":return e=>{if(t.constraints)switch(t.constraints._tag){case"NumberConstraints":return e.float(t.constraints.constraints);case"IntegerConstraints":return e.integer(t.constraints.constraints)}return e.float()};case"BooleanKeyword":return e=>e.boolean();case"BigIntKeyword":return e=>t.constraints&&"BigIntConstraints"===t.constraints._tag?e.bigInt(t.constraints.constraints):e.bigInt();case"SymbolKeyword":return e=>e.string().map((e=>Symbol.for(e)));case"ObjectKeyword":return e=>e.oneof(e.object(),e.array(e.anything()));case"TemplateLiteral":return t=>{const n=t.string({maxLength:5}),r=t.float({noDefaultInfinity:!0}).filter((e=>!Number.isNaN(e))),s=[t.constant(e.head)];for(const a of e.spans)i.e8(a.type)?s.push(n):s.push(r),s.push(t.constant(a.literal));return t.tuple(...s).map((e=>e.join("")))};case"Tuple":{const n=[];let s=!1;for(const r of e.elements)n.push(_(r.type,t)),r.isOptional&&(s=!0);const i=r.UI(e.rest,a.UI((e=>_(e,t))));return a=>{let o=a.tuple(...n.map((e=>e(a))));if(s){const t=a.tuple(...e.elements.map((e=>e.isOptional?a.boolean():a.constant(!0))));o=o.chain((e=>t.map((t=>{for(const[n,r]of t.reverse().entries())r||e.splice(t.length-n,1);return e}))))}if(r.pC(i)){const[e,...n]=i.value,r=e(a),s=t.constraints;o=o.chain((e=>{let n=a.array(r);return t.isSuspend?n=a.oneof({depthSize:1},a.constant([]),a.array(r,{minLength:1,maxLength:2})):s&&"ArrayConstraints"===s._tag&&(n=a.array(r,s.constraints)),n.map((t=>[...e,...t]))}));for(let e=0;e<n.length;e++)o=o.chain((t=>n[e](a).map((e=>[...t,e]))))}return o}}case"TypeLiteral":{const n=e.propertySignatures.map((e=>_(e.type,t))),r=e.indexSignatures.map((e=>[_(e.parameter,t),_(e.type,t)]));return s=>{const a={},i=[];for(let t=0;t<n.length;t++){const r=e.propertySignatures[t],o=r.name;r.isOptional||i.push(o),a[o]=n[t](s)}let o=s.record(a,{requiredKeys:i});for(let e=0;e<r.length;e++){const n=r[e][0](s),a=r[e][1](s);o=o.chain((e=>h(s,n,a,t).map((t=>({...t,...e})))))}return o}}case"Union":{const n=e.types.map((e=>_(e,t)));return e=>e.oneof({depthSize:1},...n.map((t=>t(e))))}case"Enums":if(0===e.enums.length)throw new Error("cannot build an Arbitrary for an empty enum");return t=>t.oneof(...e.enums.map((([e,n])=>t.constant(n))));case"Refinement":{const n=g(e,t);return t=>n(t).filter((t=>r.Wi(e.filter(t,l.Dr,e))))}case"Suspend":{const n=o.d3((()=>_(e.f(),{...t,isSuspend:!0})));return e=>e.constant(null).chain((()=>n()(e)))}case"Transform":return _(e.to,t)}},m=e=>(s.hj(e.min)&&(e.min=Math.fround(e.min)),s.hj(e.max)&&(e.max=Math.fround(e.max)),{_tag:"NumberConstraints",constraints:e}),b=e=>({_tag:"StringConstraints",constraints:e}),y=e=>({_tag:"IntegerConstraints",constraints:e}),v=e=>({_tag:"ArrayConstraints",constraints:e}),S=e=>({_tag:"BigIntConstraints",constraints:e}),k=e=>{const t=e.annotations[i.I4],n=e.annotations[i.aN];switch(t){case c.eF:case c.ag:return m({min:n.exclusiveMinimum??n.minimum});case c.gw:case c.HG:return m({max:n.exclusiveMaximum??n.maximum});case c.lN:return y({});case c.UG:{const e=n.minimum,t=n.maximum,r={};return s.hj(e)&&(r.min=e),s.hj(t)&&(r.max=t),m(r)}case c.DC:case c.c7:{const n=e.annotations[t];return S({min:n.min})}case c.g3:case c.AQ:{const n=e.annotations[t];return S({max:n.max})}case c.Ro:{const n=e.annotations[t],r=n.min,a=n.max,i={};return s.C4(r)&&(i.min=r),s.C4(a)&&(i.max=a),S(i)}case c.nh:return b({minLength:n.minLength});case c.fP:return b({maxLength:n.maxLength});case c.DL:return b({minLength:n.minLength,maxLength:n.maxLength});case c.t8:return v({minLength:n.minItems});case c.HP:return v({maxLength:n.maxItems});case c.Rz:return v({minLength:n.minItems,maxLength:n.maxItems})}},w=(e,t)=>{if(void 0===e)return t;if(void 0===t)return e;switch(e._tag){case"ArrayConstraints":if("ArrayConstraints"===t._tag){const n={...e.constraints,...t.constraints},r=O(e.constraints.minLength,t.constraints.minLength);s.hj(r)&&(n.minLength=r);const a=I(e.constraints.maxLength,t.constraints.maxLength);return s.hj(a)&&(n.maxLength=a),v(n)}break;case"NumberConstraints":switch(t._tag){case"NumberConstraints":{const n={...e.constraints,...t.constraints},r=O(e.constraints.min,t.constraints.min);s.hj(r)&&(n.min=r);const a=I(e.constraints.max,t.constraints.max);return s.hj(a)&&(n.max=a),m(n)}case"IntegerConstraints":{const n={...t.constraints},r=O(e.constraints.min,t.constraints.min);s.hj(r)&&(n.min=r);const a=I(e.constraints.max,t.constraints.max);return s.hj(a)&&(n.max=a),y(n)}}break;case"BigIntConstraints":if("BigIntConstraints"===t._tag){const n={...e.constraints,...t.constraints},r=O(e.constraints.min,t.constraints.min);s.C4(r)&&(n.min=r);const a=I(e.constraints.max,t.constraints.max);return s.C4(a)&&(n.max=a),S(n)}break;case"StringConstraints":if("StringConstraints"===t._tag){const n={...e.constraints,...t.constraints},r=O(e.constraints.minLength,t.constraints.minLength);s.hj(r)&&(n.minLength=r);const a=I(e.constraints.maxLength,t.constraints.maxLength);return s.hj(a)&&(n.maxLength=a),b(n)}break;case"IntegerConstraints":switch(t._tag){case"NumberConstraints":case"IntegerConstraints":{const n={...e.constraints},r=O(e.constraints.min,t.constraints.min);s.hj(r)&&(n.min=r);const a=I(e.constraints.max,t.constraints.max);return s.hj(a)&&(n.max=a),y(n)}}}};function O(e,t){return void 0===e?t:void 0===t?e:e<=t?t:e}function I(e,t){return void 0===e?t:void 0===t||e<=t?e:t}},79468:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(16749),s=n(99768),a=n(24799),i=n(29645);const o=(e,t=[])=>{const n=e._tag;switch(n){case"Type":return[{_tag:n,path:t,message:i.sS(e)}];case"Forbidden":return[{_tag:n,path:t,message:i.MA(e)}];case"Unexpected":return[{_tag:n,path:t,message:`is unexpected, expected ${a.WU(e.ast,!0)}`}];case"Missing":return[{_tag:n,path:t,message:"is missing"}];case"Union":return r.EQ(i.FC(e),{onNone:()=>s.VS(e.errors,(e=>"Member"===e._tag?o(e.error,t):o(e,t))),onSome:e=>[{_tag:n,path:t,message:e}]});case"Tuple":return r.EQ(i.FC(e),{onNone:()=>s.VS(e.errors,(e=>o(e.error,[...t,e.index]))),onSome:e=>[{_tag:n,path:t,message:e}]});case"TypeLiteral":return r.EQ(i.FC(e),{onNone:()=>s.VS(e.errors,(e=>o(e.error,[...t,e.key]))),onSome:e=>[{_tag:n,path:t,message:e}]});case"Transform":return r.EQ(i.Rf(e),{onNone:()=>o(e.error,t),onSome:e=>[{_tag:n,path:t,message:e}]});case"Refinement":return r.EQ(i.i3(e),{onNone:()=>o(e.error,t),onSome:e=>[{_tag:n,path:t,message:e}]});case"Declaration":return r.EQ(i.FC(e),{onNone:()=>o(e.error,t),onSome:e=>[{_tag:n,path:t,message:e}]})}},c=e=>(e=>{return t=[e],s.VS(t,(e=>o(e)));var t})(e.error)},22795:(e,t,n)=>{n.d(t,{bG:()=>h,Yo:()=>g,d1:()=>m,nU:()=>f,ng:()=>p,JH:()=>d,dt:()=>_});var r=n(10218),s=n(69336);s.n_,s.Kj,s.Kj;const a=function(){return class extends r.LJp{constructor(e){super(),e&&Object.assign(this,e)}}}();var i=n(87585),o=n(16371),c=n(33665),u=n(29645);class l extends((e=>{class t extends a{_tag=e}return t.prototype.name=e,t})("ParseError")){get message(){return this.toString()}toString(){return u.nG(this.error)}toJSON(){return{_id:"ParseError",message:this.toString()}}[o.j5](){return this.toJSON()}}const f=e=>new l({error:e}),p=i.F2,h=i.t$,d=i.JH,g=i.Yo,_=(c.vs,c.dt),m=(c.ID,c.CK,c.oc,c.zy,c.Kz,c.Jy,c.wb,c.pT,c.G0,c.fP,c.gC,c.VS,c.UI,c.d1)},29645:(e,t,n)=>{n.d(t,{FC:()=>f,MA:()=>h,Rf:()=>_,i3:()=>g,nG:()=>i,sS:()=>p});var r=n(16749),s=n(24799);const a=(e,t=[])=>({value:e,forest:t}),i=e=>(e=>{const t=e.map(m);return o(1===t.length?t[0]:a("error(s) found",t))})([e]),o=e=>e.value+c("\n",e.forest),c=(e,t)=>{let n="";const r=t.length;let s;for(let a=0;a<r;a++){s=t[a];const i=a===r-1;n+=e+(i?"└":"├")+"─ "+s.value,n+=c(e+(r>1&&!i?"│  ":"   "),s.forest)}return n},u=e=>{switch(e){case"From":return"From side transformation failure";case"Transformation":return"Transformation process failure";case"To":return"To side transformation failure"}},l=e=>{switch(e){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},f=e=>r.VS(s.sC(e.ast),(t=>r.ij(t(e)))),p=e=>f(e).pipe(r.vx((()=>e.message)),r.fS((()=>`Expected ${s.WU(e.ast,!0)}, actual ${s.cT(e.actual)}`))),h=e=>r.fS(e.message,(()=>"is forbidden")),d=(e,t)=>{switch(e._tag){case"Refinement":return r.vx(g(e),t);case"Transform":return r.vx(_(e),t);case"Tuple":case"TypeLiteral":case"Union":case"Type":return r.vx(f(e),t)}return t()},g=e=>"From"===e.kind?d(e.error,(()=>f(e))):f(e),_=e=>d(e.error,(()=>f(e))),m=e=>{switch(e._tag){case"Type":return a(p(e));case"Forbidden":return a(s.WU(e.ast),[a(h(e))]);case"Unexpected":return a(`is unexpected, expected ${s.WU(e.ast,!0)}`);case"Missing":return a("is missing");case"Union":return r.EQ(f(e),{onNone:()=>a(s.WU(e.ast),e.errors.map((e=>"Member"===e._tag?a("Union member",[m(e.error)]):m(e)))),onSome:a});case"Tuple":return r.EQ(f(e),{onNone:()=>a(s.WU(e.ast),e.errors.map((e=>a(`[${e.index}]`,[m(e.error)])))),onSome:a});case"TypeLiteral":return r.EQ(f(e),{onNone:()=>a(s.WU(e.ast),e.errors.map((e=>a(`[${s.cT(e.key)}]`,[m(e.error)])))),onSome:a});case"Transform":return r.EQ(_(e),{onNone:()=>a(s.WU(e.ast),[a(u(e.kind),[m(e.error)])]),onSome:a});case"Refinement":return r.EQ(g(e),{onNone:()=>a(s.WU(e.ast),[a(l(e.kind),[m(e.error)])]),onSome:a});case"Declaration":return r.EQ(f(e),{onNone:()=>{const t=e.error;return"Type"===t._tag&&t.ast===e.ast?m(t):a(s.WU(e.ast),[m(e.error)])},onSome:a})}}},65686:(e,t,n)=>{n.d(t,{Wp:()=>s,d3:()=>a,k8:()=>r});const r=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return r(e,t.from)}},s=e=>Object.keys(e).concat(Object.getOwnPropertySymbols(e)),a=e=>{let t,n=!1;return()=>(n||(t=e(),n=!0),t)}},54634:(e,t,n)=>{n.d(t,{AQ:()=>p,DC:()=>u,DL:()=>_,HG:()=>i,HP:()=>b,Ro:()=>h,Rz:()=>y,UG:()=>c,ag:()=>s,c7:()=>l,eF:()=>r,fP:()=>g,g3:()=>f,gw:()=>a,lN:()=>o,nh:()=>d,t8:()=>m});const r=Symbol.for("@effect/schema/TypeId/GreaterThan"),s=Symbol.for("@effect/schema/TypeId/GreaterThanOrEqualTo"),a=Symbol.for("@effect/schema/TypeId/LessThan"),i=Symbol.for("@effect/schema/TypeId/LessThanOrEqualTo"),o=Symbol.for("@effect/schema/TypeId/Int"),c=Symbol.for("@effect/schema/TypeId/Between"),u=Symbol.for("@effect/schema/TypeId/GreaterThanBigint"),l=Symbol.for("@effect/schema/TypeId/GreaterThanOrEqualToBigint"),f=Symbol.for("@effect/schema/TypeId/LessThanBigint"),p=Symbol.for("@effect/schema/TypeId/LessThanOrEqualToBigint"),h=Symbol.for("@effect/schema/TypeId/BetweenBigint"),d=Symbol.for("@effect/schema/TypeId/MinLength"),g=Symbol.for("@effect/schema/TypeId/MaxLength"),_=Symbol.for("@effect/schema/TypeId/Length"),m=Symbol.for("@effect/schema/TypeId/MinItems"),b=Symbol.for("@effect/schema/TypeId/MaxItems"),y=Symbol.for("@effect/schema/TypeId/ItemsCount")},8484:(e,t,n)=>{n.d(t,{C_:()=>a,S6:()=>r,bf:()=>s});const r=Symbol.for("@effect/schema/ArbitraryHookId"),s=Symbol.for("@effect/schema/PrettyHookId"),a=Symbol.for("@effect/schema/EquivalenceHookId")},33665:(e,t,n)=>{n.d(t,{CK:()=>f,G0:()=>w,ID:()=>v,Jy:()=>_,Kz:()=>d,UI:()=>c,VS:()=>o,bc:()=>h,d1:()=>u,dt:()=>y,fP:()=>k,gC:()=>l,oc:()=>p,pT:()=>m,vs:()=>b,wb:()=>S,zy:()=>g});var r=n(12821),s=n(87585),a=n(17316),i=n(16749);const o=(0,a.OB)(2,((e,t)=>{const n=e;return"Left"===n._tag?n:"Right"===n._tag?t(n.right):r.VSD(e,t)})),c=(0,a.OB)(2,((e,t)=>{const n=e;return"Left"===n._tag?n:"Right"===n._tag?s.F2(t(n.right)):r.UID(e,t)})),u=(0,a.OB)(2,((e,t)=>{const n=e;return"Left"===n._tag?s.t$(t(n.left)):"Right"===n._tag?n:r.d1Y(e,t)})),l=e=>{const t=e;if("Left"===t._tag||"Right"===t._tag)return t},f=(e,t,n)=>({_tag:"Declaration",ast:e,actual:t,error:n}),p=(e,t,n,r)=>({_tag:"Refinement",ast:e,actual:t,kind:n,error:r}),h=(e,t,n)=>({_tag:"Tuple",ast:e,actual:t,errors:n}),d=(e,t)=>({_tag:"Index",index:e,error:t}),g=(e,t,n)=>({_tag:"TypeLiteral",ast:e,actual:t,errors:n}),_=(e,t)=>({_tag:"Key",key:e,error:t}),m=e=>({_tag:"Unexpected",ast:e}),b=(e,t,n,r)=>({_tag:"Transform",ast:e,actual:t,kind:n,error:r}),y=(e,t,n)=>({_tag:"Type",ast:e,actual:t,message:i.ij(n)}),v=(e,t,n)=>({_tag:"Forbidden",ast:e,actual:t,message:i.ij(n)}),S={_tag:"Missing"},k=(e,t)=>({_tag:"Member",ast:e,error:t}),w=(e,t,n)=>({_tag:"Union",ast:e,actual:t,errors:n})},98885:(e,t,n)=>{n.d(t,{CA:()=>i,Sy:()=>a,aC:()=>s});var r=n(92817);const s=Symbol.for("@effect/schema/Schema"),a=e=>new o(e),i={_A:e=>e,_I:e=>e,_R:e=>e};class o{ast;[s]=i;constructor(e){this.ast=e}pipe(){return(0,r.n)(this,arguments)}}},64184:(e,t,n)=>{n.d(t,{j:()=>s});var r=n(12821);(0,n(77612).n)(null);const s=e=>{const t=e instanceof Error;return r.bGj({_tag:"UnexpectedError",error:{message:t?e.message:String(e),stack:t?e.stack:void 0}})}},12649:(e,t,n)=>{n.d(t,{En:()=>A,D5:()=>R,tU:()=>U});const r=Symbol.for("protobuf-ts/message-type");function s(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let s=e.charAt(r);"_"==s?t=!0:/\d/.test(s)?(n.push(s),t=!0):t?(n.push(s.toUpperCase()),t=!1):0==r?n.push(s.toLowerCase()):n.push(s)}return n.join("")}var a,i,o;function c(e){var t,n,r,a;return e.localName=null!==(t=e.localName)&&void 0!==t?t:s(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:s(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:o.NO,e.opt=null!==(a=e.opt)&&void 0!==a?a:!e.repeat&&!e.oneof&&"message"==e.kind,e}function u(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(a||(a={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(i||(i={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(o||(o={}));class l{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;const e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":r.opt&&!r.repeat||e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t,n=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),s=this.data;if(r.length<s.req.length||s.req.some((e=>!r.includes(e))))return!1;if(!n&&r.some((e=>!s.known.includes(e))))return!1;if(t<1)return!0;for(const r of s.oneofs){const s=e[r];if(!u(s))return!1;if(void 0===s.oneofKind)continue;const a=this.fields.find((e=>e.localName===s.oneofKind));if(!a)return!1;if(!this.field(s[s.oneofKind],a,n,t))return!1}for(const r of this.fields)if(void 0===r.oneof&&!this.field(e[r.localName],r,n,t))return!1;return!0}field(e,t,n,r){let s=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:s?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:s?this.scalars(e,a.INT32,r):this.scalar(e,a.INT32);case"message":return void 0===e||(s?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r));case"map":if("object"!=typeof e||null===e)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),a.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let n=0;n<e.length&&n<r;n++)if(!t.isAssignable(e[n],r-1))return!1}else for(let n=0;n<e.length&&n<r;n++)if(!t.is(e[n],r-1))return!1;return!0}scalar(e,t,n){let r=typeof e;switch(t){case a.UINT64:case a.FIXED64:case a.INT64:case a.SFIXED64:case a.SINT64:switch(n){case i.BIGINT:return"bigint"==r;case i.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case a.BOOL:return"boolean"==r;case a.STRING:return"string"==r;case a.BYTES:return e instanceof Uint8Array;case a.DOUBLE:case a.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(let s=0;s<e.length&&s<n;s++)if(!this.scalar(e[s],t,r))return!1;return!0}mapKeys(e,t,n){let r=Object.keys(e);switch(t){case a.INT32:case a.FIXED32:case a.SFIXED32:case a.SINT32:case a.UINT32:return this.scalars(r.slice(0,n).map((e=>parseInt(e))),t,n);case a.BOOL:return this.scalars(r.slice(0,n).map((e=>"true"==e||"false"!=e&&e)),t,n);default:return this.scalars(r,t,n,i.STRING)}}}function f(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}let p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),h=[];for(let e=0;e<p.length;e++)h[p[e].charCodeAt(0)]=e;h["-".charCodeAt(0)]=p.indexOf("+"),h["_".charCodeAt(0)]=p.indexOf("/");var d=n(50766),g=n(29920);function _(e,t){switch(t){case i.BIGINT:return e.toBigInt();case i.NUMBER:return e.toNumber();default:return e.toString()}}class m{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const t=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of t)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,t,n){if(!e){let e=f(n);throw"number"!=e&&"boolean"!=e||(e=n.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();const r=[];for(const[o,c]of Object.entries(e)){const e=this.fMap[o];if(!e){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${o}`);continue}const u=e.localName;let l;if(e.oneof){if(null===c&&("enum"!==e.kind||"google.protobuf.NullValue"!==e.T()[0]))continue;if(r.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(e.oneof),l=t[e.oneof]={oneofKind:u}}else l=t;if("map"==e.kind){if(null===c)continue;this.assert(null!==(s=c)&&"object"==typeof s&&!Array.isArray(s),e.name,c);const t=l[u];for(const[r,s]of Object.entries(c)){let o;switch(this.assert(null!==s,e.name+" map value",null),e.V.kind){case"message":o=e.V.T().internalJsonRead(s,n);break;case"enum":if(o=this.enum(e.V.T(),s,e.name,n.ignoreUnknownFields),!1===o)continue;break;case"scalar":o=this.scalar(s,e.V.T,e.V.L,e.name)}this.assert(void 0!==o,e.name+" map value",s);let c=r;e.K==a.BOOL&&(c="true"==c||"false"!=c&&c),c=this.scalar(c,e.K,i.STRING,e.name).toString(),t[c]=o}}else if(e.repeat){if(null===c)continue;this.assert(Array.isArray(c),e.name,c);const t=l[u];for(const r of c){let s;switch(this.assert(null!==r,e.name,null),e.kind){case"message":s=e.T().internalJsonRead(r,n);break;case"enum":if(s=this.enum(e.T(),r,e.name,n.ignoreUnknownFields),!1===s)continue;break;case"scalar":s=this.scalar(r,e.T,e.L,e.name)}this.assert(void 0!==s,e.name,c),t.push(s)}}else switch(e.kind){case"message":if(null===c&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}l[u]=e.T().internalJsonRead(c,n,l[u]);break;case"enum":let t=this.enum(e.T(),c,e.name,n.ignoreUnknownFields);if(!1===t)continue;l[u]=t;break;case"scalar":l[u]=this.scalar(c,e.T,e.L,e.name)}}var s}enum(e,t,n,r){if("google.protobuf.NullValue"==e[0]&&(0,g.hu)(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return(0,g.hu)(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let s=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(s=t.substring(e[2].length));let a=e[1][s];return(void 0!==a||!r)&&((0,g.hu)("number"==typeof a,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),a)}(0,g.hu)(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,r){let s;try{switch(t){case a.DOUBLE:case a.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){s="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){s="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let r=Number(e);if(Number.isNaN(r)){s="not a number";break}if(!Number.isFinite(r)){s="too large or small";break}return t==a.FLOAT&&(0,g.E_)(r),r;case a.INT32:case a.FIXED32:case a.SFIXED32:case a.SINT32:case a.UINT32:if(null===e)return 0;let i;if("number"==typeof e?i=e:""===e?s="empty string":"string"==typeof e&&(e.trim().length!==e.length?s="extra whitespace":i=Number(e)),void 0===i)break;return t==a.UINT32?(0,g.fp)(i):(0,g.ug)(i),i;case a.INT64:case a.SFIXED64:case a.SINT64:if(null===e)return _(d.MJ.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return _(d.MJ.from(e),n);case a.FIXED64:case a.UINT64:if(null===e)return _(d.p2.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return _(d.p2.from(e),n);case a.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case a.STRING:if(null===e)return"";if("string"!=typeof e){s="extra whitespace";break}try{encodeURIComponent(e)}catch(s){s="invalid UTF8";break}return e;case a.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),s=0,a=0,i=0;for(let t=0;t<e.length;t++){if(n=h[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":a=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:i=n,a=1;break;case 1:r[s++]=i<<2|(48&n)>>4,i=n,a=2;break;case 2:r[s++]=(15&i)<<4|(60&n)>>2,i=n,a=3;break;case 3:r[s++]=(3&i)<<6|n,a=0}}if(1==a)throw Error("invalid base64 string.");return r.subarray(0,s)}(e)}}catch(e){s=e.message}this.assert(!1,r+(s?" - "+s:""),e)}}class b{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){const n={},r=e;for(const e of this.fields){if(!e.oneof){let s=this.field(e,r[e.localName],t);void 0!==s&&(n[t.useProtoFieldName?e.name:e.jsonName]=s);continue}const s=r[e.oneof];if(s.oneofKind!==e.localName)continue;const a="scalar"==e.kind||"enum"==e.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let i=this.field(e,s[e.localName],a);(0,g.hu)(void 0!==i),n[t.useProtoFieldName?e.name:e.jsonName]=i}return n}field(e,t,n){let r;if("map"==e.kind){(0,g.hu)("object"==typeof t&&null!==t);const s={};switch(e.V.kind){case"scalar":for(const[n,r]of Object.entries(t)){const t=this.scalar(e.V.T,r,e.name,!1,!0);(0,g.hu)(void 0!==t),s[n.toString()]=t}break;case"message":const r=e.V.T();for(const[a,i]of Object.entries(t)){const t=this.message(r,i,e.name,n);(0,g.hu)(void 0!==t),s[a.toString()]=t}break;case"enum":const a=e.V.T();for(const[r,i]of Object.entries(t)){(0,g.hu)(void 0===i||"number"==typeof i);const t=this.enum(a,i,e.name,!1,!0,n.enumAsInteger);(0,g.hu)(void 0!==t),s[r.toString()]=t}}(n.emitDefaultValues||Object.keys(s).length>0)&&(r=s)}else if(e.repeat){(0,g.hu)(Array.isArray(t));const s=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){const r=this.scalar(e.T,t[n],e.name,e.opt,!0);(0,g.hu)(void 0!==r),s.push(r)}break;case"enum":const r=e.T();for(let a=0;a<t.length;a++){(0,g.hu)(void 0===t[a]||"number"==typeof t[a]);const i=this.enum(r,t[a],e.name,e.opt,!0,n.enumAsInteger);(0,g.hu)(void 0!==i),s.push(i)}break;case"message":const a=e.T();for(let r=0;r<t.length;r++){const i=this.message(a,t[r],e.name,n);(0,g.hu)(void 0!==i),s.push(i)}}(n.emitDefaultValues||s.length>0||n.emitDefaultValues)&&(r=s)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}enum(e,t,n,r,s,a){if("google.protobuf.NullValue"==e[0])return s||r?null:void 0;if(void 0!==t){if(0!==t||s||r)return(0,g.hu)("number"==typeof t),(0,g.hu)(Number.isInteger(t)),a||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else(0,g.hu)(r)}message(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,n,r,s){if(void 0===t)return void(0,g.hu)(r);const i=s||r;switch(e){case a.INT32:case a.SFIXED32:case a.SINT32:return 0===t?i?0:void 0:((0,g.ug)(t),t);case a.FIXED32:case a.UINT32:return 0===t?i?0:void 0:((0,g.fp)(t),t);case a.FLOAT:(0,g.E_)(t);case a.DOUBLE:return 0===t?i?0:void 0:((0,g.hu)("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case a.STRING:return""===t?i?"":void 0:((0,g.hu)("string"==typeof t),t);case a.BOOL:return!1===t?!i&&void 0:((0,g.hu)("boolean"==typeof t),t);case a.UINT64:case a.FIXED64:(0,g.hu)("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let e=d.p2.from(t);if(e.isZero()&&!i)return;return e.toString();case a.INT64:case a.SFIXED64:case a.SINT64:(0,g.hu)("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let n=d.MJ.from(t);if(n.isZero()&&!i)return;return n.toString();case a.BYTES:return(0,g.hu)(t instanceof Uint8Array),t.byteLength?function(e){let t,n="",r=0,s=0;for(let a=0;a<e.length;a++)switch(t=e[a],r){case 0:n+=p[t>>2],s=(3&t)<<4,r=1;break;case 1:n+=p[s|t>>4],s=(15&t)<<2,r=2;break;case 2:n+=p[s|t>>6],n+=p[63&t],r=0}return r&&(n+=p[s],n+="=",1==r&&(n+="=")),n}(t):i?"":void 0}}}var y=n(20299);function v(e,t=i.STRING){switch(e){case a.BOOL:return!1;case a.UINT64:case a.FIXED64:return _(d.p2.ZERO,t);case a.INT64:case a.SFIXED64:case a.SINT64:return _(d.MJ.ZERO,t);case a.DOUBLE:case a.FLOAT:return 0;case a.BYTES:return new Uint8Array(0);case a.STRING:return"";default:return 0}}class S{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map((e=>[e.no,e])))}}read(e,t,n,r){this.prepare();const s=void 0===r?e.len:e.pos+r;for(;e.pos<s;){const[r,s]=e.tag(),i=this.fieldNoToField.get(r);if(!i){let a=n.readUnknownField;if("throw"==a)throw new Error(`Unknown field ${r} (wire type ${s}) for ${this.info.typeName}`);let i=e.skip(s);!1!==a&&(!0===a?y.z.onRead:a)(this.info.typeName,t,r,s,i);continue}let o=t,c=i.repeat,u=i.localName;switch(i.oneof&&(o=o[i.oneof],o.oneofKind!==u&&(o=t[i.oneof]={oneofKind:u})),i.kind){case"scalar":case"enum":let t="enum"==i.kind?a.INT32:i.T,r="scalar"==i.kind?i.L:void 0;if(c){let n=o[u];if(s==y.TD.LengthDelimited&&t!=a.STRING&&t!=a.BYTES){let s=e.uint32()+e.pos;for(;e.pos<s;)n.push(this.scalar(e,t,r))}else n.push(this.scalar(e,t,r))}else o[u]=this.scalar(e,t,r);break;case"message":if(c){let t=o[u],r=i.T().internalBinaryRead(e,e.uint32(),n);t.push(r)}else o[u]=i.T().internalBinaryRead(e,e.uint32(),n,o[u]);break;case"map":let[l,f]=this.mapEntry(i,e,n);o[u][l]=f}}}mapEntry(e,t,n){let r,s,o=t.uint32(),c=t.pos+o;for(;t.pos<c;){let[o,c]=t.tag();switch(o){case 1:r=e.K==a.BOOL?t.bool().toString():this.scalar(t,e.K,i.STRING);break;case 2:switch(e.V.kind){case"scalar":s=this.scalar(t,e.V.T,e.V.L);break;case"enum":s=t.int32();break;case"message":s=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error(`Unknown field ${o} (wire type ${c}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===r){let t=v(e.K);r=e.K==a.BOOL?t.toString():t}if(void 0===s)switch(e.V.kind){case"scalar":s=v(e.V.T,e.V.L);break;case"enum":s=0;break;case"message":s=e.V.T().create()}return[r,s]}scalar(e,t,n){switch(t){case a.INT32:return e.int32();case a.STRING:return e.string();case a.BOOL:return e.bool();case a.DOUBLE:return e.double();case a.FLOAT:return e.float();case a.INT64:return _(e.int64(),n);case a.UINT64:return _(e.uint64(),n);case a.FIXED64:return _(e.fixed64(),n);case a.FIXED32:return e.fixed32();case a.BYTES:return e.bytes();case a.UINT32:return e.uint32();case a.SFIXED32:return e.sfixed32();case a.SFIXED64:return _(e.sfixed64(),n);case a.SINT32:return e.sint32();case a.SINT64:return _(e.sint64(),n)}}}class k{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort(((e,t)=>e.no-t.no))}}write(e,t,n){this.prepare();for(const r of this.fields){let s,i,c=r.repeat,u=r.localName;if(r.oneof){const t=e[r.oneof];if(t.oneofKind!==u)continue;s=t[u],i=!0}else s=e[u],i=!1;switch(r.kind){case"scalar":case"enum":let e="enum"==r.kind?a.INT32:r.T;if(c)if((0,g.hu)(Array.isArray(s)),c==o.PACKED)this.packed(t,e,r.no,s);else for(const n of s)this.scalar(t,e,r.no,n,!0);else void 0===s?(0,g.hu)(r.opt):this.scalar(t,e,r.no,s,i||r.opt);break;case"message":if(c){(0,g.hu)(Array.isArray(s));for(const e of s)this.message(t,n,r.T(),r.no,e)}else this.message(t,n,r.T(),r.no,s);break;case"map":(0,g.hu)("object"==typeof s&&null!==s);for(const[e,a]of Object.entries(s))this.mapEntry(t,n,r,e,a)}}let r=n.writeUnknownFields;!1!==r&&(!0===r?y.z.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,n,r,s){e.tag(n.no,y.TD.LengthDelimited),e.fork();let i=r;switch(n.K){case a.INT32:case a.FIXED32:case a.UINT32:case a.SFIXED32:case a.SINT32:i=Number.parseInt(r);break;case a.BOOL:(0,g.hu)("true"==r||"false"==r),i="true"==r}switch(this.scalar(e,n.K,1,i,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,s,!0);break;case"enum":this.scalar(e,a.INT32,2,s,!0);break;case"message":this.message(e,t,n.V.T(),2,s)}e.join()}message(e,t,n,r,s){void 0!==s&&(n.internalBinaryWrite(s,e.tag(r,y.TD.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,r,s){let[a,i,o]=this.scalarInfo(t,r);o&&!s||(e.tag(n,a),e[i](r))}packed(e,t,n,r){if(!r.length)return;(0,g.hu)(t!==a.BYTES&&t!==a.STRING),e.tag(n,y.TD.LengthDelimited),e.fork();let[,s]=this.scalarInfo(t);for(let t=0;t<r.length;t++)e[s](r[t]);e.join()}scalarInfo(e,t){let n,r=y.TD.Varint,s=void 0===t,i=0===t;switch(e){case a.INT32:n="int32";break;case a.STRING:i=s||!t.length,r=y.TD.LengthDelimited,n="string";break;case a.BOOL:i=!1===t,n="bool";break;case a.UINT32:n="uint32";break;case a.DOUBLE:r=y.TD.Bit64,n="double";break;case a.FLOAT:r=y.TD.Bit32,n="float";break;case a.INT64:i=s||d.MJ.from(t).isZero(),n="int64";break;case a.UINT64:i=s||d.p2.from(t).isZero(),n="uint64";break;case a.FIXED64:i=s||d.p2.from(t).isZero(),r=y.TD.Bit64,n="fixed64";break;case a.BYTES:i=s||!t.byteLength,r=y.TD.LengthDelimited,n="bytes";break;case a.FIXED32:r=y.TD.Bit32,n="fixed32";break;case a.SFIXED32:r=y.TD.Bit32,n="sfixed32";break;case a.SFIXED64:i=s||d.MJ.from(t).isZero(),r=y.TD.Bit64,n="sfixed64";break;case a.SINT32:n="sint32";break;case a.SINT64:i=s||d.MJ.from(t).isZero(),n="sint64"}return[r,n,s||i]}}function w(e,t,n){let r,s,a=n;for(let n of e.fields){let e=n.localName;if(n.oneof){const i=a[n.oneof];if(null==(null==i?void 0:i.oneofKind))continue;if(r=i[e],s=t[n.oneof],s.oneofKind=i.oneofKind,null==r){delete s[e];continue}}else if(r=a[e],s=t,null==r)continue;switch(n.repeat&&(s[e].length=r.length),n.kind){case"scalar":case"enum":if(n.repeat)for(let t=0;t<r.length;t++)s[e][t]=r[t];else s[e]=r;break;case"message":let t=n.T();if(n.repeat)for(let n=0;n<r.length;n++)s[e][n]=t.create(r[n]);else void 0===s[e]?s[e]=t.create(r):t.mergePartial(s[e],r);break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(s[e],r);break;case"message":let t=n.V.T();for(let n of Object.keys(r))s[e][n]=t.create(r[n])}}}}const O={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},I={ignoreUnknownFields:!1},E=Object.values;function N(e,t,n){if(t===n)return!0;if(e!==a.BYTES)return!1;let r=t,s=n;if(r.length!==s.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=s[e])return!1;return!0}function B(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!N(e,t[r],n[r]))return!1;return!0}function x(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}var D=n(83014),G=n(65383);class T{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(c),this.options=null!=n?n:{},this.messagePrototype=Object.defineProperty({},r,{value:this}),this.refTypeCheck=new l(this),this.refJsonReader=new m(this),this.refJsonWriter=new b(this),this.refBinReader=new S(this),this.refBinWriter=new k(this)}create(e){let t=function(e){const t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},r,{value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=v(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}(this);return void 0!==e&&w(this,t,e),t}clone(e){let t=this.create();return w(this,t,e),t}equals(e,t){return function(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let e=r.localName,s=r.oneof?t[r.oneof][e]:t[e],i=r.oneof?n[r.oneof][e]:n[e];switch(r.kind){case"enum":case"scalar":let e="enum"==r.kind?a.INT32:r.T;if(!(r.repeat?B(e,s,i):N(e,s,i)))return!1;break;case"map":if(!("message"==r.V.kind?x(r.V.T(),E(s),E(i)):B("enum"==r.V.kind?a.INT32:r.V.T,E(s),E(i))))return!1;break;case"message":let t=r.T();if(!(r.repeat?x(t,s,i):t.equals(s,i)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){w(this,e,t)}fromBinary(e,t){let n=(0,G.Z)(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,function(e){return e?Object.assign(Object.assign({},I),e):I}(t))}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,function(e){return e?Object.assign(Object.assign({},O),e):O}(t))}toJsonString(e,t){var n;let r=this.toJson(e,t);return JSON.stringify(r,null,null!==(n=null==t?void 0:t.prettySpaces)&&void 0!==n?n:0)}toBinary(e,t){let n=(0,D.X)(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!=n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw new Error(`Unable to parse message ${this.typeName} from JSON ${f(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,r){let s=null!=r?r:this.create();return this.refBinReader.read(e,s,n,t),s}}const R=new class extends T{constructor(){super("SyncRequest",[{no:1,name:"messages",kind:"message",repeat:1,T:()=>F},{no:2,name:"userId",kind:"scalar",T:9},{no:3,name:"nodeId",kind:"scalar",T:9},{no:4,name:"merkleTree",kind:"scalar",T:9}])}},U=new class extends T{constructor(){super("SyncResponse",[{no:1,name:"messages",kind:"message",repeat:1,T:()=>F},{no:2,name:"merkleTree",kind:"scalar",T:9}])}},F=new class extends T{constructor(){super("EncryptedMessage",[{no:1,name:"timestamp",kind:"scalar",T:9},{no:2,name:"content",kind:"scalar",T:12}])}},A=new class extends T{constructor(){super("MessageContent",[{no:1,name:"table",kind:"scalar",T:9},{no:2,name:"row",kind:"scalar",T:9},{no:3,name:"column",kind:"scalar",T:9},{no:4,name:"stringValue",kind:"scalar",oneof:"value",T:9},{no:5,name:"numberValue",kind:"scalar",oneof:"value",T:9},{no:6,name:"bytesValue",kind:"scalar",oneof:"value",T:12},{no:7,name:"jsonValue",kind:"scalar",oneof:"value",T:9}])}}},77612:(e,t,n)=>{n.d(t,{n:()=>s});var r=n(12821);const s=e=>r.Z_X((()=>{const t=new Set;let n=e;return{subscribe:e=>(t.add(e),()=>{t.delete(e)}),getState:()=>n,setState:e=>r.Z_X((()=>{e!==n&&(n=e,t.forEach((e=>e())))}))}}))},82601:(e,t,n)=>{function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function s(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function a(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(e,...t){if(!a(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}n.d(t,{Gg:()=>o,J8:()=>c,Rx:()=>r,Xg:()=>s,_t:()=>a,aI:()=>i})},54204:(e,t,n)=>{n.d(t,{Zt:()=>v});var r=n(82601),s=n(93793);const a=(0,s.iY)("expand 16-byte k"),i=(0,s.iY)("expand 32-byte k"),o=(0,s.Jq)(a),c=(0,s.Jq)(i);function u(e,t){return e<<t|e>>>32-t}function l(e){return e.byteOffset%4==0}const f=2**32-1,p=new Uint32Array;function h(e,t){const{allowShortKeys:n,extendNonceFn:a,counterLength:i,counterRight:u,rounds:h}=(0,s.U5)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return(0,r.Rx)(i),(0,r.Rx)(h),(0,r.Xg)(u),(0,r.Xg)(n),(t,d,g,_,m=0)=>{(0,r.aI)(t),(0,r.aI)(d),(0,r.aI)(g);const b=g.length;if(_||(_=new Uint8Array(b)),(0,r.aI)(_),(0,r.Rx)(m),m<0||m>=f)throw new Error("arx: counter overflow");if(_.length<b)throw new Error(`arx: output (${_.length}) is shorter than data (${b})`);const y=[];let v,S,k=t.length;if(32===k)v=t.slice(),y.push(v),S=c;else{if(16!==k||!n)throw new Error(`arx: invalid 32-byte key, got length=${k}`);v=new Uint8Array(32),v.set(t),v.set(t,16),S=o,y.push(v)}l(d)||(d=d.slice(),y.push(d));const w=(0,s.Jq)(v);if(a){if(24!==d.length)throw new Error("arx: extended nonce must be 24 bytes");a(S,w,(0,s.Jq)(d.subarray(0,16)),w),d=d.subarray(16)}const O=16-i;if(O!==d.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(12!==O){const e=new Uint8Array(12);e.set(d,u?0:12-d.length),d=e,y.push(d)}const I=(0,s.Jq)(d);for(function(e,t,n,r,a,i,o,c){const u=a.length,h=new Uint8Array(64),d=(0,s.Jq)(h),g=l(a)&&l(i),_=g?(0,s.Jq)(a):p,m=g?(0,s.Jq)(i):p;for(let s=0;s<u;o++){if(e(t,n,r,d,o,c),o>=f)throw new Error("arx: counter overflow");const l=Math.min(64,u-s);if(g&&64===l){const e=s/4;if(s%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,m[t]=_[t]^d[n];s+=64}else{for(let e,t=0;t<l;t++)e=s+t,i[e]=a[e]^h[t];s+=l}}}(e,S,w,I,g,_,m,h);y.length>0;)y.pop().fill(0);return _}}const d=(e,t)=>255&e[t++]|(255&e[t++])<<8;class g{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,s.O0)(e),(0,r.aI)(e,32);const t=d(e,0),n=d(e,2),a=d(e,4),i=d(e,6),o=d(e,8),c=d(e,10),u=d(e,12),l=d(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|a<<6),this.r[3]=8191&(a>>>7|i<<9),this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|c<<2),this.r[7]=8065&(c>>>11|u<<5),this.r[8]=8191&(u>>>8|l<<8),this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=d(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:s,r:a}=this,i=a[0],o=a[1],c=a[2],u=a[3],l=a[4],f=a[5],p=a[6],h=a[7],g=a[8],_=a[9],m=d(e,t+0),b=d(e,t+2),y=d(e,t+4),v=d(e,t+6),S=d(e,t+8),k=d(e,t+10),w=d(e,t+12),O=d(e,t+14);let I=s[0]+(8191&m),E=s[1]+(8191&(m>>>13|b<<3)),N=s[2]+(8191&(b>>>10|y<<6)),B=s[3]+(8191&(y>>>7|v<<9)),x=s[4]+(8191&(v>>>4|S<<12)),D=s[5]+(S>>>1&8191),G=s[6]+(8191&(S>>>14|k<<2)),T=s[7]+(8191&(k>>>11|w<<5)),R=s[8]+(8191&(w>>>8|O<<8)),U=s[9]+(O>>>5|r),F=0,A=F+I*i+E*(5*_)+N*(5*g)+B*(5*h)+x*(5*p);F=A>>>13,A&=8191,A+=D*(5*f)+G*(5*l)+T*(5*u)+R*(5*c)+U*(5*o),F+=A>>>13,A&=8191;let M=F+I*o+E*i+N*(5*_)+B*(5*g)+x*(5*h);F=M>>>13,M&=8191,M+=D*(5*p)+G*(5*f)+T*(5*l)+R*(5*u)+U*(5*c),F+=M>>>13,M&=8191;let j=F+I*c+E*o+N*i+B*(5*_)+x*(5*g);F=j>>>13,j&=8191,j+=D*(5*h)+G*(5*p)+T*(5*f)+R*(5*l)+U*(5*u),F+=j>>>13,j&=8191;let C=F+I*u+E*c+N*o+B*i+x*(5*_);F=C>>>13,C&=8191,C+=D*(5*g)+G*(5*h)+T*(5*p)+R*(5*f)+U*(5*l),F+=C>>>13,C&=8191;let z=F+I*l+E*u+N*c+B*o+x*i;F=z>>>13,z&=8191,z+=D*(5*_)+G*(5*g)+T*(5*h)+R*(5*p)+U*(5*f),F+=z>>>13,z&=8191;let $=F+I*f+E*l+N*u+B*c+x*o;F=$>>>13,$&=8191,$+=D*i+G*(5*_)+T*(5*g)+R*(5*h)+U*(5*p),F+=$>>>13,$&=8191;let V=F+I*p+E*f+N*l+B*u+x*c;F=V>>>13,V&=8191,V+=D*o+G*i+T*(5*_)+R*(5*g)+U*(5*h),F+=V>>>13,V&=8191;let P=F+I*h+E*p+N*f+B*l+x*u;F=P>>>13,P&=8191,P+=D*c+G*o+T*i+R*(5*_)+U*(5*g),F+=P>>>13,P&=8191;let L=F+I*g+E*h+N*p+B*f+x*l;F=L>>>13,L&=8191,L+=D*u+G*c+T*o+R*i+U*(5*_),F+=L>>>13,L&=8191;let q=F+I*_+E*g+N*h+B*p+x*f;F=q>>>13,q&=8191,q+=D*l+G*u+T*c+R*o+U*i,F+=q>>>13,q&=8191,F=(F<<2)+F|0,F=F+A|0,A=8191&F,F>>>=13,M+=F,s[0]=A,s[1]=M,s[2]=j,s[3]=C,s[4]=z,s[5]=$,s[6]=V,s[7]=P,s[8]=L,s[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let s=(1^r)-1;for(let e=0;e<10;e++)n[e]&=s;s=~s;for(let t=0;t<10;t++)e[t]=e[t]&s|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let a=e[0]+t[0];e[0]=65535&a;for(let n=1;n<8;n++)a=(e[n]+t[n]|0)+(a>>>16)|0,e[n]=65535&a}update(e){(0,r.Gg)(this);const{buffer:t,blockLen:n}=this,a=(e=(0,s.O0)(e)).length;for(let r=0;r<a;){const s=Math.min(n-this.pos,a-r);if(s!==n)t.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=a-r;r+=n)this.process(e,r)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){(0,r.Gg)(this),(0,r.J8)(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:s}=this;if(s){for(t[s++]=1;s<16;s++)t[s]=0;this.process(t,0,!0)}this.finalize();let a=0;for(let t=0;t<8;t++)e[a++]=n[t]>>>0,e[a++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const _=function(e){const t=(t,n)=>e(n).update((0,s.O0)(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new g(e)));function m(e,t,n,r,s,a=20){let i=e[0],o=t[0],c=t[1],l=t[2],f=t[3],p=e[1],h=n[0],d=n[1],g=s,_=e[2],m=t[4],b=t[5],y=t[6],v=t[7],S=e[3],k=i,w=o,O=c,I=l,E=f,N=p,B=h,x=d,D=g,G=0,T=_,R=m,U=b,F=y,A=v,M=S;for(let e=0;e<a;e+=2)E^=u(k+U|0,7),D^=u(E+k|0,9),U^=u(D+E|0,13),k^=u(U+D|0,18),G^=u(N+w|0,7),F^=u(G+N|0,9),w^=u(F+G|0,13),N^=u(w+F|0,18),A^=u(T+B|0,7),O^=u(A+T|0,9),B^=u(O+A|0,13),T^=u(B+O|0,18),I^=u(M+R|0,7),x^=u(I+M|0,9),R^=u(x+I|0,13),M^=u(R+x|0,18),w^=u(k+I|0,7),O^=u(w+k|0,9),I^=u(O+w|0,13),k^=u(I+O|0,18),B^=u(N+E|0,7),x^=u(B+N|0,9),E^=u(x+B|0,13),N^=u(E+x|0,18),R^=u(T+G|0,7),D^=u(R+T|0,9),G^=u(D+R|0,13),T^=u(G+D|0,18),U^=u(M+A|0,7),F^=u(U+M|0,9),A^=u(F+U|0,13),M^=u(A+F|0,18);let j=0;r[j++]=i+k|0,r[j++]=o+w|0,r[j++]=c+O|0,r[j++]=l+I|0,r[j++]=f+E|0,r[j++]=p+N|0,r[j++]=h+B|0,r[j++]=d+x|0,r[j++]=g+D|0,r[j++]=0+G|0,r[j++]=_+T|0,r[j++]=m+R|0,r[j++]=b+U|0,r[j++]=y+F|0,r[j++]=v+A|0,r[j++]=S+M|0}const b=h(m,{counterRight:!0,extendNonceFn:function(e,t,n,r){let s=e[0],a=t[0],i=t[1],o=t[2],c=t[3],l=e[1],f=n[0],p=n[1],h=n[2],d=n[3],g=e[2],_=t[4],m=t[5],b=t[6],y=t[7],v=e[3];for(let e=0;e<20;e+=2)c^=u(s+m|0,7),h^=u(c+s|0,9),m^=u(h+c|0,13),s^=u(m+h|0,18),d^=u(l+a|0,7),b^=u(d+l|0,9),a^=u(b+d|0,13),l^=u(a+b|0,18),y^=u(g+f|0,7),i^=u(y+g|0,9),f^=u(i+y|0,13),g^=u(f+i|0,18),o^=u(v+_|0,7),p^=u(o+v|0,9),_^=u(p+o|0,13),v^=u(_+p|0,18),a^=u(s+o|0,7),i^=u(a+s|0,9),o^=u(i+a|0,13),s^=u(o+i|0,18),f^=u(l+c|0,7),p^=u(f+l|0,9),c^=u(p+f|0,13),l^=u(c+p|0,18),_^=u(g+d|0,7),h^=u(_+g|0,9),d^=u(h+_|0,13),g^=u(d+h|0,18),m^=u(v+y|0,7),b^=u(m+v|0,9),y^=u(b+m|0,13),v^=u(y+b|0,18);let S=0;r[S++]=s,r[S++]=l,r[S++]=g,r[S++]=v,r[S++]=f,r[S++]=p,r[S++]=h,r[S++]=d}}),y=(0,s.uU)({blockSize:64,nonceLength:24,tagLength:16},((e,t)=>{const n=16;return(0,r.aI)(e,32),(0,r.aI)(t,24),{encrypt:(s,a)=>{(0,r.aI)(s);const i=s.length+32;a?(0,r.aI)(a,i):a=new Uint8Array(i),a.set(s,32),b(e,t,a,a);const o=a.subarray(0,32),c=_(a.subarray(32),o);return a.set(c,n),a.subarray(0,n).fill(0),a.subarray(n)},decrypt:a=>{(0,r.aI)(a);const i=a.length;if(i<n)throw new Error("encrypted data should be at least 16 bytes");const o=new Uint8Array(i+n);o.set(a,n);const c=b(e,t,new Uint8Array(32)),u=_(o.subarray(32),c);if(!(0,s.Wd)(o.subarray(16,32),u))throw new Error("invalid tag");const l=b(e,t,o);return l.subarray(0,32).fill(0),c.fill(0),l.subarray(32)}}}));function v(e,t){const n=y(e,t);return{seal:n.encrypt,open:n.decrypt}}},95037:(e,t,n)=>{n.d(t,{kP:()=>a,x0:()=>i});var r=n(90078);let s=e=>crypto.getRandomValues(new Uint8Array(e)),a=(e,t=21)=>((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,s=-~(1.6*r*t/e.length);return(a=t)=>{let i="";for(;;){let t=n(s),o=s;for(;o--;)if(i+=e[t[o]&r]||"",i.length===a)return i}}})(e,t,s),i=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=r.Q[63&n[e]];return t}},90078:(e,t,n)=>{n.d(t,{Q:()=>r});const r="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"},23486:(e,t,n)=>{n.d(t,{kb:()=>u,oY:()=>o,U5:()=>f,GL:()=>s,O6:()=>h,np:()=>a,O0:()=>c,hE:()=>p});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),a=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const i=async()=>{};async function o(e,t,n){let r=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-r;e>=0&&e<t||(await i(),r+=e)}}function c(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!((t=e)instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name))throw new Error("expected Uint8Array, got "+typeof e);var t;return e}class u{clone(){return this._cloneInto()}}const l={}.toString;function f(e,t){if(void 0!==t&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function p(e){const t=t=>e().update(c(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function h(e=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},53954:(e,t,n)=>{n.d(t,{CZ:()=>v,Fv:()=>b,Hv:()=>p,Sy:()=>h,WU:()=>k,nM:()=>w,xP:()=>O});var r=n(67492),s=n(27786),a=n(17316),i=n(89379),o=n(16371),c=n(92817),u=n(71335);const l=Symbol.for("effect/BigDecimal"),f={[l]:l,[i.NA](){const e=b(this);return(0,a.zG)(i.vp(e.value),i.$e(i.Rx(e.scale)),i.HX(this))},[r.NA](e){return p(e)&&S(this,e)},toString(){return`BigDecimal(${k(this)})`},toJSON(){return{_id:"BigDecimal",value:String(this.value),scale:this.scale}},[o.j5](){return this.toJSON()},pipe(){return(0,c.n)(this,arguments)}},p=e=>(0,u.l$)(e,l),h=(e,t)=>{const n=Object.create(f);return n.value=e,n.scale=t,n},d=(e,t)=>{if(e!==g&&e%_===g)throw new RangeError("Value must be normalized");const n=h(e,t);return n.normalized=n,n},g=BigInt(0),_=BigInt(10),m=d(g,0),b=e=>{if(void 0===e.normalized)if(e.value===g)e.normalized=m;else{const t=`${e.value}`;let n=0;for(let e=t.length-1;e>=0&&"0"===t[e];e--)n++;0===n&&(e.normalized=e);const r=BigInt(t.substring(0,t.length-n)),s=e.scale-n;e.normalized=d(r,s)}return e.normalized},y=(e,t)=>t>e.scale?h(e.value*_**BigInt(t-e.scale),t):t<e.scale?h(e.value/_**BigInt(e.scale-t),t):e,v=s.Sy(((e,t)=>e.scale>t.scale?y(t,e.scale).value===e.value:e.scale<t.scale?y(e,t.scale).value===t.value:e.value===t.value)),S=(0,a.OB)(2,((e,t)=>v(e,t))),k=e=>{const t=e.value<g,n=t?`${e.value}`.substring(1):`${e.value}`;let r,s;if(e.scale>=n.length)r="0",s="0".repeat(e.scale-n.length)+n;else{const t=n.length-e.scale;if(t>n.length){const e=t-n.length;r=`${n}${"0".repeat(e)}`,s=""}else s=n.slice(t),r=n.slice(0,t)}const a=""===s?r:`${r}.${s}`;return t?`-${a}`:a},w=e=>e.value<g,O=e=>e.value>g},85431:(e,t,n)=>{n.d(t,{UD:()=>r});const r=Symbol.for("effect/Brand/Refined")},14109:(e,t,n)=>{n.d(t,{AO:()=>w,Ce:()=>x,Cw:()=>D,EE:()=>S,GY:()=>O,JN:()=>E,MH:()=>N,Od:()=>R,R3:()=>B,YM:()=>U,cS:()=>y,dK:()=>A,fm:()=>M,nx:()=>F,of:()=>v,oq:()=>G,xb:()=>T});var r=n(67492),s=n(27786),a=n(17316),i=n(89379),o=n(16371),c=n(16749),u=n(92817),l=n(71335),f=n(99768);const p=Symbol.for("effect/Chunk"),h=[],d=(e=>s.Sy(((t,n)=>t.length===n.length&&w(t).every(((t,r)=>e(t,N(n,r)))))))(r.fS),g={[p]:{_A:e=>e},toString(){return(0,o.WU)(this.toJSON())},toJSON(){return{_id:"Chunk",values:w(this).map(o.au)}},[o.j5](){return this.toJSON()},[r.NA](e){return m(e)&&d(this,e)},[i.NA](){return i.HX(this,i.IX(w(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return h[Symbol.iterator]();default:return w(this)[Symbol.iterator]()}},pipe(){return(0,u.n)(this,arguments)}},_=e=>{const t=Object.create(g);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=b,t.right=b;break;case"ISingleton":t.length=1,t.depth=0,t.left=b,t.right=b;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=b,t.right=b}return t},m=e=>(0,l.l$)(e,p),b=_({_tag:"IEmpty"}),y=()=>b,v=e=>_({_tag:"ISingleton",a:e}),S=e=>m(e)?e:_({_tag:"IArray",array:f.EE(e)}),k=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function(e,t,n,r,s){for(let t=0;t<Math.min(e.length,0+s);t++)n[r+t-0]=e[t]}(e.backing.array,0,t,n,e.length);break;case"IConcat":k(e.left,t,n),k(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,s=n;for(;r<e.length;)t[s]=N(e,r),r+=1,s+=1;break}}},w=e=>{switch(e.backing._tag){case"IEmpty":return h;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return k(e,t,0),e.backing={_tag:"IArray",array:t},e.left=b,e.right=b,e.depth=0,t}}},O=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return _({_tag:"IArray",array:f.GY(e.backing.array)});case"IConcat":return _({_tag:"IConcat",left:O(e.backing.right),right:O(e.backing.left)});case"ISlice":return E(f.GY(w(e)))}},I=(0,a.OB)(2,((e,t)=>t<0||t>=e.length?c.YP():c.G(N(e,t)))),E=e=>_({_tag:"IArray",array:e}),N=(0,a.OB)(2,((e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?N(e.left,t):N(e.right,t-e.left.length);case"ISlice":return N(e.backing.chunk,t+e.backing.offset)}})),B=(0,a.OB)(2,((e,t)=>G(e,v(t)))),x=(0,a.OB)(2,((e,t)=>G(v(t),e))),D=(0,a.OB)(2,((e,t)=>{if(t<=0)return e;if(t>=e.length)return b;switch(e.backing._tag){case"ISlice":return _({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?D(e.right,t-e.left.length):_({_tag:"IConcat",left:D(e.left,t),right:e.right});default:return _({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}})),G=(0,a.OB)(2,((e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return _({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const n=G(e.right,t);return _({_tag:"IConcat",left:e.left,right:n})}{const n=G(e.right.right,t);if(n.depth===e.depth-3){const t=_({_tag:"IConcat",left:e.right.left,right:n});return _({_tag:"IConcat",left:e.left,right:t})}{const t=_({_tag:"IConcat",left:e.left,right:e.right.left});return _({_tag:"IConcat",left:t,right:n})}}}if(t.right.depth>=t.left.depth){const n=G(e,t.left);return _({_tag:"IConcat",left:n,right:t.right})}{const n=G(e,t.left.left);if(n.depth===t.depth-3){const e=_({_tag:"IConcat",left:n,right:t.left.right});return _({_tag:"IConcat",left:e,right:t.right})}{const e=_({_tag:"IConcat",left:t.left.right,right:t.right});return _({_tag:"IConcat",left:n,right:e})}}})),T=e=>0===e.length,R=e=>e.length>0,U=I(0),F=e=>N(e,0),A=F,M=e=>D(e,1);f.r3,f.hr,f.Ew,f.ln,f.dF,f.qr,f.v_,f.u4,f.nq},9605:(e,t,n)=>{n.d(t,{Nl:()=>o,SU:()=>u,UA:()=>c,_v:()=>a,b4:()=>i});var r=n(53318),s=n(74266);r.uh,r.Sy;const a=s._v,i=s.b4,o=s.Nl,c=s.UA,u=r.GL},20591:(e,t,n)=>{n.d(t,{IH:()=>u,MH:()=>f,PI:()=>a,Rl:()=>p,Sy:()=>c,TS:()=>h,U2:()=>l,YR:()=>i,cS:()=>o,hV:()=>s});var r=n(40197);r.Og;const s=r.uq,a=(r.aC,r.fC,r.PI),i=r.YR,o=r.cS,c=r.Sy,u=r.IH,l=r.U2,f=r.MH,p=r.Rl,h=r.TS;r.ei,r.CE,r.Vp},72022:(e,t,n)=>{n.d(t,{Uz:()=>s,aT:()=>a,e1:()=>i,t0:()=>o});var r=n(10218);n(32387).zD,r.kPu,r.HZA;const s=r.Odg,a=(r.klV,r.KwY,r.J9x),i=(r.S5h,r.i26,r.yd6,r.HSD,r.pB5,r.skT,r.$cv),o=(r.n86,r.re6,r.gKZ,r.QtZ,r.UnW,r.OJ4);r.zxF},13571:(e,t,n)=>{n.d(t,{CZ:()=>T,Fd:()=>v,Jx:()=>h,LK:()=>I,P4:()=>B,Ti:()=>k,YX:()=>w,_9:()=>b,an:()=>N,bM:()=>y,eq:()=>x,i4:()=>E,m9:()=>O,o6:()=>S,wZ:()=>R});var r=n(67492),s=n(17316),a=n(89379),i=n(16371),o=n(92817),c=n(71335);const u=Symbol.for("effect/Duration"),l=BigInt(1e3),f=BigInt(1e9),p=/^(-?\d+(?:\.\d+)?)\s+(nanos|micros|millis|seconds|minutes|hours|days|weeks)$/,h=e=>{if(b(e))return e;if((0,c.hj)(e))return w(e);if((0,c.C4)(e))return S(e);if(Array.isArray(e)){if(2===e.length&&(0,c.hj)(e[0])&&(0,c.hj)(e[1]))return S(BigInt(e[0])*f+BigInt(e[1]))}else{p.lastIndex=0;const t=p.exec(e);if(t){const[e,n,r]=t,s=Number(n);switch(r){case"nanos":return S(BigInt(n));case"micros":return k(BigInt(n));case"millis":return w(s);case"seconds":return O(s);case"minutes":return I(s);case"hours":return E(s);case"days":return N(s);case"weeks":return B(s)}}}throw new Error("Invalid duration input")},d={_tag:"Millis",millis:0},g={_tag:"Infinity"},_={[u]:u,[a.NA](){return a.HX(this,a.Fh(this.value))},[r.NA](e){return b(e)&&U(this,e)},toString(){return`Duration(${F(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:D(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[i.j5](){return this.toJSON()},pipe(){return(0,o.n)(this,arguments)}},m=e=>{const t=Object.create(_);return(0,c.hj)(e)?isNaN(e)||e<0?t.value=d:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:t.value=g:e<BigInt(0)?t.value=d:t.value={_tag:"Nanos",nanos:e},t},b=e=>(0,c.l$)(e,u),y=m(0),v=m(1/0),S=e=>m(e),k=e=>m(e*l),w=e=>m(e),O=e=>m(1e3*e),I=e=>m(6e4*e),E=e=>m(36e5*e),N=e=>m(864e5*e),B=e=>m(6048e5*e),x=e=>{const t=h(e);switch(t.value._tag){case"Infinity":return 1/0;case"Nanos":return Number(t.value.nanos)/1e6;case"Millis":return t.value.millis}},D=e=>{const t=h(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/f),Number(t.value.nanos%f)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},G=(0,s.OB)(3,((e,t,n)=>{const r=h(e),s=h(t);if("Infinity"===r.value._tag||"Infinity"===s.value._tag)return n.onMillis(x(r),x(s));if("Nanos"===r.value._tag||"Nanos"===s.value._tag){const e="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),t="Nanos"===s.value._tag?s.value.nanos:BigInt(Math.round(1e6*s.value.millis));return n.onNanos(e,t)}return n.onMillis(r.value.millis,s.value.millis)})),T=(e,t)=>G(e,t,{onMillis:(e,t)=>e===t,onNanos:(e,t)=>e===t}),R=(0,s.OB)(2,((e,t)=>G(e,t,{onMillis:(e,t)=>e>=t,onNanos:(e,t)=>e>=t}))),U=(0,s.OB)(2,((e,t)=>T(h(e),h(t)))),F=e=>{const t=h(e),n=[];if("Infinity"===t.value._tag)return"Infinity";const r=(e=>{const t=h(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t);r%1000000n&&n.push(r%1000000n+"ns");const s=r/1000000n;s%1000n!==0n&&n.push(s%1000n+"ms");const a=s/1000n;a%60n!==0n&&n.push(a%60n+"s");const i=a/60n;i%60n!==0n&&n.push(i%60n+"m");const o=i/60n;o%24n!==0n&&n.push(o%24n+"h");const c=o/24n;return 0n!==c&&n.push(`${c}d`),n.reverse().join(" ")}},87585:(e,t,n)=>{n.d(t,{EQ:()=>d,F2:()=>i,FT:()=>l,G$:()=>_,JH:()=>u,TS:()=>g,Vn:()=>h,Yo:()=>c,nM:()=>f,t$:()=>o,tO:()=>p});var r=n(17316),s=n(75974),a=n(71335);s.aC;const i=s.F2,o=s.t$,c=s.Yo,u=e=>{if((0,a.mf)(e))try{return i(e())}catch(e){return o(e)}else try{return i(e.try())}catch(t){return o(e.catch(t))}},l=s.FT,f=s.nM,p=s.tO,h=(s.EK,s.IS,(0,r.OB)(2,((e,t)=>f(e)?o(t(e.left)):i(e.right)))),d=(0,r.OB)(2,((e,{onLeft:t,onRight:n})=>f(e)?t(e.left):n(e.right))),g=d({onLeft:r.yR,onRight:r.yR}),_=(0,r.OB)(2,((e,t)=>{if(p(e))return e.right;throw t(e.left)}))},40575:(e,t,n)=>{n.d(t,{NV:()=>_,fr:()=>b,QT:()=>v,oF:()=>g,Mp:()=>m,U$:()=>y});var r=n(87585),s=n(71335);const a=Symbol.for("effect/Encoding/errors/Decode"),i=(e,t)=>{const n={_tag:"DecodeException",[a]:a,input:e};return(0,s.HD)(t)&&(n.message=t),n},o=new TextEncoder,c=e=>{const t=e.length;let n,r="";for(n=2;n<t;n+=3)r+=f[e[n-2]>>2],r+=f[(3&e[n-2])<<4|e[n-1]>>4],r+=f[(15&e[n-1])<<2|e[n]>>6],r+=f[63&e[n]];return n===t+1&&(r+=f[e[n-2]>>2],r+=f[(3&e[n-2])<<4],r+="=="),n===t&&(r+=f[e[n-2]>>2],r+=f[(3&e[n-2])<<4|e[n-1]>>4],r+=f[(15&e[n-1])<<2],r+="="),r},u=e=>{const t=e.length;if(t%4!=0)return r.t$(i(e,`Length must be a multiple of 4, but is ${t}`));const n=e.indexOf("=");if(-1!==n&&(n<t-2||n===t-2&&"="!==e[t-1]))return r.t$(i(e,"Found a '=' character, but it is not at the end"));try{const n=e.endsWith("==")?2:e.endsWith("=")?1:0,s=new Uint8Array(t/4*3);for(let n=0,r=0;n<t;n+=4,r+=3){const t=l(e.charCodeAt(n))<<18|l(e.charCodeAt(n+1))<<12|l(e.charCodeAt(n+2))<<6|l(e.charCodeAt(n+3));s[r]=t>>16,s[r+1]=t>>8&255,s[r+2]=255&t}return r.F2(s.subarray(0,s.length-n))}catch(t){return r.t$(i(e,t instanceof Error?t.message:"Invalid input"))}};function l(e){if(e>=p.length)throw new TypeError(`Invalid character ${String.fromCharCode(e)}`);const t=p[e];if(255===t)throw new TypeError(`Invalid character ${String.fromCharCode(e)}`);return t}const f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],p=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],d=e=>{if(48<=e&&e<=57)return e-48;if(97<=e&&e<=102)return e-97+10;if(65<=e&&e<=70)return e-65+10;throw new TypeError("Invalid input")},g=e=>c("string"==typeof e?o.encode(e):e),_=e=>u(e),m=e=>{return t="string"==typeof e?o.encode(e):e,c(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var t},b=e=>(e=>{const t=e.length;if(t%4==1)return r.t$(i(e,`Length should be a multiple of 4, but is ${t}`));if(!/^[-_A-Z0-9]*?={0,2}$/i.test(e))return r.t$(i(e,"Invalid input"));let n=t%4==2?`${e}==`:t%4==3?`${e}=`:e;return n=n.replace(/-/g,"+").replace(/_/g,"/"),u(n)})(e),y=e=>(e=>{let t="";for(let n=0;n<e.length;++n)t+=h[e[n]];return t})("string"==typeof e?o.encode(e):e),v=e=>(e=>{const t=(new TextEncoder).encode(e);if(t.length%2!=0)return r.t$(i(e,`Length must be a multiple of 2, but is ${t.length}`));try{const e=t.length/2,n=new Uint8Array(e);for(let r=0;r<e;r++){const e=d(t[2*r]),s=d(t[2*r+1]);n[r]=e<<4|s}return r.F2(n)}catch(t){return r.t$(i(e,t instanceof Error?t.message:"Invalid input"))}})(e)},67492:(e,t,n)=>{n.d(t,{DE:()=>u,NA:()=>a,Xy:()=>c,fS:()=>i});var r=n(89379),s=n(71335);const a=Symbol.for("effect/Equal");function i(){return 1===arguments.length?e=>o(e,arguments[0]):o(arguments[0],arguments[1])}function o(e,t){if(e===t)return!0;const n=typeof e;return n===typeof t&&!("object"!==n&&"function"!==n||null===e||null===t||!c(e)||!c(t))&&r.vp(e)===r.vp(t)&&e[a](t)}const c=e=>(0,s.l$)(e,a),u=()=>i},57303:(e,t,n)=>{n.d(t,{$e:()=>c,GZ:()=>a,Q9:()=>f,YP:()=>s,ez:()=>o,fS:()=>u,h$:()=>i,r$:()=>l,t0:()=>p});var r=n(26219);r.aC;const s=r.YP,a=r.GZ,i=r.h$,o=r.ez,c=(r.Wi,r.X9,r.k2,r.$e),u=(r.c3,r.fS),l=r.r$,f=(r.Sy,r.Q9),p=(r.Er,r.Rg,r.t0)},6639:(e,t,n)=>{n.d(t,{Ao:()=>i,Bi:()=>o,CJ:()=>a,U2:()=>s,cS:()=>u,iW:()=>c});var r=n(79049);r.iH,r.$v,r.$x,r.xN;const s=r.U2,a=r.CJ,i=r.Ao,o=r.Bi,c=(r.SJ,r.iW),u=(r.t0,r.cS)},58714:(e,t,n)=>{n.d(t,{Hg:()=>s,r$:()=>a});var r=n(2108);r.cS;const s=r.Hg,a=(r.$e,r.r$)},23780:(e,t,n)=>{n.d(t,{aT:()=>m,_b:()=>v,An:()=>S,sy:()=>k,wC:()=>b,rv:()=>y});var r=n(67492),s=n(17316),a=n(89379),i=n(71335);const o="effect/FiberStatus",c=Symbol.for(o),u="Done",l="Running",f="Suspended",p=a.Z_(`${o}-${u}`);class h{[c]=c;_tag=u;[a.NA](){return p}[r.NA](e){return _(e)&&e._tag===u}}class d{runtimeFlags;[c]=c;_tag=l;constructor(e){this.runtimeFlags=e}[a.NA](){return(0,s.zG)(a.vp(o),a.$e(a.vp(this._tag)),a.$e(a.vp(this.runtimeFlags)),a.HX(this))}[r.NA](e){return _(e)&&e._tag===l&&this.runtimeFlags===e.runtimeFlags}}class g{runtimeFlags;blockingOn;[c]=c;_tag=f;constructor(e,t){this.runtimeFlags=e,this.blockingOn=t}[a.NA](){return(0,s.zG)(a.vp(o),a.$e(a.vp(this._tag)),a.$e(a.vp(this.runtimeFlags)),a.$e(a.vp(this.blockingOn)),a.HX(this))}[r.NA](e){return _(e)&&e._tag===f&&this.runtimeFlags===e.runtimeFlags&&r.fS(this.blockingOn,e.blockingOn)}}const _=e=>(0,i.l$)(e,c),m=new h,b=e=>new d(e),y=(e,t)=>new g(e,t),v=e=>e._tag===u,S=e=>e._tag===l,k=e=>e._tag===f},17316:(e,t,n)=>{n.d(t,{OB:()=>s,Q1:()=>l,Rz:()=>f,W8:()=>o,a9:()=>i,jv:()=>c,mf:()=>r,r5:()=>u,yR:()=>a,zG:()=>p});const r=e=>"function"==typeof e,s=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):e=>t(e,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(e,n){return arguments.length>=2?t(e,n):function(n){return t(n,e)}};case 3:return function(e,n,r){return arguments.length>=3?t(e,n,r):function(r){return t(r,e,n)}};case 4:return function(e,n,r,s){return arguments.length>=4?t(e,n,r,s):function(s){return t(s,e,n,r)}};case 5:return function(e,n,r,s,a){return arguments.length>=5?t(e,n,r,s,a):function(a){return t(a,e,n,r,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(e){return t(e,...n)}}}},a=e=>e,i=e=>()=>e,o=i(!0),c=i(!1),u=i(void 0),l=u,f=e=>{throw new Error("Called `absurd` function which should be uncallable")};function p(e,t,n,r,s,a,i,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return s(r(n(t(e))));case 6:return a(s(r(n(t(e)))));case 7:return i(a(s(r(n(t(e))))));case 8:return o(i(a(s(r(n(t(e)))))));case 9:return c(o(i(a(s(r(n(t(e))))))));default:{let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return e}}}},4726:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(69500);const s=Symbol.for(`effect/GlobalValue/globalStoreId/${r.w()}`);s in globalThis||(globalThis[s]=new Map);const a=globalThis[s],i=(e,t)=>(a.has(e)||a.set(e,t()),a.get(e))},89379:(e,t,n)=>{n.d(t,{$e:()=>p,Fh:()=>m,HX:()=>y,IX:()=>b,MX:()=>f,NA:()=>u,Rx:()=>g,Z_:()=>_,vp:()=>l});var r=n(17316),s=n(4726),a=n(71335),i=n(70762);const o=(0,s.K)(Symbol.for("effect/Hash/randomHashCache"),(()=>new WeakMap)),c=(0,s.K)(Symbol.for("effect/Hash/pcgr"),(()=>new i.Mc)),u=Symbol.for("effect/Hash"),l=e=>{switch(typeof e){case"number":return g(e);case"bigint":return _(e.toString(10));case"boolean":case"symbol":return _(String(e));case"string":return _(e);case"undefined":return _("undefined");case"function":case"object":return null===e?_("null"):d(e)?e[u]():f(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},f=e=>(o.has(e)||o.set(e,g(c.integer(Number.MAX_SAFE_INTEGER))),o.get(e)),p=e=>t=>53*t^e,h=e=>3221225471&e|e>>>1&1073741824,d=e=>(0,a.l$)(e,u),g=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return h(e)},_=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return h(t)},m=e=>((e,t)=>{let n=12289;for(let s=0;s<t.length;s++)n^=(0,r.zG)(_(t[s]),p(l(e[t[s]])));return h(n)})(e,Object.keys(e)),b=e=>{let t=6151;for(let n=0;n<e.length;n++)t=(0,r.zG)(t,p(l(e[n])));return h(t)},y=function(){if(1===arguments.length){const e=arguments[0];return function(t){return Object.defineProperty(e,u,{value:()=>t,enumerable:!1}),t}}const e=arguments[0],t=arguments[1];return Object.defineProperty(e,u,{value:()=>t,enumerable:!1}),t}},98438:(e,t,n)=>{n.d(t,{cS:()=>s,Ed:()=>d,EE:()=>i,U2:()=>c,xb:()=>o,XP:()=>l,Sy:()=>a,UI:()=>h,u4:()=>g,Od:()=>p,t8:()=>u,dp:()=>f});var r=n(3493);n(686),r.yh,r.c8;const s=r.cS,a=r.Sy,i=r.EE,o=r.xb,c=r.U2,u=(r.XR,r.MH,r.e$,r.u9,r.t8),l=r.XP,f=(r.VO,r.qh,r.dp),p=(r.iy,r.Rx,r.JG,r.cq,r.Hp,r.Pj,r.G0,r.Od),h=(r.CS,r.UI),d=(r.VS,r.Ed),g=r.u4;r.hX,r.oA,r.DZ,r.Ew},9551:(e,t,n)=>{n.d(t,{EE:()=>a,G0:()=>h,IH:()=>l,Od:()=>f,Sy:()=>i,UI:()=>d,VS:()=>g,cS:()=>s,dp:()=>u,e$:()=>o,e5:()=>p,u4:()=>_,yW:()=>c});var r=n(686);r.TG,r.Tx;const s=r.cS,a=r.EE,i=r.Sy,o=r.e$,c=(r.G,r.yW),u=(r.KX,r.VO,r.dp),l=(r.iy,r.Rx,r.JG,r.IH),f=r.Od,p=r.e5,h=(r.jV,r.G0),d=(r.ZN,r.UI),g=r.VS,_=(r.Ed,r.u4);r.hX,r.uK},16371:(e,t,n)=>{n.d(t,{WU:()=>i,au:()=>a,j5:()=>s});var r=n(71335);const s=Symbol.for("nodejs.util.inspect.custom"),a=e=>(0,r.l$)(e,"toJSON")&&(0,r.mf)(e.toJSON)&&0===e.toJSON.length?e.toJSON():Array.isArray(e)?e.map(a):e,i=e=>JSON.stringify(e,null,2)},16104:(e,t,n)=>{n.d(t,{Ce:()=>E,GY:()=>x,QI:()=>k,cS:()=>w,hg:()=>S,kK:()=>v,of:()=>O,oq:()=>I,u4:()=>B});var r=n(67492),s=n(27786),a=n(17316),i=n(89379),o=n(16371),c=n(92817),u=n(71335),l=n(99768);const f=Symbol.for("effect/List"),p=e=>Array.from(e),h=(e=>s.$H(l.c5(e),p))(r.fS),d={[f]:f,_tag:"Cons",toString(){return(0,o.WU)(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:p(this).map(o.au)}},[o.j5](){return this.toJSON()},[r.NA](e){return y(e)&&this._tag===e._tag&&h(this,e)},[i.NA](){return i.HX(this,i.IX(p(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:t=>(e||(e=!0),{done:!0,value:t})}},pipe(){return(0,c.n)(this,arguments)}},g=(e,t)=>{const n=Object.create(d);return n.head=e,n.tail=t,n},_=i.Z_("Nil"),m={[f]:f,_tag:"Nil",toString(){return(0,o.WU)(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[o.j5](){return this.toJSON()},[i.NA]:()=>_,[r.NA](e){return y(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return(0,c.n)(this,arguments)}},b=Object.create(m),y=e=>(0,u.l$)(e,f),v=e=>"Nil"===e._tag,S=e=>"Cons"===e._tag,k=(e,t)=>g(e,t),w=()=>b,O=e=>g(e,b),I=(0,a.OB)(2,((e,t)=>N(t,e))),E=(0,a.OB)(2,((e,t)=>k(t,e))),N=(0,a.OB)(2,((e,t)=>{if(v(e))return t;if(v(t))return e;{const n=g(t.head,e);let r=n,s=t.tail;for(;!v(s);){const t=g(s.head,e);r.tail=t,r=t,s=s.tail}return n}})),B=(0,a.OB)(3,((e,t,n)=>{let r=t,s=e;for(;!v(s);)r=n(r,s.head),s=s.tail;return r})),x=e=>{let t=w(),n=e;for(;!v(n);)t=E(t,n.head),n=n.tail;return t}},69783:(e,t,n)=>{n.d(t,{Gu:()=>c,cG:()=>p,fM:()=>h,ik:()=>m,jj:()=>u,kI:()=>f,tS:()=>_,v3:()=>l});var r=n(17316),s=n(10218),a=n(15839),i=n(51988);const o=s.V_D,c=s._7M,u=s.Ngl,l=s.RX8,f=s.xUq,p=s.M2X,h=s.Lth,d=s.R$E,g=(s.N8w,(0,r.zG)(a.KM,i.$H((e=>e.ordinal)))),_=i.tS(g),m=e=>{switch(e){case"All":return o;case"Debug":return p;case"Error":return u;case"Fatal":return c;case"Info":return f;case"Trace":return h;case"None":return d;case"Warning":return l}}},28074:(e,t,n)=>{n.d(t,{S:()=>r,s:()=>s});const r=(e,t)=>({label:e,startTime:t}),s=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`},8506:(e,t,n)=>{n.d(t,{AD:()=>d,S3:()=>h});var r=n(87585),s=n(17316),a=(n(16749),n(92817));const i=Symbol.for("@effect/matcher/Matcher"),o={[i]:{_input:s.yR,_filters:s.yR,_remaining:s.yR,_result:s.yR},_tag:"TypeMatcher",add(e){return function(e){const t=Object.create(o);return t.cases=e,t}([...this.cases,e])},pipe(){return(0,a.n)(this,arguments)}};const c={[i]:{_input:s.yR,_filters:s.yR,_result:s.yR},_tag:"ValueMatcher",add(e){return"Right"===this.value._tag?this:"When"===e._tag&&!0===e.guard(this.provided)||"Not"===e._tag&&!1===e.guard(this.provided)?u(this.provided,r.F2(e.evaluate(this.provided))):this},pipe(){return(0,a.n)(this,arguments)}};function u(e,t){const n=Object.create(c);return n.provided=e,n.value=t,n}const l=(e=>t=>{const n=(e=>t=>{const n={_tag:"When",guard:n=>n[e]in t,evaluate:n=>t[n[e]](n)};return e=>e.add(n)})(e)(t);return e=>f(n(e))})("_tag"),f=e=>{const t=(e=>{if("ValueMatcher"===e._tag)return e.value;const t=e.cases.length;if(1===t){const t=e.cases[0];return e=>"When"===t._tag&&!0===t.guard(e)||"Not"===t._tag&&!1===t.guard(e)?r.F2(t.evaluate(e)):r.t$(e)}return n=>{for(let s=0;s<t;s++){const t=e.cases[s];if("When"===t._tag&&!0===t.guard(n))return r.F2(t.evaluate(n));if("Not"===t._tag&&!1===t.guard(n))return r.F2(t.evaluate(n))}return r.t$(n)}})(e);if(r.FT(t)){if("Right"===t._tag)return t.right;throw new Error("@effect/match: exhaustive absurd")}return e=>{const n=t(e);if("Right"===n._tag)return n.right;throw new Error("@effect/match: exhaustive absurd")}};var p=n(71335);const h=e=>u(e,r.t$(e)),d=l;p.HD,p.hj,p.jn,p.o8,p.Ft,p.C4,p.yk,p.J_,p.Uy},30424:(e,t,n)=>{n.d(t,{Od:()=>y,U2:()=>d,cS:()=>h,dp:()=>v,e$:()=>_,t8:()=>m});var r=n(67492),s=n(17316),a=n(89379),i=n(16371),o=n(16749),c=n(92817);const u=Symbol.for("effect/MutableHashMap"),l={[u]:u,[Symbol.iterator](){return new f(this)},toString(){return(0,i.WU)(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(i.au)}},[i.j5](){return this.toJSON()},pipe(){return(0,c.n)(this,arguments)}};class f{self;referentialIterator;bucketIterator;constructor(e){this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new p(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new f(this.self)}}class p{backing;constructor(e){this.backing=e}currentBucket;next(){if(void 0===this.currentBucket){const e=this.backing.next();if(e.done)return e;this.currentBucket=e.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const h=()=>{const e=Object.create(l);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},d=(0,s.OB)(2,((e,t)=>{if(!1===r.Xy(t))return e.referential.has(t)?o.G(e.referential.get(t)):o.YP();const n=t[a.NA](),s=e.buckets.get(n);return void 0===s?o.YP():g(e,s,t)})),g=(e,t,n,s=!1)=>{for(let a=0,i=t.length;a<i;a++)if(n[r.NA](t[a][0])){const n=t[a][1];return s&&(t.splice(a,1),e.bucketsSize--),o.G(n)}return o.YP()},_=(0,s.OB)(2,((e,t)=>o.pC(d(e,t)))),m=(0,s.OB)(3,((e,t,n)=>{if(!1===r.Xy(t))return e.referential.set(t,n),e;const s=t[a.NA](),i=e.buckets.get(s);return void 0===i?(e.buckets.set(s,[[t,n]]),e.bucketsSize++,e):(b(e,i,t),i.push([t,n]),e.bucketsSize++,e)})),b=(e,t,n)=>{for(let s=0,a=t.length;s<a;s++)if(n[r.NA](t[s][0]))return t.splice(s,1),void e.bucketsSize--},y=(0,s.OB)(2,((e,t)=>{if(!1===r.Xy(t))return e.referential.delete(t),e;const n=t[a.NA](),s=e.buckets.get(n);return void 0===s||(b(e,s,t),0===s.length&&e.buckets.delete(n)),e})),v=e=>e.referential.size+e.bucketsSize},23182:(e,t,n)=>{n.d(t,{Sy:()=>u,U2:()=>f,t8:()=>p,te:()=>l});var r=n(67492),s=n(17316),a=n(16371),i=n(92817);const o=Symbol.for("effect/MutableRef"),c={[o]:o,toString(){return(0,a.WU)(this.toJSON())},toJSON(){return{_id:"MutableRef",current:(0,a.au)(this.current)}},[a.j5](){return this.toJSON()},pipe(){return(0,i.n)(this,arguments)}},u=e=>{const t=Object.create(c);return t.current=e,t},l=s.OB(3,((e,t,n)=>!!r.fS(t,e.current)&&(e.current=n,!0))),f=e=>e.current,p=s.OB(2,((e,t)=>(e.current=t,e)))},16749:(e,t,n)=>{n.d(t,{EK:()=>p,EQ:()=>f,G:()=>c,UI:()=>y,VS:()=>v,Wi:()=>u,YP:()=>o,eZ:()=>m,fS:()=>h,gf:()=>b,ij:()=>g,jD:()=>_,pC:()=>l,qo:()=>S,r3:()=>k,vx:()=>d});var r=n(67492),s=n(17316),a=n(75974),i=n(70602);const o=()=>i.YP,c=i.G,u=(i.Kn,i.Wi),l=i.pC,f=(0,s.OB)(2,((e,{onNone:t,onSome:n})=>u(e)?t():n(e.value))),p=a.EK,h=(a.IS,(0,s.OB)(2,((e,t)=>u(e)?t():e.value))),d=(0,s.OB)(2,((e,t)=>u(e)?t():e)),g=e=>null==e?o():c(e),_=h(s.r5),m=e=>(...t)=>{try{return c(e(...t))}catch(e){return o()}},b=(0,s.OB)(2,((e,t)=>{if(l(e))return e.value;throw t()}))((()=>new Error("getOrThrow called on a None"))),y=(0,s.OB)(2,((e,t)=>u(e)?o():c(t(e.value)))),v=(0,s.OB)(2,((e,t)=>u(e)?o():t(e.value))),S=e=>u(e)?[]:[e.value],k=(e=>(0,s.OB)(2,((t,n)=>!u(t)&&e(t.value,n))))(r.DE())},92817:(e,t,n)=>{n.d(t,{n:()=>r});const r=(e,t)=>{switch(t.length){case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let e=0,r=t.length;e<r;e++)n=t[e](n);return n}}}},78230:(e,t,n)=>{n.d(t,{Yz:()=>s});var r=n(17316);Object.fromEntries;const s=(0,r.OB)(2,((e,t)=>{const n=[];for(const r of a(e))n.push(t(r,e[r]));return n}))(((e,t)=>[e,t])),a=e=>Object.keys(e)},2532:(e,t,n)=>{n.d(t,{Pj:()=>o,Sy:()=>s,U2:()=>a,Vx:()=>c,yO:()=>i});var r=n(7411);r.n7;const s=r.Sy,a=r.U2,i=r.yO,o=(r.CX,r.HC,r.Pj),c=(r.Of,r.t8,r.Dg,r.Vx);r.J5,r.nZ,r.NY,r.t0},26045:(e,t,n)=>{n.d(t,{De:()=>c,cS:()=>a,h$:()=>o,wp:()=>i});var r=n(4536),s=n(43886);const a=s.cS,i=(s.Sy,s.wp),o=s.h$,c=(s.xb,s.zh,s._k,s.pK,s.zh,s.Po,s.Hk,s.wE,s.De);s.SO,r.Q6,r.Wu,r.yI},48611:(e,t,n)=>{n.d(t,{Jx:()=>o,y3:()=>c,aT:()=>u,Jg:()=>l,_b:()=>f});var r=n(14109),s=n(18639);const a="Continue",i="Done",o=e=>({_tag:a,intervals:e}),c=e=>({_tag:a,intervals:s.Sy(r.of(e))}),u={_tag:i},l=e=>e._tag===a,f=e=>e._tag===i},64403:(e,t,n)=>{n.d(t,{e4:()=>g,cS:()=>f,wf:()=>d,xb:()=>h,Qj:()=>p,Sy:()=>l}),n(13571);var r=n(17316);n(16749);const s=Symbol.for("effect/ScheduleInterval"),a={[s]:s,startMillis:0,endMillis:0},i=(e,t)=>e>t?a:{[s]:s,startMillis:e,endMillis:t},o=(0,r.OB)(2,((e,t)=>c(e,t)===e)),c=(0,r.OB)(2,((e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t)),u=(0,r.OB)(2,((e,t)=>{const n=Math.max(e.startMillis,t.startMillis),r=Math.min(e.endMillis,t.endMillis);return i(n,r)})),l=i,f=a,p=o,h=e=>e.startMillis>=e.endMillis,d=u,g=e=>i(e,Number.POSITIVE_INFINITY)},18639:(e,t,n)=>{n.d(t,{ut:()=>_,wf:()=>d,Od:()=>b,Qj:()=>m,Sy:()=>h,BL:()=>g});var r=n(14109),s=n(17316),a=n(16749),i=n(64403);const o=Symbol.for("effect/ScheduleIntervals"),c=e=>({[o]:o,intervals:e}),u=(0,s.OB)(2,((e,t)=>l(e.intervals,t.intervals,r.cS()))),l=(e,t,n)=>{let a=e,o=t,u=n;for(;r.Od(a)&&r.Od(o);){const e=(0,s.zG)(r.dK(a),i.wf(r.dK(o))),t=i.xb(e)?u:(0,s.zG)(u,r.Ce(e));(0,s.zG)(r.dK(a),i.Qj(r.dK(o)))?a=r.fm(a):o=r.fm(o),u=t}return c(r.GY(u))},f=e=>(0,s.zG)(e.intervals,r.YM,a.fS((()=>i.cS))).startMillis,p=(0,s.OB)(2,((e,t)=>f(e)<f(t))),h=c,d=u,g=f,_=e=>(0,s.zG)(e.intervals,r.YM,a.fS((()=>i.cS))).endMillis,m=p,b=e=>r.Od(e.intervals)},22019:(e,t,n)=>{n.d(t,{$V:()=>u,ez:()=>f,xt:()=>l});var r=n(17316),s=n(4726),a=n(10218);class i{buckets=[];scheduleTask(e,t){let n,r;for(r=0;r<this.buckets.length&&this.buckets[r][0]<=t;r++)n=this.buckets[r];if(n)n[1].push(e);else{const n=[];for(let e=0;e<r;e++)n.push(this.buckets[e]);n.push([t,[e]]);for(let e=r;e<this.buckets.length;e++)n.push(this.buckets[e]);this.buckets=n}}}class o{maxNextTickBeforeTimer;running=!1;tasks=new i;constructor(e){this.maxNextTickBeforeTimer=e}starveInternal(e){const t=this.tasks.buckets;this.tasks.buckets=[];for(const[e,n]of t)for(let e=0;e<n.length;e++)n[e]();0===this.tasks.buckets.length?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout((()=>this.starveInternal(0)),0):Promise.resolve(void 0).then((()=>this.starveInternal(e+1)))}shouldYield(e){return e.currentOpCount>e.getFiberRef(a.Of7)&&e.getFiberRef(a.opO)}scheduleTask(e,t){this.tasks.scheduleTask(e,t),this.running||(this.running=!0,this.starve())}}const c=(0,s.K)(Symbol.for("effect/Scheduler/defaultScheduler"),(()=>new o(2048)));class u{tasks=new i;deferred=!1;scheduleTask(e,t){this.deferred?c.scheduleTask(e,t):this.tasks.scheduleTask(e,t)}shouldYield(e){return e.currentOpCount>e.getFiberRef(a.Of7)&&e.getFiberRef(a.opO)}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[t,n]of e)for(let e=0;e<n.length;e++)n[e]()}this.deferred=!0}}const l=(0,s.K)(Symbol.for("effect/FiberRef/currentScheduler"),(()=>a.kgb(c))),f=(0,r.OB)(2,((e,t)=>a.EXC(e,l,t)))},101:(e,t,n)=>{n.d(t,{rM:()=>o,sX:()=>a,xv:()=>i});var r=n(10218),s=n(50153);r.otW,r.Bcn;const a=s.XX,i=(r.tFM,r.veJ,r.roQ),o=(s.Vx,r.Z5L);s.y0,s.RN},13715:(e,t,n)=>{n.d(t,{mL:()=>p,ko:()=>f});var r=n(67492),s=n(17316),a=n(89379),i=n(71335);n(99768);const o="effect/Secret",c=Symbol.for(o),u={[c]:c,[a.NA](){return(0,s.zG)(a.vp(o),a.$e(a.IX(this.raw)),a.HX(this))},[r.NA](e){return l(e)&&this.raw.length===e.raw.length&&this.raw.every(((t,n)=>r.fS(t,e.raw[n])))}},l=e=>(0,i.l$)(e,c),f=l,p=e=>(e=>{const t=Object.create(u);return Object.defineProperty(t,"toString",{enumerable:!1,value:()=>"Secret(<redacted>)"}),Object.defineProperty(t,"toJSON",{enumerable:!1,value:()=>"<redacted>"}),Object.defineProperty(t,"raw",{enumerable:!1,value:e}),t})(e.split("").map((e=>e.charCodeAt(0))))},10800:(e,t,n)=>{n.d(t,{Sy:()=>a});var r=n(27786),s=n(51988);const a=(...e)=>e;r.bc,s.bc},70762:(e,t,n)=>{n.d(t,{Mc:()=>i});var r=n(71335);class s{value;constructor(e){this.value=e}get _F(){return identity}get _R(){return e=>e}get _O(){return e=>e}get _E(){return e=>e}[GenKindTypeId]=GenKindTypeId;[Symbol.iterator](){return new a(this)}}class a{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new a(this.self)}}class i{_state;constructor(e,t,n,s){return(0,r.Yd)(t)&&(0,r.Yd)(e)?(t=4294967295*Math.random()>>>0,e=0):(0,r.Yd)(t)&&(t=e,e=0),(0,r.Yd)(s)&&(0,r.Yd)(n)?(s=this._state?this._state[3]:4150755663,n=this._state?this._state[2]:335903614):(0,r.Yd)(s)&&(s=n,n=0),this._state=new Int32Array([0,0,n>>>0,(1|(s||0))>>>0]),this._next(),o(this._state,this._state[0],this._state[1],e>>>0,t>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=1|e[3]}integer(e){if(!e)return this._next();if(0==((e>>>=0)&e-1))return this._next()&e-1;let t=0;const n=(-e>>>0)%e>>>0;for(t=this._next();t<n;t=this._next());return t%e}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const e=this._state[0]>>>0,t=this._state[1]>>>0;!function(e,t,n,r,s){let a=32557*(n>>>16)>>>0,i=19605*(65535&n)>>>0,o=32557*(65535&n)>>>0,c=19605*(n>>>16)+((i>>>16)+(a>>>16))>>>0;i=i<<16>>>0,o=o+i>>>0,o>>>0<i>>>0&&(c=c+1>>>0),a=a<<16>>>0,o=o+a>>>0,o>>>0<a>>>0&&(c=c+1>>>0),c=c+Math.imul(n,1481765933)>>>0,c=c+Math.imul(t,s)>>>0,e[0]=c,e[1]=o}(this._state,e,t,0,1284865837),o(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let n=e>>>18,r=(t>>>18|e<<14)>>>0;n=(n^e)>>>0,r=(r^t)>>>0;const s=(r>>>27|n<<5)>>>0,a=e>>>27;return(s>>>a|s<<((-a>>>0&31)>>>0))>>>0}}function o(e,t,n,r,s){let a=t+r>>>0;const i=n+s>>>0;i>>>0<n>>>0&&(a=a+1|0),e[0]=a,e[1]=i}},96850:(e,t,n)=>{n.d(t,{E6:()=>m,Hb:()=>c,U:()=>R,Zr:()=>l,cS:()=>o,xH:()=>f});var r=n(67492),s=n(98438),a=n(16104),i=n(16749);const o={_tag:"Empty"},c=(e,t)=>({_tag:"Par",left:e,right:t}),u=(e,t)=>({_tag:"Seq",left:e,right:t}),l=(e,t)=>({_tag:"Single",dataSource:e,blockedRequest:t}),f=e=>{let t=a.of(e),n=a.cS();for(;;){const[e,r]=a.u4(t,[S(),a.cS()],(([e,t],n)=>{const[r,s]=p(n);return[w(e,r),a.oq(t,s)]}));if(n=h(n,e),a.kK(r))return a.GY(n);t=r}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},p=e=>{let t=e,n=S(),r=a.cS(),s=a.cS();for(;;)switch(t._tag){case"Empty":if(a.kK(r))return[n,s];t=r.head,r=r.tail;break;case"Par":r=a.QI(t.right,r),t=t.left;break;case"Seq":{const e=t.left,n=t.right;switch(e._tag){case"Empty":t=n;break;case"Par":{const r=e.left,s=e.right;t=c(u(r,n),u(s,n));break}case"Seq":{const r=e.left,s=e.right;t=u(r,u(s,n));break}case"Single":t=e,s=a.QI(n,s)}break}case"Single":if(n=w(n,k(t.dataSource,t.blockedRequest)),a.kK(r))return[n,s];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},h=(e,t)=>{if(a.kK(e))return a.of(E(t));if(O(t))return e;const n=T(e.head),s=I(t);return 1===n.length&&1===s.length&&r.fS(n[0],s[0])?a.QI(G(e.head,E(t)),e.tail):a.QI(E(t),e)},d=Symbol.for("effect/RequestBlock/Entry");class g{request;result;listeners;ownerId;state;[d]=_;constructor(e,t,n,r,s){this.request=e,this.result=t,this.listeners=n,this.ownerId=r,this.state=s}}const _={_R:e=>e},m=e=>new g(e.request,e.result,e.listeners,e.ownerId,e.state),b=Symbol.for("effect/RequestBlock/RequestBlockParallel"),y={_R:e=>e};class v{map;[b]=y;constructor(e){this.map=e}}const S=()=>new v(s.cS()),k=(e,t)=>new v(s.Sy([e,Array.of(t)])),w=(e,t)=>new v(s.u4(e.map,t.map,((e,t,n)=>s.t8(e,n,i.EQ(s.U2(e,n),{onNone:()=>t,onSome:e=>[...t,...e]}))))),O=e=>s.xb(e.map),I=e=>Array.from(s.XP(e.map)),E=e=>D(s.UI(e.map,(e=>Array.of(e)))),N=Symbol.for("effect/RequestBlock/RequestBlockSequential"),B={_R:e=>e};class x{map;[N]=B;constructor(e){this.map=e}}const D=e=>new x(e),G=(e,t)=>new x(s.u4(t.map,e.map,((e,t,n)=>s.t8(e,n,i.EQ(s.U2(e,n),{onNone:()=>[],onSome:e=>[...e,...t]}))))),T=e=>Array.from(s.XP(e.map)),R=e=>Array.from(e.map)},80998:(e,t,n)=>{n.d(t,{Gt:()=>S,Po:()=>ie,as:()=>ne,r3:()=>oe,B4:()=>P,Xr:()=>I,q9:()=>K,jH:()=>ee,cS:()=>w,bG:()=>O,Iv:()=>q,hl:()=>X,mq:()=>V,hX:()=>pe,sE:()=>fe,VS:()=>se,xH:()=>ae,kR:()=>Y,e1:()=>E,$A:()=>H,l7:()=>L,m_:()=>x,Ux:()=>C,QV:()=>T,xb:()=>M,tg:()=>D,DA:()=>G,hx:()=>j,cb:()=>R,td:()=>z,Jq:()=>$,v2:()=>F,F8:()=>U,tE:()=>J,EI:()=>Z,Kk:()=>W,UI:()=>re,EQ:()=>ye,Mf:()=>N,IC:()=>ke,sD:()=>Ne,u4:()=>ve,g3:()=>Se,Pe:()=>B,dp:()=>A,ly:()=>Q,VO:()=>te});var r=n(14109),s=n(87585),a=n(67492),i=n(17316),o=n(89379),c=n(9551),u=n(16371),l=n(16749),f=n(92817),p=n(71335),h=n(99768);const d="Die",g="Empty",_="Fail",m="Interrupt",b="Parallel",y="Sequential",v="effect/Cause",S=Symbol.for(v),k={[S]:{_E:e=>e},[o.NA](){return(0,i.zG)(o.vp(v),o.$e(o.vp(ue(this))),o.HX(this))},[a.NA](e){return x(e)&&ce(this,e)},pipe(){return(0,f.n)(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:(0,u.au)(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:(0,u.au)(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:(0,u.au)(this.left),right:(0,u.au)(this.right)}}},toString(){return ke(this)},[u.j5](){return this.toJSON()}},w=(()=>{const e=Object.create(k);return e._tag=g,e})(),O=e=>{const t=Object.create(k);return t._tag=_,t.error=e,t},I=e=>{const t=Object.create(k);return t._tag=d,t.defect=e,t},E=e=>{const t=Object.create(k);return t._tag=m,t.fiberId=e,t},N=(e,t)=>{const n=Object.create(k);return n._tag=b,n.left=e,n.right=t,n},B=(e,t)=>{const n=Object.create(k);return n._tag=y,n.left=e,n.right=t,n},x=e=>(0,p.l$)(e,S),D=e=>e._tag===g,G=e=>e._tag===_,T=e=>e._tag===d,R=e=>e._tag===m,U=e=>e._tag===y,F=e=>e._tag===b,A=e=>Se(e,void 0,de),M=e=>e._tag===g||ve(e,!0,((e,t)=>{switch(t._tag){case g:return l.G(e);case d:case _:case m:return l.G(!1);default:return l.YP()}})),j=e=>l.pC(q(e)),C=e=>l.pC(K(e)),z=e=>l.pC(H(e)),$=e=>Se(void 0,ge)(e),V=e=>r.GY(ve(e,r.cS(),((e,t)=>t._tag===_?l.G((0,i.zG)(e,r.Ce(t.error))):l.YP()))),P=e=>r.GY(ve(e,r.cS(),((e,t)=>t._tag===d?l.G((0,i.zG)(e,r.Ce(t.defect))):l.YP()))),L=e=>ve(e,c.cS(),((e,t)=>t._tag===m?l.G((0,i.zG)(e,c.IH(t.fiberId))):l.YP())),q=e=>fe(e,(e=>e._tag===_?l.G(e.error):l.YP())),X=e=>{const t=q(e);switch(t._tag){case"None":return s.F2(e);case"Some":return s.t$(t.value)}},K=e=>fe(e,(e=>e._tag===d?l.G(e.defect):l.YP())),Y=e=>ye(e,{onEmpty:l.G(w),onFail:e=>(0,i.zG)(e,l.UI(O)),onDie:e=>l.G(I(e)),onInterrupt:e=>l.G(E(e)),onSequential:(e,t)=>l.pC(e)&&l.pC(t)?l.G(B(e.value,t.value)):l.Wi(e)&&l.pC(t)?l.G(t.value):l.pC(e)&&l.Wi(t)?l.G(e.value):l.YP(),onParallel:(e,t)=>l.pC(e)&&l.pC(t)?l.G(N(e.value,t.value)):l.Wi(e)&&l.pC(t)?l.G(t.value):l.pC(e)&&l.Wi(t)?l.G(e.value):l.YP()}),H=e=>fe(e,(e=>e._tag===m?l.G(e.fiberId):l.YP())),J=e=>ye(e,{onEmpty:l.YP(),onFail:()=>l.YP(),onDie:e=>l.G(I(e)),onInterrupt:()=>l.YP(),onSequential:(e,t)=>l.pC(e)&&l.pC(t)?l.G(B(e.value,t.value)):l.pC(e)&&l.Wi(t)?l.G(e.value):l.Wi(e)&&l.pC(t)?l.G(t.value):l.YP(),onParallel:(e,t)=>l.pC(e)&&l.pC(t)?l.G(N(e.value,t.value)):l.pC(e)&&l.Wi(t)?l.G(e.value):l.Wi(e)&&l.pC(t)?l.G(t.value):l.YP()}),Z=e=>ye(e,{onEmpty:l.YP(),onFail:e=>l.G(I(e)),onDie:e=>l.G(I(e)),onInterrupt:()=>l.YP(),onSequential:(e,t)=>l.pC(e)&&l.pC(t)?l.G(B(e.value,t.value)):l.pC(e)&&l.Wi(t)?l.G(e.value):l.Wi(e)&&l.pC(t)?l.G(t.value):l.YP(),onParallel:(e,t)=>l.pC(e)&&l.pC(t)?l.G(N(e.value,t.value)):l.pC(e)&&l.Wi(t)?l.G(e.value):l.Wi(e)&&l.pC(t)?l.G(t.value):l.YP()}),W=e=>ye(e,{onEmpty:c.cS(),onFail:e=>c.Sy(O(e)),onDie:e=>c.Sy(I(e)),onInterrupt:e=>c.Sy(E(e)),onSequential:(e,t)=>(0,i.zG)(e,c.VS((e=>(0,i.zG)(t,c.UI((t=>B(e,t))))))),onParallel:(e,t)=>(0,i.zG)(e,c.VS((e=>(0,i.zG)(t,c.UI((t=>N(e,t)))))))}),Q=e=>ye(e,{onEmpty:w,onFail:()=>w,onDie:e=>I(e),onInterrupt:e=>E(e),onSequential:B,onParallel:N}),ee=e=>ye(e,{onEmpty:w,onFail:e=>I(e),onDie:e=>I(e),onInterrupt:e=>E(e),onSequential:(e,t)=>B(e,t),onParallel:(e,t)=>N(e,t)}),te=(0,i.OB)(2,((e,t)=>ye(e,{onEmpty:l.G(w),onFail:e=>l.G(O(e)),onDie:e=>{const n=t(e);return l.pC(n)?l.YP():l.G(I(e))},onInterrupt:e=>l.G(E(e)),onSequential:(e,t)=>l.pC(e)&&l.pC(t)?l.G(B(e.value,t.value)):l.pC(e)&&l.Wi(t)?l.G(e.value):l.Wi(e)&&l.pC(t)?l.G(t.value):l.YP(),onParallel:(e,t)=>l.pC(e)&&l.pC(t)?l.G(N(e.value,t.value)):l.pC(e)&&l.Wi(t)?l.G(e.value):l.Wi(e)&&l.pC(t)?l.G(t.value):l.YP()}))),ne=(0,i.OB)(2,((e,t)=>re(e,(()=>t)))),re=(0,i.OB)(2,((e,t)=>se(e,(e=>O(t(e)))))),se=(0,i.OB)(2,((e,t)=>ye(e,{onEmpty:w,onFail:e=>t(e),onDie:e=>I(e),onInterrupt:e=>E(e),onSequential:(e,t)=>B(e,t),onParallel:(e,t)=>N(e,t)}))),ae=e=>se(e,i.yR),ie=(0,i.OB)(2,((e,t)=>(0,p.mf)(t)?se(e,t):se(e,(()=>t)))),oe=(0,i.OB)(2,((e,t)=>t._tag===g||e===t||ve(e,!1,((e,n)=>l.G(e||ce(n,t)))))),ce=(e,t)=>{let n=r.of(e),s=r.of(t);for(;r.Od(n)&&r.Od(s);){const[e,t]=(0,i.zG)(r.dK(n),ve([c.cS(),r.cS()],(([e,t],n)=>{const[s,a]=he(n);return l.G([(0,i.zG)(e,c.G0(s)),(0,i.zG)(t,r.oq(a))])}))),[o,u]=(0,i.zG)(r.dK(s),ve([c.cS(),r.cS()],(([e,t],n)=>{const[s,a]=he(n);return l.G([(0,i.zG)(e,c.G0(s)),(0,i.zG)(t,r.oq(a))])})));if(!a.fS(e,o))return!1;n=t,s=u}return!0},ue=e=>le(r.of(e),r.cS()),le=(e,t)=>{for(;;){const[n,s]=(0,i.zG)(e,h.u4([c.cS(),r.cS()],(([e,t],n)=>{const[s,a]=he(n);return[(0,i.zG)(e,c.G0(s)),(0,i.zG)(t,r.oq(a))]}))),a=c.dp(n)>0?(0,i.zG)(t,r.Ce(n)):t;if(r.xb(s))return r.GY(a);e=s,t=a}throw new Error("BUG: Cause.flattenCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},fe=(0,i.OB)(2,((e,t)=>{const n=[e];for(;n.length>0;){const e=n.pop(),r=t(e);switch(r._tag){case"None":switch(e._tag){case y:case b:n.push(e.right),n.push(e.left)}break;case"Some":return r}}return l.YP()})),pe=(0,i.OB)(2,((e,t)=>Se(e,void 0,_e(t)))),he=e=>{let t=e;const n=[];let s=c.cS(),a=r.cS();for(;void 0!==t;)switch(t._tag){case g:if(0===n.length)return[s,a];t=n.pop();break;case _:if(s=c.IH(s,t.error),0===n.length)return[s,a];t=n.pop();break;case d:if(s=c.IH(s,t.defect),0===n.length)return[s,a];t=n.pop();break;case m:if(s=c.IH(s,t.fiberId),0===n.length)return[s,a];t=n.pop();break;case y:switch(t.left._tag){case g:t=t.right;break;case y:t=B(t.left.left,B(t.left.right,t.right));break;case b:t=N(B(t.left.left,t.right),B(t.left.right,t.right));break;default:a=r.Ce(a,t.right),t=t.left}break;case b:n.push(t.right),t=t.left}throw new Error("BUG: Cause.evaluateCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},de={emptyCase:()=>0,failCase:()=>1,dieCase:()=>1,interruptCase:()=>1,sequentialCase:(e,t,n)=>t+n,parallelCase:(e,t,n)=>t+n},ge={emptyCase:i.W8,failCase:i.jv,dieCase:i.jv,interruptCase:i.W8,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},_e=e=>({emptyCase:()=>w,failCase:(e,t)=>O(t),dieCase:(e,t)=>I(t),interruptCase:(e,t)=>E(t),sequentialCase:(t,n,r)=>e(n)?e(r)?B(n,r):n:e(r)?r:w,parallelCase:(t,n,r)=>e(n)?e(r)?N(n,r):n:e(r)?r:w}),me="SequentialCase",be="ParallelCase",ye=(0,i.OB)(2,((e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:s,onParallel:a,onSequential:i})=>Se(e,void 0,{emptyCase:()=>n,failCase:(e,t)=>r(t),dieCase:(e,n)=>t(n),interruptCase:(e,t)=>s(t),sequentialCase:(e,t,n)=>i(t,n),parallelCase:(e,t,n)=>a(t,n)}))),ve=(0,i.OB)(3,((e,t,n)=>{let r=t,s=e;const a=[];for(;void 0!==s;){const e=n(r,s);switch(r=l.pC(e)?e.value:r,s._tag){case y:case b:a.push(s.right),s=s.left;break;default:s=void 0}void 0===s&&a.length>0&&(s=a.pop())}return r})),Se=(0,i.OB)(3,((e,t,n)=>{const r=[e],a=[];for(;r.length>0;){const e=r.pop();switch(e._tag){case g:a.push(s.F2(n.emptyCase(t)));break;case _:a.push(s.F2(n.failCase(t,e.error)));break;case d:a.push(s.F2(n.dieCase(t,e.defect)));break;case m:a.push(s.F2(n.interruptCase(t,e.fiberId)));break;case y:r.push(e.right),r.push(e.left),a.push(s.t$({_tag:me}));break;case b:r.push(e.right),r.push(e.left),a.push(s.t$({_tag:be}))}}const i=[];for(;a.length>0;){const e=a.pop();switch(e._tag){case"Left":switch(e.left._tag){case me:{const e=i.pop(),r=i.pop(),s=n.sequentialCase(t,e,r);i.push(s);break}case be:{const e=i.pop(),r=i.pop(),s=n.parallelCase(t,e,r);i.push(s);break}}break;case"Right":i.push(e.right)}}if(0===i.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()})),ke=e=>$(e)?"All fibers interrupted without errors.":Ne(e).map((e=>{let t=e.message;if(e.stack&&(t+=`\r\n${(e=>{const t=e.split("\n"),n=[];for(let e=0;e<t.length;e++)if(n.push(t[e].replace(/at .*effect_cutpoint.*\((.*)\)/,"at $1")),t[e].includes("effect_cutpoint"))return n.join("\n");return n.join("\n")})(e.stack)}`),e.span){let n=e.span,r=0;for(;n&&"Span"===n._tag&&r<10;)t+=`\r\n    at ${n.name}`,n=l.jD(n.parent),r++}return t})).join("\r\n");class we{message;stack;span;constructor(e,t,n){this.message=e,this.stack=t,this.span=n}toJSON(){const e={message:this.message};return this.stack&&(e.stack=this.stack),this.span&&(e.span=this.span),e}}const Oe=e=>{if("string"==typeof e)return`Error: ${e}`;try{if((0,p.l$)(e,"toString")&&(0,p.mf)(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==Array.prototype.toString)return e.toString()}catch{}return`Error: ${JSON.stringify(e)}`},Ie=Symbol.for("effect/SpanAnnotation"),Ee=e=>{const t=(0,p.l$)(e,Ie)&&e[Ie];return e instanceof Error?new we(Oe(e),e.stack?.split("\n").filter((e=>e.match(/at (.*)/))).join("\n"),t):new we(Oe(e),void 0,t)},Ne=e=>Se(e,void 0,{emptyCase:()=>[],dieCase:(e,t)=>[Ee(t)],failCase:(e,t)=>[Ee(t)],interruptCase:()=>[],parallelCase:(e,t,n)=>[...t,...n],sequentialCase:(e,t,n)=>[...t,...n]})},53318:(e,t,n)=>{n.d(t,{GL:()=>c,Sy:()=>h,uh:()=>o});var r=n(20591),s=n(13571),a=n(17316),i=n(10218);const o=Symbol.for("effect/Clock"),c=r.hV("effect/Clock"),u={unsafeSchedule(e,t){const n=s.eq(t);if(n>2147483647)return a.jv;let r=!1;const i=setTimeout((()=>{r=!0,e()}),n);return()=>(clearTimeout(i),!r)}},l=function(){const e=BigInt(1e6);if("undefined"==typeof performance)return()=>BigInt(Date.now())*e;const t="timeOrigin"in performance&&"number"==typeof performance.timeOrigin?BigInt(Math.round(1e6*performance.timeOrigin)):BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),f=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return l;const t=l()-e.bigint();return()=>t+e.bigint()}();class p{[o]=o;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return f()}currentTimeMillis=i.Z_X((()=>this.unsafeCurrentTimeMillis()));currentTimeNanos=i.Z_X((()=>this.unsafeCurrentTimeNanos()));scheduler(){return i.ng0(u)}sleep(e){return i.PFx((t=>{const n=u.unsafeSchedule((()=>t(i.bfT)),e);return i.EpM(i.Z_X(n))}))}}const h=()=>new p},99609:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(4726),s=n(10218);const a=(0,r.K)(Symbol.for("effect/FiberRef/currentRequestMap"),(()=>(0,s.kgb)(new Map)))},23308:(e,t,n)=>{n.d(t,{a6:()=>G,r2:()=>U});var r=n(20591),s=n(87585),a=n(17316),i=n(98438),o=n(9551),c=n(15839),u=n(16749),l=n(92817),f=n(99768);const p="InvalidData",h="MissingData",d="SourceUnavailable",g="Unsupported",_=Symbol.for("effect/ConfigError"),m={[_]:_},b=(e,t)=>{const n=Object.create(m);return n._tag="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},y=(e,t)=>{const n=Object.create(m);return n._tag="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},v=(e,t,n={pathDelim:"."})=>{const r=Object.create(m);return r._tag=p,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${(0,a.zG)(this.path,f.v_(n.pathDelim))}: "${this.message}")`}}),r},S=(e,t,n={pathDelim:"."})=>{const r=Object.create(m);return r._tag=h,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${(0,a.zG)(this.path,f.v_(n.pathDelim))}: "${this.message}")`}}),r},k=(e,t,n,r={pathDelim:"."})=>{const s=Object.create(m);return s._tag=d,s.path=e,s.message=t,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${(0,a.zG)(this.path,f.v_(r.pathDelim))}: "${this.message}")`}}),s},w=(e,t,n={pathDelim:"."})=>{const r=Object.create(m);return r._tag=g,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${(0,a.zG)(this.path,f.v_(n.pathDelim))}: "${this.message}")`}}),r},O=(0,a.OB)(2,((e,t)=>{switch(e._tag){case"And":return b(O(e.left,t),O(e.right,t));case"Or":return y(O(e.left,t),O(e.right,t));case p:return v([...t,...e.path],e.message);case h:return S([...t,...e.path],e.message);case d:return k([...t,...e.path],e.message,e.cause);case g:return w([...t,...e.path],e.message)}}));a.jv,a.W8,a.jv,a.jv;var I=n(16104);const E={_tag:"Empty"},N=(0,a.OB)(2,((e,t)=>{let n=I.of(t),r=e;for(;I.hg(n);){const e=n.head;switch(e._tag){case"Empty":n=n.tail;break;case"AndThen":n=I.QI(e.first,I.QI(e.second,n.tail));break;case"MapName":r=f.UI(r,e.f),n=n.tail;break;case"Nested":r=f.Ce(r,e.name),n=n.tail;break;case"Unnested":if(!(0,a.zG)(f.YM(r),u.r3(e.name)))return s.t$(S(r,`Expected ${e.name} to be in path in ConfigProvider#unnested`));r=f.fm(r),n=n.tail}}return s.F2(r)}));var B=n(10218);const x=(e,t)=>[...e,...t],D=Symbol.for("effect/ConfigProvider"),G=r.hV("effect/ConfigProvider"),T=Symbol.for("effect/ConfigProviderFlat"),R=e=>({[D]:D,pipe(){return(0,l.n)(this,arguments)},...e}),U=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=()=>"undefined"!=typeof process&&"env"in process&&"object"==typeof{NVM_INC:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/include/node",npm_package_devDependencies_customize_cra:"^1.0.0",npm_package_dependencies__reduxjs_toolkit:"^1.9.7",MANPATH:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/share/man:/opt/homebrew/share/man::",npm_package_dependencies_fast_text_encoding:"^1.0.6",npm_package_dependencies__babel_plugin_transform_private_property_in_object:"^7.23.4",rvm_use_flag:"",npm_package_babel_presets_1:"@babel/preset-react",npm_package_devDependencies_react_test_renderer:"^18.0.0",npm_package_dependencies_react_native_macos:"^0.71.0-0",npm_package_dependencies__react_navigation_drawer:"^6.6.7",TERM_PROGRAM:"Apple_Terminal",rvm_bin_path:"/Users/danilapuzikov/.rvm/bin",npm_package_babel_presets_0:"@babel/preset-env",npm_package_devDependencies_url_loader:"^4.1.1",npm_package_dependencies_react_native_ios_kit:"^0.0.22",NODE:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin/node",npm_package_dependencies_react_native_safe_area_context:"^4.4.1",npm_package_scripts_chatp:"./node_modules/.bin/webpack --mode=production --config ./web/chat.config.js",npm_package_scripts_web:"./node_modules/.bin/webpack-dev-server --mode=development --config ./web/webpack.config.js --hot --history-api-fallback",INIT_CWD:"/Users/danilapuzikov/dev/nstarpy/StarpyApp",NVM_CD_FLAGS:"-q",rvm_quiet_flag:"",GEM_HOME:"/Users/danilapuzikov/.rvm/gems/ruby-2.7.4",rvm_ruby_alias:"",npm_package_devDependencies_typescript:"^4.9.4",npm_package_dependencies_react_native_document_picker:"9.1.1",npm_package_dependencies_path_browserify:"^0.0.0",npm_package_dependencies_axios:"^1.6.7",npm_package_scripts_macos:"npx react-native run-macos",npm_config_version_git_tag:"true",TERM:"xterm-256color",SHELL:"/bin/zsh",rvm_gemstone_url:"",npm_package_devDependencies_jest:"^26.6.3",npm_package_devDependencies_expo_dev_menu:"^2.0.2",npm_package_dependencies__react_native_community_masked_view:"^0.1.11",HOMEBREW_REPOSITORY:"/opt/homebrew",IRBRC:"/Users/danilapuzikov/.rvm/rubies/ruby-2.7.4/.irbrc",rvm_docs_type:"",TMPDIR:"/var/folders/mb/sjdb9d796570__g6mhq8q7qr0000gn/T/",npm_package_devDependencies__expo_webpack_config:"^0.17.3",npm_package_scripts_lint:"eslint .",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"450",npm_package_scripts_android:"react-native run-android",npm_package_devDependencies__tsconfig_react_native:"^2.0.3",npm_package_dependencies_uuid:"^9.0.0",npm_package_dependencies__react_navigation_native:"^6.1.1",TERM_SESSION_ID:"52E45441-D9B7-40B0-9864-3E7BBBD161D6",MY_RUBY_HOME:"/Users/danilapuzikov/.rvm/rubies/ruby-2.7.4",npm_package_dependencies_react_native_sqlite_storage:"^6.0.1",npm_package_dependencies_levelup:"^5.1.1",npm_package_dependencies__babel_preset_env:"^7.20.2",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_dependencies_react_dom:"^18.2.0",USER:"danilapuzikov",NVM_DIR:"/Users/danilapuzikov/.nvm",npm_package_devDependencies_webpack:"^5.75.0",npm_package_dependencies__faker_js_faker:"^7.6.0",npm_package_scripts_ios:"react-native run-ios",rvm_gemstone_package_file:"",rvm_user_flag:"",npm_package_devDependencies_webpack_cli:"^5.0.1",npm_package_devDependencies__types_react:"^18.0.26",npm_package_dependencies_react_native_uuid:"^2.0.1",npm_package_dependencies__ffmpeg_util:"^0.12.1",npm_package_dependencies_react_native_gifted_chat:"^2.4.0",npm_package_dependencies_btoa:"^1.2.1",npm_package_dependencies__evolu_common:"^3.1.6",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_dependencies_react_native_device_info:"github:fi-nik/react-native-device-info#macos-integration",rvm_path:"/Users/danilapuzikov/.rvm",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_webpack_dev_server:"^4.11.1",npm_package_devDependencies_babel_jest:"^26.6.3",npm_package_devDependencies__babel_core:"^7.20.7",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2gs4lFMrLZ/Listeners",npm_package_devDependencies_babel_loader:"^9.1.0",npm_package_dependencies_stream_browserify:"^1.0.0",npm_package_dependencies_react_native_screens:"^3.18.2",npm_package_dependencies_react_native_modal:"^13.0.1",npm_package_dependencies_react_native_get_random_values:"^1.8.0",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_browserslist_development_2:"last 1 safari version",npm_package_devDependencies_eslint:"^7.32.0",npm_package_devDependencies__types_jest:"^29.2.4",npm_package_dependencies_react_native_randombytes:"^3.6.1",npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__react_native_community_datetimepicker:"^7.6.2",rvm_proxy:"",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies_react_native_webview:"^11.26.0",rvm_ruby_file:"",npm_package_dependencies_util:"^0.10.4",npm_package_dependencies_react_redux:"7.2.8",npm_package_dependencies__react_navigation_routers:"^6.1.6",npm_package_dependencies__react_navigation_native_stack:"^6.9.5",rvm_sticky_flag:"",npm_package_devDependencies__types_react_dom:"^18.2.19",rvm_prefix:"/Users/danilapuzikov",rvm_silent_flag:"",npm_package_devDependencies__babel_runtime:"^7.12.5",npm_package_dependencies_ytdl_core:"^4.11.5",npm_package_dependencies_react_native:"0.72.10",npm_package_dependencies__evolu_common_web:"^5.0.6",PATH:"/var/folders/mb/sjdb9d796570__g6mhq8q7qr0000gn/T/yarn--1708984833084-0.036953349894639054:/Users/danilapuzikov/dev/nstarpy/StarpyApp/node_modules/.bin:/Users/danilapuzikov/.config/yarn/link/node_modules/.bin:/Users/danilapuzikov/.yarn/bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/lib/node_modules/npm/bin/node-gyp-bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin/node_modules/npm/bin/node-gyp-bin:/Users/danilapuzikov/.rvm/gems/ruby-2.7.4/bin:/Users/danilapuzikov/.rvm/gems/ruby-2.7.4@global/bin:/Users/danilapuzikov/.rvm/rubies/ruby-2.7.4/bin:/Users/danilapuzikov/.rvm/bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin:/Users/danilapuzikov/.rbenv/shims:/Users/danilapuzikov/.rbenv/shims:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools:/usr/local/go/bin:/Applications/Visual Studio Code.app/Contents/Resources/app/bin",rvm_ruby_make:"",npm_config_argv:'{"remain":[],"cooked":["run","webp"],"original":["webp"]}',npm_package_devDependencies__types_react_test_renderer:"^18.0.0",npm_package_dependencies_atob:"^2.1.2",npm_package_dependencies__expo_vector_icons:"^13.0.0",npm_package_devDependencies__babel_plugin_transform_react_jsx:"^7.20.7",npm_package_dependencies_react_native_quick_base64:"^2.0.5",npm_package_dependencies__babel_preset_react:"^7.18.6",LaunchInstanceID:"82A86592-2C21-4512-AF88-E280B584664C",_:"./node_modules/.bin/webpack",npm_package_devDependencies__babel_plugin_syntax_jsx:"^7.18.6",npm_package_dependencies_react_query:"^3.39.3",npm_package_dependencies_react_native_pure_jwt:"^3.0.1",__CFBundleIdentifier:"com.apple.Terminal",npm_package_browserslist_production_1:"not dead",npm_package_devDependencies_react_app_rewired:"^2.2.1",npm_package_dependencies_readable_stream:"^1.0.33",npm_package_dependencies_react_native_url_polyfill:"2.0.0",npm_package_dependencies_expo_sqlite:"~11.3.3",npm_package_dependencies__babel_plugin_transform_private_methods:"^7.23.3",PWD:"/Users/danilapuzikov/dev/nstarpy/StarpyApp",npm_package_browserslist_production_0:">0.2%",npm_lifecycle_event:"webp",npm_package_browserslist_production_2:"not op_mini all",npm_package_jest_preset:"react-native",npm_package_dependencies_expo_font:"^11.0.1",rvm_sdk:"",rvm_system_flag:"",npm_package_name:"StarpyApp",npm_package_devDependencies__types_react_native_vector_icons:"^6.4.12",npm_package_dependencies_react_native_web_image_loader:"^0.1.1",npm_package_dependencies__evolu_react:"^5.0.4",npm_package_dependencies_react_native_fs:"^2.20.0",npm_package_dependencies_helia:"^4.0.1",npm_package_scripts_start:"react-native start",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",npm_package_dependencies_react_native_reanimated:"^3.7.0",npm_package_dependencies_react_native_paper:"^5.12.1",npm_config_bin_links:"true",npm_package_dependencies__sqlite_org_sqlite_wasm:"3.45.1-build1",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"1.12.1",rvm_version:"1.29.12 (latest)",npm_package_dependencies_youtube_sr:"^4.3.10",npm_package_dependencies_expo_status_bar:"~1.6.0",HOME:"/Users/danilapuzikov",SHLVL:"2",rvm_pretty_print_flag:"",rvm_script_name:"",npm_package_dependencies__ffmpeg_ffmpeg:"^0.12.10",rvm_ruby_mode:"",npm_package_dependencies_events:"^3.3.0",npm_package_scripts_test:"jest",npm_package_dependencies_react_native_material_bottom_navigation:"^1.0.5",npm_package_dependencies__react_navigation_bottom_tabs:"^6.4.1",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",HOMEBREW_PREFIX:"/opt/homebrew",rvm_ruby_string:"ruby-2.7.4",npm_package_dependencies_nanoid:"^4.0.0",npm_config_version_git_message:"v%s",npm_package_dependencies_react_native_vector_icons:"^9.2.0",npm_package_dependencies_react_native_static_server:"^0.5.0",LOGNAME:"danilapuzikov",YARN_WRAP_OUTPUT:"false",npm_package_dependencies__react_navigation_stack:"^6.3.8",npm_package_dependencies__babel_plugin_proposal_export_namespace_from:"^7.18.9",rvm_alias_expanded:"",npm_lifecycle_script:"./node_modules/.bin/webpack --mode=production --config ./web/webpack.config.js",npm_package_devDependencies_metro_react_native_babel_preset:"^0.67.0",npm_package_dependencies_react_art:"^18.2.0",GEM_PATH:"/Users/danilapuzikov/.rvm/gems/ruby-2.7.4:/Users/danilapuzikov/.rvm/gems/ruby-2.7.4@global",LC_CTYPE:"UTF-8",npm_package_devDependencies__react_native_community_eslint_config:"^2.0.0",npm_package_dependencies_react_native_search_bar:"^3.5.1",npm_package_dependencies__react_native_firebase_crashlytics:"^16.4.6",npm_package_dependencies_rn_nodeify:"^10.3.0",npm_package_dependencies_react:"^18.0.0",npm_package_dependencies__babel_plugin_transform_class_properties:"^7.23.3",NVM_BIN:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin",npm_package_devDependencies_babel_plugin_react_native_web:"^0.18.10",npm_package_dependencies_react_native_web:"0.18.2",npm_package_dependencies__react_native_firebase_app:"^16.4.6",npm_package_dependencies__react_native_community_netinfo:"9.3.10",npm_package_dependencies__effect_schema:"^0.63.0",npm_package_dependencies__babel_cli:"^7.20.7",rvm_nightly_flag:"",rvm_file_name:"",npm_package_devDependencies__types_react_native:"^0.70.8",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.19 npm/? node/v21.6.1 darwin arm64",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",INFOPATH:"/opt/homebrew/share/info:",rvm_ruby_make_install:"",npm_package_dependencies_react_native_gesture_handler:"^2.13.0",npm_package_dependencies_expo:"^49.0.21",npm_package_dependencies__evolu_react_native:"^5.0.4",rvm_niceness:"",rvm_delete_flag:"0",npm_package_dependencies_blob_polyfill:"^7.0.20220408",rvm_ruby_bits:"",npm_package_dependencies_react_native_zeroconf:"^0.13.7",npm_package_dependencies_lodash_isequal:"^4.5.0",npm_package_dependencies_crypto_browserify:"^3.12.0",rvm_bin_flag:"",npm_package_devDependencies_react_scripts:"^5.0.1",npm_package_scripts_chat:"./node_modules/.bin/webpack-dev-server --mode=development --config ./web/chat.config.js --hot",npm_package_scripts_webp:"./node_modules/.bin/webpack --mode=production --config ./web/webpack.config.js",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",SECURITYSESSIONID:"186a3",RUBY_VERSION:"ruby-2.7.4",rvm_only_path_flag:"",npm_package_dependencies_react_native_user_avatar:"^1.0.8",npm_package_dependencies_effect:"2.4.0",npm_node_execpath:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin/node",npm_package_dependencies__evolu_common_react:"^5.0.4",npm_config_version_tag_prefix:"v"}?{NVM_INC:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/include/node",npm_package_devDependencies_customize_cra:"^1.0.0",npm_package_dependencies__reduxjs_toolkit:"^1.9.7",MANPATH:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/share/man:/opt/homebrew/share/man::",npm_package_dependencies_fast_text_encoding:"^1.0.6",npm_package_dependencies__babel_plugin_transform_private_property_in_object:"^7.23.4",rvm_use_flag:"",npm_package_babel_presets_1:"@babel/preset-react",npm_package_devDependencies_react_test_renderer:"^18.0.0",npm_package_dependencies_react_native_macos:"^0.71.0-0",npm_package_dependencies__react_navigation_drawer:"^6.6.7",TERM_PROGRAM:"Apple_Terminal",rvm_bin_path:"/Users/danilapuzikov/.rvm/bin",npm_package_babel_presets_0:"@babel/preset-env",npm_package_devDependencies_url_loader:"^4.1.1",npm_package_dependencies_react_native_ios_kit:"^0.0.22",NODE:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin/node",npm_package_dependencies_react_native_safe_area_context:"^4.4.1",npm_package_scripts_chatp:"./node_modules/.bin/webpack --mode=production --config ./web/chat.config.js",npm_package_scripts_web:"./node_modules/.bin/webpack-dev-server --mode=development --config ./web/webpack.config.js --hot --history-api-fallback",INIT_CWD:"/Users/danilapuzikov/dev/nstarpy/StarpyApp",NVM_CD_FLAGS:"-q",rvm_quiet_flag:"",GEM_HOME:"/Users/danilapuzikov/.rvm/gems/ruby-2.7.4",rvm_ruby_alias:"",npm_package_devDependencies_typescript:"^4.9.4",npm_package_dependencies_react_native_document_picker:"9.1.1",npm_package_dependencies_path_browserify:"^0.0.0",npm_package_dependencies_axios:"^1.6.7",npm_package_scripts_macos:"npx react-native run-macos",npm_config_version_git_tag:"true",TERM:"xterm-256color",SHELL:"/bin/zsh",rvm_gemstone_url:"",npm_package_devDependencies_jest:"^26.6.3",npm_package_devDependencies_expo_dev_menu:"^2.0.2",npm_package_dependencies__react_native_community_masked_view:"^0.1.11",HOMEBREW_REPOSITORY:"/opt/homebrew",IRBRC:"/Users/danilapuzikov/.rvm/rubies/ruby-2.7.4/.irbrc",rvm_docs_type:"",TMPDIR:"/var/folders/mb/sjdb9d796570__g6mhq8q7qr0000gn/T/",npm_package_devDependencies__expo_webpack_config:"^0.17.3",npm_package_scripts_lint:"eslint .",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"450",npm_package_scripts_android:"react-native run-android",npm_package_devDependencies__tsconfig_react_native:"^2.0.3",npm_package_dependencies_uuid:"^9.0.0",npm_package_dependencies__react_navigation_native:"^6.1.1",TERM_SESSION_ID:"52E45441-D9B7-40B0-9864-3E7BBBD161D6",MY_RUBY_HOME:"/Users/danilapuzikov/.rvm/rubies/ruby-2.7.4",npm_package_dependencies_react_native_sqlite_storage:"^6.0.1",npm_package_dependencies_levelup:"^5.1.1",npm_package_dependencies__babel_preset_env:"^7.20.2",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_dependencies_react_dom:"^18.2.0",USER:"danilapuzikov",NVM_DIR:"/Users/danilapuzikov/.nvm",npm_package_devDependencies_webpack:"^5.75.0",npm_package_dependencies__faker_js_faker:"^7.6.0",npm_package_scripts_ios:"react-native run-ios",rvm_gemstone_package_file:"",rvm_user_flag:"",npm_package_devDependencies_webpack_cli:"^5.0.1",npm_package_devDependencies__types_react:"^18.0.26",npm_package_dependencies_react_native_uuid:"^2.0.1",npm_package_dependencies__ffmpeg_util:"^0.12.1",npm_package_dependencies_react_native_gifted_chat:"^2.4.0",npm_package_dependencies_btoa:"^1.2.1",npm_package_dependencies__evolu_common:"^3.1.6",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_dependencies_react_native_device_info:"github:fi-nik/react-native-device-info#macos-integration",rvm_path:"/Users/danilapuzikov/.rvm",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_webpack_dev_server:"^4.11.1",npm_package_devDependencies_babel_jest:"^26.6.3",npm_package_devDependencies__babel_core:"^7.20.7",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2gs4lFMrLZ/Listeners",npm_package_devDependencies_babel_loader:"^9.1.0",npm_package_dependencies_stream_browserify:"^1.0.0",npm_package_dependencies_react_native_screens:"^3.18.2",npm_package_dependencies_react_native_modal:"^13.0.1",npm_package_dependencies_react_native_get_random_values:"^1.8.0",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_browserslist_development_2:"last 1 safari version",npm_package_devDependencies_eslint:"^7.32.0",npm_package_devDependencies__types_jest:"^29.2.4",npm_package_dependencies_react_native_randombytes:"^3.6.1",npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__react_native_community_datetimepicker:"^7.6.2",rvm_proxy:"",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies_react_native_webview:"^11.26.0",rvm_ruby_file:"",npm_package_dependencies_util:"^0.10.4",npm_package_dependencies_react_redux:"7.2.8",npm_package_dependencies__react_navigation_routers:"^6.1.6",npm_package_dependencies__react_navigation_native_stack:"^6.9.5",rvm_sticky_flag:"",npm_package_devDependencies__types_react_dom:"^18.2.19",rvm_prefix:"/Users/danilapuzikov",rvm_silent_flag:"",npm_package_devDependencies__babel_runtime:"^7.12.5",npm_package_dependencies_ytdl_core:"^4.11.5",npm_package_dependencies_react_native:"0.72.10",npm_package_dependencies__evolu_common_web:"^5.0.6",PATH:"/var/folders/mb/sjdb9d796570__g6mhq8q7qr0000gn/T/yarn--1708984833084-0.036953349894639054:/Users/danilapuzikov/dev/nstarpy/StarpyApp/node_modules/.bin:/Users/danilapuzikov/.config/yarn/link/node_modules/.bin:/Users/danilapuzikov/.yarn/bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/libexec/lib/node_modules/npm/bin/node-gyp-bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/lib/node_modules/npm/bin/node-gyp-bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin/node_modules/npm/bin/node-gyp-bin:/Users/danilapuzikov/.rvm/gems/ruby-2.7.4/bin:/Users/danilapuzikov/.rvm/gems/ruby-2.7.4@global/bin:/Users/danilapuzikov/.rvm/rubies/ruby-2.7.4/bin:/Users/danilapuzikov/.rvm/bin:/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin:/Users/danilapuzikov/.rbenv/shims:/Users/danilapuzikov/.rbenv/shims:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/usr/local/share/dotnet:~/.dotnet/tools:/usr/local/go/bin:/Applications/Visual Studio Code.app/Contents/Resources/app/bin",rvm_ruby_make:"",npm_config_argv:'{"remain":[],"cooked":["run","webp"],"original":["webp"]}',npm_package_devDependencies__types_react_test_renderer:"^18.0.0",npm_package_dependencies_atob:"^2.1.2",npm_package_dependencies__expo_vector_icons:"^13.0.0",npm_package_devDependencies__babel_plugin_transform_react_jsx:"^7.20.7",npm_package_dependencies_react_native_quick_base64:"^2.0.5",npm_package_dependencies__babel_preset_react:"^7.18.6",LaunchInstanceID:"82A86592-2C21-4512-AF88-E280B584664C",_:"./node_modules/.bin/webpack",npm_package_devDependencies__babel_plugin_syntax_jsx:"^7.18.6",npm_package_dependencies_react_query:"^3.39.3",npm_package_dependencies_react_native_pure_jwt:"^3.0.1",__CFBundleIdentifier:"com.apple.Terminal",npm_package_browserslist_production_1:"not dead",npm_package_devDependencies_react_app_rewired:"^2.2.1",npm_package_dependencies_readable_stream:"^1.0.33",npm_package_dependencies_react_native_url_polyfill:"2.0.0",npm_package_dependencies_expo_sqlite:"~11.3.3",npm_package_dependencies__babel_plugin_transform_private_methods:"^7.23.3",PWD:"/Users/danilapuzikov/dev/nstarpy/StarpyApp",npm_package_browserslist_production_0:">0.2%",npm_lifecycle_event:"webp",npm_package_browserslist_production_2:"not op_mini all",npm_package_jest_preset:"react-native",npm_package_dependencies_expo_font:"^11.0.1",rvm_sdk:"",rvm_system_flag:"",npm_package_name:"StarpyApp",npm_package_devDependencies__types_react_native_vector_icons:"^6.4.12",npm_package_dependencies_react_native_web_image_loader:"^0.1.1",npm_package_dependencies__evolu_react:"^5.0.4",npm_package_dependencies_react_native_fs:"^2.20.0",npm_package_dependencies_helia:"^4.0.1",npm_package_scripts_start:"react-native start",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",npm_package_dependencies_react_native_reanimated:"^3.7.0",npm_package_dependencies_react_native_paper:"^5.12.1",npm_config_bin_links:"true",npm_package_dependencies__sqlite_org_sqlite_wasm:"3.45.1-build1",RBENV_SHELL:"zsh",XPC_SERVICE_NAME:"0",npm_package_version:"1.12.1",rvm_version:"1.29.12 (latest)",npm_package_dependencies_youtube_sr:"^4.3.10",npm_package_dependencies_expo_status_bar:"~1.6.0",HOME:"/Users/danilapuzikov",SHLVL:"2",rvm_pretty_print_flag:"",rvm_script_name:"",npm_package_dependencies__ffmpeg_ffmpeg:"^0.12.10",rvm_ruby_mode:"",npm_package_dependencies_events:"^3.3.0",npm_package_scripts_test:"jest",npm_package_dependencies_react_native_material_bottom_navigation:"^1.0.5",npm_package_dependencies__react_navigation_bottom_tabs:"^6.4.1",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",HOMEBREW_PREFIX:"/opt/homebrew",rvm_ruby_string:"ruby-2.7.4",npm_package_dependencies_nanoid:"^4.0.0",npm_config_version_git_message:"v%s",npm_package_dependencies_react_native_vector_icons:"^9.2.0",npm_package_dependencies_react_native_static_server:"^0.5.0",LOGNAME:"danilapuzikov",YARN_WRAP_OUTPUT:"false",npm_package_dependencies__react_navigation_stack:"^6.3.8",npm_package_dependencies__babel_plugin_proposal_export_namespace_from:"^7.18.9",rvm_alias_expanded:"",npm_lifecycle_script:"./node_modules/.bin/webpack --mode=production --config ./web/webpack.config.js",npm_package_devDependencies_metro_react_native_babel_preset:"^0.67.0",npm_package_dependencies_react_art:"^18.2.0",GEM_PATH:"/Users/danilapuzikov/.rvm/gems/ruby-2.7.4:/Users/danilapuzikov/.rvm/gems/ruby-2.7.4@global",LC_CTYPE:"UTF-8",npm_package_devDependencies__react_native_community_eslint_config:"^2.0.0",npm_package_dependencies_react_native_search_bar:"^3.5.1",npm_package_dependencies__react_native_firebase_crashlytics:"^16.4.6",npm_package_dependencies_rn_nodeify:"^10.3.0",npm_package_dependencies_react:"^18.0.0",npm_package_dependencies__babel_plugin_transform_class_properties:"^7.23.3",NVM_BIN:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin",npm_package_devDependencies_babel_plugin_react_native_web:"^0.18.10",npm_package_dependencies_react_native_web:"0.18.2",npm_package_dependencies__react_native_firebase_app:"^16.4.6",npm_package_dependencies__react_native_community_netinfo:"9.3.10",npm_package_dependencies__effect_schema:"^0.63.0",npm_package_dependencies__babel_cli:"^7.20.7",rvm_nightly_flag:"",rvm_file_name:"",npm_package_devDependencies__types_react_native:"^0.70.8",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.19 npm/? node/v21.6.1 darwin arm64",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",INFOPATH:"/opt/homebrew/share/info:",rvm_ruby_make_install:"",npm_package_dependencies_react_native_gesture_handler:"^2.13.0",npm_package_dependencies_expo:"^49.0.21",npm_package_dependencies__evolu_react_native:"^5.0.4",rvm_niceness:"",rvm_delete_flag:"0",npm_package_dependencies_blob_polyfill:"^7.0.20220408",rvm_ruby_bits:"",npm_package_dependencies_react_native_zeroconf:"^0.13.7",npm_package_dependencies_lodash_isequal:"^4.5.0",npm_package_dependencies_crypto_browserify:"^3.12.0",rvm_bin_flag:"",npm_package_devDependencies_react_scripts:"^5.0.1",npm_package_scripts_chat:"./node_modules/.bin/webpack-dev-server --mode=development --config ./web/chat.config.js --hot",npm_package_scripts_webp:"./node_modules/.bin/webpack --mode=production --config ./web/webpack.config.js",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",SECURITYSESSIONID:"186a3",RUBY_VERSION:"ruby-2.7.4",rvm_only_path_flag:"",npm_package_dependencies_react_native_user_avatar:"^1.0.8",npm_package_dependencies_effect:"2.4.0",npm_node_execpath:"/Users/danilapuzikov/.nvm/versions/node/v21.6.1/bin/node",npm_package_dependencies__evolu_common_react:"^5.0.4",npm_config_version_tag_prefix:"v"}:{};return s={[T]:T,patch:(i={load:(e,s,i=!0)=>{const o=(e=>(0,a.zG)(e,f.v_(t)))(e),c=r(),l=o in c?u.G(c[o]):u.YP();return(0,a.zG)(l,B.d1Y((()=>S(e,`Expected ${o} to exist in the process context`))),B.VSD((t=>M(t,e,s,n,i))))},enumerateChildren:e=>B.Z_X((()=>{const n=r(),s=Object.keys(n),i=Array.from(s).map((e=>e.toUpperCase().split(t))).filter((t=>{for(let n=0;n<e.length;n++){const r=(0,a.zG)(e,f.MH(n)),s=t[n];if(void 0===s||r!==s)return!1}return!0})).flatMap((t=>t.slice(e.length,e.length+1)));return o.EE(i)})),patch:E}).patch,load:(e,t,n=!0)=>i.load(e,t,n),enumerateChildren:i.enumerateChildren},R({load:e=>B.VSD(F(s,f.cS(),e,!1),(t=>u.EQ(f.YM(t),{onNone:()=>B.bGj(S(f.cS(),`Expected a single value having structure: ${e}`)),onSome:B.ng0}))),flattened:s});var s,i},F=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return B.ng0(f.of(o.value));case"Described":return B.RqG((()=>F(e,t,o.config,r)));case"Fail":return B.bGj(S(t,o.message));case"Fallback":return(0,a.zG)(B.RqG((()=>F(e,t,o.first,r))),B.kmb((n=>o.condition(n)?(0,a.zG)(F(e,t,o.second,r),B.kmb((e=>B.bGj(y(n,e))))):B.bGj(n))));case"Lazy":return B.RqG((()=>F(e,t,o.config(),r)));case"MapOrFail":return B.RqG((()=>(0,a.zG)(F(e,t,o.original,r),B.VSD(B.o9$((e=>(0,a.zG)(o.mapOrFail(e),B.d1Y(O(((e,t)=>{let n=t;if("Nested"===n._tag){const t=e.slice();for(;"Nested"===n._tag;)t.push(n.name),n=n.config;return t}return e})(t,o.original))))))))));case"Nested":return B.RqG((()=>F(e,x(t,f.of(o.name)),o.config,r)));case"Primitive":return(0,a.zG)(N(t,e.patch),B.VSD((t=>(0,a.zG)(e.load(t,o,r),B.VSD((e=>{if(0===e.length){const e=(0,a.zG)(f.Z$(t),u.fS((()=>"<n/a>")));return B.bGj(S([],`Expected ${o.description} with name ${e}`))}return B.ng0(e)}))))));case"Sequence":return(0,a.zG)(N(t,e.patch),B.VSD((n=>(0,a.zG)(e.enumerateChildren(n),B.VSD(z),B.VSD((r=>0===r.length?B.RqG((()=>B.UID(F(e,n,o.config,!0),f.of))):(0,a.zG)(B.o9$(r,(n=>F(e,f.R3(t,`[${n}]`),o.config,!0))),B.UID((e=>{const t=f.xH(e);return 0===t.length?f.of(f.cS()):f.of(t)})))))))));case"HashMap":return B.RqG((()=>(0,a.zG)(N(t,e.patch),B.VSD((t=>(0,a.zG)(e.enumerateChildren(t),B.VSD((n=>(0,a.zG)(n,B.o9$((n=>F(e,x(t,f.of(n)),o.valueConfig,r))),B.UID((e=>{if(0===e.length)return f.of(i.cS());const t=e.map((e=>Array.from(e)));return(0,a.zG)(j(t),f.UI((e=>i.EE(f.$R(f.EE(n),e)))))})))))))))));case"ZipWith":return B.RqG((()=>(0,a.zG)(F(e,t,o.left,r),B.wEe,B.VSD((n=>(0,a.zG)(F(e,t,o.right,r),B.wEe,B.VSD((e=>{if(s.nM(n)&&s.nM(e))return B.bGj(b(n.left,e.left));if(s.nM(n)&&s.tO(e))return B.bGj(n.left);if(s.tO(n)&&s.nM(e))return B.bGj(e.left);if(s.tO(n)&&s.tO(e)){const r=(0,a.zG)(t,f.v_(".")),i=A(t,r),[c,l]=((e,t,n,r)=>{const s=f.JJ(n.length,(t=>t>=r.length?u.YP():u.G([e(t),t+1]))),a=f.JJ(r.length,(e=>e>=n.length?u.YP():u.G([t(e),e+1])));return[x(n,s),x(r,a)]})(i,i,(0,a.zG)(n.right,f.UI(s.F2)),(0,a.zG)(e.right,f.UI(s.F2)));return(0,a.zG)(c,f.$R(l),B.o9$((([e,t])=>(0,a.zG)(B.$Re(e,t),B.UID((([e,t])=>o.zip(e,t)))))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")}))))))))}},A=(e,t)=>n=>s.t$(S(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),M=(e,t,n,r,s)=>s?(0,a.zG)(((e,t)=>e.split(new RegExp(`\\s*${C(t)}\\s*`)))(e,r),B.o9$((e=>n.parse(e.trim()))),B.d1Y(O(t))):(0,a.zG)(n.parse(e),B.SAn({onFailure:O(t),onSuccess:f.of})),j=e=>Object.keys(e[0]).map((t=>e.map((e=>e[t])))),C=e=>e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),z=e=>(0,a.zG)(B.o9$(e,V),B.SAn({onFailure:()=>f.cS(),onSuccess:f.wx(c.KM)}),B.wEe,B.UID(s.TS)),$=/^(\[(\d+)\])$/,V=e=>{const t=e.match($);if(null!==t){const e=t[2];return(0,a.zG)(void 0!==e&&e.length>0?u.G(e):u.YP(),u.VS(P))}return u.YP()},P=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?u.YP():u.G(t)}},79757:(e,t,n)=>{n.d(t,{A5:()=>f,SZ:()=>p,Y:()=>l,iV:()=>u});var r=n(20591),s=n(17316),a=n(10218),i=n(74266),o=n(2338),c=n(50153);const u=a.UID(a.grZ(i.Pm),r.U2(o.KM)),l=e=>a.$Dw(i.Pm,(t=>e(r.U2(t,o.KM)))),f=(0,s.OB)(2,((e,t)=>a.LzL(e,i.Pm,r.IH(o.KM,t)))),p=e=>c.lS(i.Pm,r.IH(o.KM,e))},40197:(e,t,n)=>{n.d(t,{CE:()=>D,IH:()=>O,MH:()=>I,Og:()=>f,PI:()=>y,Rl:()=>N,Sy:()=>w,TS:()=>B,U2:()=>E,Vp:()=>g,YR:()=>v,aC:()=>_,cS:()=>k,ei:()=>x,fC:()=>b,uq:()=>d});var r=n(67492),s=n(17316),a=n(89379),i=n(16371),o=n(92817),c=n(71335),u=n(10020),l=n(70602);const f=Symbol.for("effect/Context/Tag"),p=Symbol.for("effect/STM"),h={...u.tU,_tag:"Tag",_op:"Tag",[p]:u.Qo,[f]:{_Service:e=>e,_Identifier:e=>e},toString(){return(0,i.WU)(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[i.j5](){return this.toJSON()},of:e=>e,context(e){return w(this,e)}},d=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(h);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},g=e=>()=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;function r(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(r,h),r.key=e,Object.defineProperty(r,"stack",{get:()=>n.stack}),r},_=Symbol.for("effect/Context"),m={[_]:{_Services:e=>e},[r.NA](e){if(y(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!r.fS(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[a.NA](){return a.HX(this,a.Rx(this.unsafeMap.size))},pipe(){return(0,o.n)(this,arguments)},toString(){return(0,i.WU)(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(i.au)}},[i.j5](){return this.toJSON()}},b=e=>{const t=Object.create(m);return t.unsafeMap=e,t},y=e=>(0,c.l$)(e,_),v=e=>(0,c.l$)(e,f),S=b(new Map),k=()=>S,w=(e,t)=>b(new Map([[e.key,t]])),O=(0,s.OB)(3,((e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),b(r)})),I=(0,s.OB)(2,((e,t)=>{if(!e.unsafeMap.has(t.key))throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const e=n[2].match(/at (.*)/);e&&(t.message=t.message+` (defined at ${e[1]})`)}}if(t.stack){const e=t.stack.split("\n");e.splice(1,3),t.stack=e.join("\n")}return t})(t);return e.unsafeMap.get(t.key)})),E=I,N=(0,s.OB)(2,((e,t)=>e.unsafeMap.has(t.key)?l.G(e.unsafeMap.get(t.key)):l.YP)),B=(0,s.OB)(2,((e,t)=>{const n=new Map(e.unsafeMap);for(const[e,r]of t.unsafeMap)n.set(e,r);return b(n)})),x=(...e)=>t=>{const n=new Set(e.map((e=>e.key))),r=new Map;for(const[e,s]of t.unsafeMap.entries())n.has(e)&&r.set(e,s);return b(r)},D=(...e)=>t=>{const n=new Map(t.unsafeMap);for(const t of e)n.delete(t.key);return b(n)}},26807:(e,t,n)=>{n.d(t,{Do:()=>X,Xw:()=>T,Q9:()=>P,H5:()=>$t,z:()=>B,wV:()=>Vt,l0:()=>x,Ps:()=>D,ak:()=>K,YO:()=>Y,KP:()=>R,y8:()=>U,C5:()=>F,Gl:()=>A,dL:()=>M,tx:()=>j,mC:()=>z,UA:()=>C,bp:()=>W,bs:()=>Pt,f3:()=>Lt,i2:()=>Xt,gw:()=>$,qI:()=>L,vG:()=>V,gT:()=>q,NP:()=>J,$x:()=>Z,zm:()=>Q,yW:()=>ue,tW:()=>ge,eW:()=>ee,FY:()=>te,Y$:()=>ne,lF:()=>re,Ew:()=>se,n7:()=>ie,tG:()=>oe,Yo:()=>fe,ij:()=>en,Yr:()=>de,YM:()=>_e,ID:()=>me,RC:()=>be,CT:()=>ye,hx:()=>ve,d6:()=>Se,UP:()=>ke,mX:()=>ft,Zp:()=>H,Rc:()=>Kt,cM:()=>Oe,$F:()=>Te,o7:()=>Ee,H:()=>xe,qX:()=>De,PN:()=>Ne,qn:()=>Ie,KE:()=>Be,VX:()=>Re,v8:()=>Yt,zJ:()=>Ae,$p:()=>Me,EQ:()=>ce,HP:()=>je,TS:()=>Ce,tk:()=>ze,YP:()=>$e,IH:()=>Ve,Kw:()=>Pe,Ds:()=>tn,LP:()=>Le,pt:()=>qe,ki:()=>Xe,au:()=>Ke,MC:()=>Ye,aH:()=>He,VZ:()=>Je,MX:()=>Ze,u4:()=>We,nq:()=>Qe,jQ:()=>et,$I:()=>nt,vH:()=>st,E9:()=>Mt,B8:()=>Ft,M2:()=>Ut,Ft:()=>At,DM:()=>jt,my:()=>Ct,A1:()=>zt,js:()=>at,_v:()=>it,xf:()=>Ht,Dp:()=>Jt,pF:()=>ot,i4:()=>ct,bA:()=>ut,_t:()=>lt,Rs:()=>pt,oE:()=>ht,iG:()=>dt,xv:()=>gt,sn:()=>_t,OM:()=>bt,WO:()=>mt,E1:()=>yt,qP:()=>vt,Z7:()=>St,K$:()=>wt,lm:()=>Ot,p6:()=>kt,DV:()=>G,qh:()=>It,d7:()=>Et,wi:()=>Nt,L:()=>Bt,Pg:()=>xt,_g:()=>Zt,gx:()=>Dt,Q2:()=>Gt,kD:()=>Tt,JP:()=>Ge,yz:()=>Rt,cV:()=>Wt,cq:()=>Qt});var r=n(14109),s=n(9605),a=n(20591),i=n(13571),o=n(6639),c=n(17316),u=n(98438),l=n(9551),f=n(16104),p=n(69783),h=n(28074),d=n(16749),g=n(71335),_=n(99768),m=n(2532),b=n(74266),y=n(73858);y.i0,y.N7,y.Fl,y.Sy,y.kH;const v=b.$f;var S=n(80998),k=n(10218),w=n(2108),O=n(60195),I=n(36548),E=n(4536);class N{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new N(this.self)}}const B=(0,c.OB)((e=>k.cdB(e[0])),(function(){const e=arguments;return k.LzL(e[0],k.cMe,"string"==typeof e[1]?u.t8(e[1],e[2]):t=>Object.entries(e[1]).reduce(((e,[t,n])=>u.t8(e,t,n)),t))})),x=e=>k.UID(e,d.G),D=e=>k.d1Y(e,d.G),G=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),k.Z_X((()=>{try{return t()}catch(e){throw k.urF(S.bG(n?n(e):new k.ioe(e)))}}))},T=(0,c.OB)(3,((e,t,n)=>k.kmb(e,(e=>g.l$(e,t)&&e[t]===n.failure?n.onFailure(e):k.bGj(e))))),R=(0,c.OB)(2,((e,t)=>k.Npq(e,(e=>{const n=S.sE(e,(e=>S.QV(e)?d.G(e):d.YP()));switch(n._tag){case"None":return k.DhG(e);case"Some":return t(n.value.defect)}})))),U=(0,c.OB)(2,((e,t)=>k.Bpg(e,{onFailure:e=>{const n=t(e);switch(n._tag){case"None":return k.DhG(e);case"Some":return n.value}},onSuccess:k.ng0}))),F=(0,c.OB)(2,((e,t)=>k.Npq(e,(e=>{const n=S.sE(e,(e=>S.QV(e)?d.G(e):d.YP()));switch(n._tag){case"None":return k.DhG(e);case"Some":{const r=t(n.value.defect);return"Some"===r._tag?r.value:k.DhG(e)}}})))),A=(0,c.OB)(3,((e,t,n)=>k.yNi(e,g.Bd(t),n))),M=(0,c.OB)(2,((e,t)=>{let n;return k.yNi(e,(e=>(n??=Object.keys(t),g.l$(e,"_tag")&&g.HD(e._tag)&&n.includes(e._tag))),(e=>t[e._tag](e)))})),j=e=>k.eYH(e,{onFailure:c.yR,onSuccess:()=>S.cS}),C=s.UA,z=C(k.ng0),$=(0,c.OB)(2,((e,t)=>k.qs5(s._v(t),e))),V=e=>k.ECC(((t,n)=>e({id:t.id(),status:n,interruptors:S.l7(t.getFiberRef(k.LFL))}))),P=V((e=>l.dp(e.interruptors)>0?k.e1i:k.bfT)),L=V(k.ng0),q=e=>ut(e,ge,w.Hg),X=k.ng0({}),K=(0,c.OB)(3,((e,t,n)=>k.VSD(e,(e=>k.UID(n(e),(n=>({...e,[t]:n}))))))),Y=(0,c.OB)(2,((e,t)=>k.UID(e,(e=>({[t]:e}))))),H=(0,c.OB)(3,((e,t,n)=>k.UID(e,(e=>({...e,[t]:n(e)}))))),J=(0,c.OB)(2,((e,t)=>k.RqG((()=>{const n=e[Symbol.iterator](),r=[];let s,a=k.ng0(!1),i=0;for(;(s=n.next())&&!s.done;){const e=s.value,n=i++;a=k.VSD(a,(s=>s?(r.push(e),k.ng0(!0)):t(e,n)))}return k.UID(a,(()=>r))})))),Z=(0,c.OB)(2,((e,t)=>k.RqG((()=>{const n=e[Symbol.iterator](),r=[];let s,a=k.ng0(!0),i=0;for(;(s=n.next())&&!s.done;){const e=s.value,n=i++;a=k.VSD(a,(s=>k.UID(s?t(e,n):k.ng0(!1),(t=>(t||r.push(e),t)))))}return k.UID(a,(()=>r))})))),W=e=>k.UID(k.Do7(),e),Q=e=>k.vxS(e,(()=>k.VSD(k.T4Q(),(()=>Q(e))))),ee=(0,c.OB)(3,((e,t,n)=>ne(e,t,(e=>k.AgX((()=>n(e))))))),te=(0,c.OB)(3,((e,t,n)=>ne(e,t,(()=>k.lFE(n))))),ne=(0,c.OB)(3,((e,t,n)=>k.VSD(e,(e=>t(e)?k.ng0(e):n(e))))),re=(0,c.OB)(3,((e,t,n)=>ne(e,t,(e=>k.zph((()=>n(e))))))),se=(0,c.OB)(2,((e,t)=>k.RqG((()=>{const n=e[Symbol.iterator](),r=n.next();return r.done?k.ng0(d.YP()):ae(n,0,t,r.value)})))),ae=(e,t,n,r)=>k.VSD(n(r,t),(s=>{if(s)return k.ng0(d.G(r));const a=e.next();return a.done?k.ng0(d.YP()):ae(e,t+1,n,a.value)})),ie=e=>k.RqG((()=>{const t=r.EE(e);return r.Od(t)?(0,c.zG)(r.fm(t),_.u4(r.dK(t),((e,t)=>k.vxS(e,(()=>t))))):k.AgX((()=>new k.j5q("Received an empty collection of effects")))})),oe=(0,c.OB)(2,((e,t)=>k.RRI(t(k.RRI(e))))),ce=(0,c.OB)(2,((e,t)=>k.PwY(e,{onFailure:e=>k.ng0(t.onFailure(e)),onSuccess:e=>k.ng0(t.onSuccess(e))}))),ue=(0,c.OB)(2,((e,t)=>k.RqG((()=>le(e[Symbol.iterator](),0,t))))),le=(e,t,n)=>{const r=e.next();return r.done?k.ng0(!0):k.VSD(n(r.value,t),(r=>r?le(e,t+1,n):k.ng0(r)))},fe=e=>{const t=k.VSD(k.VSD(e,(()=>k.T4Q())),(()=>t));return t};class pe{value;constructor(e){this.value=e}[Symbol.iterator](){return new N(this)}}const he=function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new pe(e)},de=function(){let e;return e=1===arguments.length?arguments[0]:arguments[1].bind(arguments[0]),(0,O.e)(e),k.RqG((()=>{const t=e(he),n=t.next(),r=e=>e.done?k.ng0(e.value):(0,c.zG)(e.value.value,k.VSD((e=>r(t.next(e)))));return r(n)}))},ge=k.ECC((e=>k.ng0(e.getFiberRefs()))),_e=e=>k.VSD(e,(e=>{const t=e[Symbol.iterator]().next();return t.done?k.bGj(new k.buj):k.ng0(t.value)})),me=e=>ce(e,{onFailure:c.Q1,onSuccess:c.Q1}),be=e=>k.Bpg(e,{onFailure:e=>Ee(e,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>k.bfT}),ye=e=>Bt(((t,n)=>o.Ao(n,t,e))),ve=e=>ce(e,{onFailure:c.W8,onSuccess:c.jv}),Se=e=>ce(e,{onFailure:c.jv,onSuccess:c.W8}),ke=(e,t)=>k.RqG((()=>t.while(e)?k.VSD(t.body(e),(e=>ke(e,t))):k.ng0(e))),we=e=>(t,n)=>{const r=d.ij(e);let s,a;return S.m_(t)?(a=t,s=n??""):(s=t,a=n??S.cS),k.ECC((e=>(e.log(s,a,r),k.bfT)))},Oe=we(),Ie=we(p.fM),Ee=we(p.cG),Ne=we(p.kI),Be=we(p.v3),xe=we(p.jj),De=we(p.Gu),Ge=(0,c.OB)(2,((e,t)=>k.VSD(s.b4,(n=>k.LzL(e,k.yVv,f.Ce(h.S(t,n))))))),Te=k.grZ(k.cMe),Re=(e,t)=>t.discard?Fe(e,t.while,t.step,t.body):k.UID(Ue(e,t.while,t.step,t.body),Array.from),Ue=(e,t,n,r)=>k.RqG((()=>t(e)?k.VSD(r(e),(s=>k.UID(Ue(n(e),t,n,r),f.Ce(s)))):k.Z_X((()=>f.cS())))),Fe=(e,t,n,r)=>k.RqG((()=>t(e)?k.VSD(r(e),(()=>Fe(n(e),t,n,r))):k.bfT)),Ae=(0,c.OB)(3,((e,t,n)=>k.RqG((()=>{const r=e[Symbol.iterator](),s=[];let a,i=k.ng0(t),o=0;for(;!(a=r.next()).done;){const e=o++;i=k.VSD(i,(t=>k.UID(n(t,a.value,e),(([e,t])=>(s.push(t),e)))))}return k.UID(i,(e=>[e,s]))})))),Me=(0,c.OB)(2,((e,t)=>k.Bpg(e,{onFailure:e=>k.euP((()=>t(e))),onSuccess:k.ng0}))),je=e=>(0,c.zG)(k.kPu(),k.VSD((t=>(0,c.zG)((e=>ut(e,k.$Re(ge,k.CpT),(([e,t],[n,r])=>[w.Hg(e,n),E.Hg(t,r)])))(e),k.S4Q(t),Ve,k.UID((e=>k.qs5(e,(0,c.zG)(k.Odg(t),k.VSD((([e,t])=>k.as(k.$Re(Ke(e[0]),k.$Cr(e[1])),t))))))))))),Ce=e=>k.PwY(e,{onFailure:e=>k.ng0(e),onSuccess:k.ng0}),ze=e=>k.UID(e,(e=>!e)),$e=e=>k.VSD(e,(e=>{switch(e._tag){case"None":return k.bfT;case"Some":return k.bGj(new k.buj)}})),Ve=e=>k.UID(m.Sy(!0),(t=>k.EpM(k.FNZ(e,m.yO(t,!1))))),Pe=e=>k.PwY(e,{onFailure:()=>k.ng0(d.YP()),onSuccess:e=>k.ng0(d.G(e))}),Le=(0,c.OB)(2,((e,t)=>k.vxS(e,(()=>k.zph(t))))),qe=(0,c.OB)(2,((e,t)=>k.vxS(e,(()=>k.Z_X(t))))),Xe=e=>k.Bpg(e,{onFailure:e=>{const t=Array.from(S.mq(e));return 0===t.length?k.DhG(e):k.bGj(t)},onSuccess:k.ng0}),Ke=e=>Bt(((t,n)=>(0,c.zG)(e,w.r$(t,n)))),Ye=e=>e.length>=1?k.PFx(((t,n)=>{e(n).then((e=>t(k.SID(e)))).catch((e=>t(k.ai8(e))))})):k.PFx((t=>{e().then((e=>t(k.SID(e)))).catch((e=>t(k.ai8(e))))})),He=(0,c.OB)(3,((e,t,n)=>k.RuX((r=>k.qNZ(e,a.IH(r,t,n)))))),Je=(0,c.OB)(3,((e,t,n)=>k.RuX((r=>k.VSD(n,(n=>k.qNZ(e,(0,c.zG)(r,a.IH(t,n))))))))),Ze=b.MD(k.ng0),We=(0,c.OB)(3,((e,t,n)=>_.EE(e).reduce(((e,t,r)=>k.VSD(e,(e=>n(e,t,r)))),k.ng0(t)))),Qe=(0,c.OB)(3,((e,t,n)=>_.EE(e).reduceRight(((e,t,r)=>k.VSD(e,(e=>n(t,e,r)))),k.ng0(t)))),et=(0,c.OB)(3,((e,t,n)=>k.VSD(k.Z_X((()=>e[Symbol.iterator]())),(e=>tt(e,0,t,n.while,n.body))))),tt=(e,t,n,r,s)=>{const a=e.next();return!a.done&&r(n)?k.VSD(s(n,a.value,t),(n=>tt(e,t+1,n,r,s))):k.ng0(n)},nt=(0,c.OB)(2,((e,t)=>k.RqG((()=>rt(e,t))))),rt=(e,t)=>k.VSD(e,(n=>t<=0?k.ng0(n):k.qs5(k.T4Q(),rt(e,t-1)))),st=e=>k.Bpg(e,{onFailure:k.bGj,onSuccess:k.ng0}),at=e=>k.RqG((()=>o.Bi(e))),it=s._v,ot=k.ng0(d.YP()),ct=e=>k.ng0(d.G(e)),ut=(0,c.OB)(3,((e,t,n)=>k.VSD(t,(r=>k.VSD(e,(e=>k.UID(t,(t=>[n(r,t),e])))))))),lt=(0,c.OB)((e=>k.cdB(e[0])),(function(){return ft(arguments[0],"string"==typeof arguments[1]?[I.Sy(arguments[1],arguments[2])]:Object.entries(arguments[1]).map((([e,t])=>I.Sy(e,t))))})),ft=(0,c.OB)(2,((e,t)=>k.LzL(e,k.VPq,(e=>_.G0(e,t))))),pt=(0,c.OB)(2,((e,t)=>k.RqG((()=>{const n=e[Symbol.iterator](),r=[];let s,a=k.ng0(!1),i=0;for(;(s=n.next())&&!s.done;){const e=s.value,n=i++;a=k.VSD(a,(s=>s?k.ng0(!0):(r.push(e),t(e,n))))}return k.UID(a,(()=>r))})))),ht=(0,c.OB)(2,((e,t)=>k.RqG((()=>{const n=e[Symbol.iterator](),r=[];let s,a=k.ng0(!0),i=0;for(;(s=n.next())&&!s.done;){const e=s.value,n=i++;a=k.VSD(a,(s=>(0,c.zG)(s?t(e,n):k.ng0(!1),k.UID((t=>(t&&r.push(e),t))))))}return k.UID(a,(()=>r))})))),dt=(0,c.OB)(2,((e,{onFailure:t,onSuccess:n})=>k.Bpg(e,{onFailure:e=>{const n=S.hl(e);switch(n._tag){case"Left":return k.qs5(t(n.left),k.DhG(e));case"Right":return k.DhG(e)}},onSuccess:e=>k.as(n(e),e)}))),gt=(0,c.OB)(2,((e,t)=>k.Npq(e,(e=>d.EQ(S.tE(e),{onNone:()=>k.DhG(e),onSome:n=>k.qs5(t(n),k.DhG(e))}))))),_t=(0,c.OB)(2,((e,t)=>k.Bpg(e,{onFailure:e=>{const n=S.hl(e);switch(n._tag){case"Left":return k.qs5(t(n.left),k.DhG(e));case"Right":return k.DhG(e)}},onSuccess:k.ng0}))),mt=(0,c.OB)(3,((e,t,n)=>_t(e,(e=>g.Bd(e,t)?n(e):k.bfT)))),bt=(0,c.OB)(2,((e,t)=>k.Bpg(e,{onFailure:e=>k.qs5(t(e),k.DhG(e)),onSuccess:k.ng0}))),yt=e=>vt(e,s.Nl),vt=(0,c.OB)(2,((e,t)=>ut(e,t,((e,t)=>i.o6(t-e))))),St=v(k.ng0),kt=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),t.length>=1?k.PFx(((e,r)=>{try{t(r).then((t=>e(k.SID(t)))).catch((t=>e(k.bGj(n?n(t):new k.ioe(t)))))}catch(t){e(k.bGj(n?n(t):new k.ioe(t)))}})):k.PFx((e=>{try{t().then((t=>e(k.SID(t)))).catch((t=>e(k.bGj(n?n(t):new k.ioe(t)))))}catch(t){e(k.bGj(n?n(t):new k.ioe(t)))}}))},wt=(0,c.OB)(2,((e,t)=>k.VSD(e,(e=>G({try:()=>t.try(e),catch:t.catch}))))),Ot=(0,c.OB)(2,((e,t)=>k.VSD(e,(e=>kt({try:t.try.length>=1?n=>t.try(e,n):()=>t.try(e),catch:t.catch}))))),It=(0,c.OB)(2,((e,t)=>k.RqG((()=>t()?ot:x(e))))),Et=(0,c.OB)(2,((e,t)=>k.VSD(t,(t=>t?ot:x(e))))),Nt=e=>Me(e,S.xH),Bt=e=>k.ECC((t=>(t.setFiberRefs(e(t.id(),t.getFiberRefs())),k.bfT))),xt=(0,c.OB)(3,((e,t,n)=>k.nP$(e,(e=>a.IH(e,t,n(a.MH(e,t))))))),Dt=(0,c.OB)(2,((e,t)=>k.RqG((()=>t()?k.UID(e,d.G):k.ng0(d.YP()))))),Gt=(0,c.OB)(3,((e,t,n)=>k.VSD(k.grZ(t),(t=>n(t)?k.UID(e,(e=>[t,d.G(e)])):k.ng0([t,d.YP()]))))),Tt=(0,c.OB)(3,((e,t,n)=>k.VSD(m.U2(t),(t=>n(t)?k.UID(e,(e=>[t,d.G(e)])):k.ng0([t,d.YP()]))))),Rt=(0,c.OB)(2,((e,t)=>t(e))),Ut=(e,t)=>(...n)=>k.VSD(e,(e=>t(e)(...n))),Ft=(e,t)=>(...n)=>k.UID(e,(e=>t(e)(...n))),At=e=>new Proxy({},{get:(t,n,r)=>(...t)=>k.VSD(e,(e=>e[n](...t)))}),Mt=e=>new Proxy({},{get:(t,n,r)=>k.VSD(e,(e=>k.cdB(e[n])?e[n]:k.ng0(e[n])))}),jt=e=>({functions:At(e),constants:Mt(e)}),Ct=e=>k.UID(k.Do7(),a.Rl(e)),zt=e=>k.VSD(k.Do7(),a.Rl(e)),$t=function(){const e=arguments;return me(k.VSD(Lt,(t=>k.Z_X((()=>{if("string"==typeof e[0])t.attribute(e[0],e[1]);else for(const n in e[0])t.attribute(n,e[0][n])})))))},Vt=(0,c.OB)((e=>k.cdB(e[0])),(function(){const e=arguments;return k.LzL(e[0],k.SUw,"string"==typeof e[1]?u.t8(e[1],e[2]):t=>Object.entries(e[1]).reduce(((e,[t,n])=>u.t8(e,t,n)),t))})),Pt=zt(y.N7),Lt=k.VSD(k.Do7(),(e=>{const t=e.unsafeMap.get(y.N7.key);return void 0!==t&&"Span"===t._tag?k.ng0(t):k.bGj(new k.buj)})),qt=BigInt(0),Xt=k.$Dw(k.of8,(e=>e?s.Nl:k.ng0(qt))),Kt=(0,c.OB)((e=>k.cdB(e[0])),((e,t,n)=>k.LzL(e,k.krj,r.R3({_tag:"SpanLink",span:t,attributes:n??{}})))),Yt=(e,t)=>k.VSD(ge,(n=>k.Z_X((()=>{const i=o.CJ(n,k.gbX),c=o.CJ(n,b.Pm),l=a.U2(c,y.Fl),f=a.U2(c,s.SU),p=o.CJ(n,k.of8),h=o.U2(n,k.SUw),g=o.U2(n,k.krj),m=t?.parent?d.G(t.parent):t?.root?d.YP():a.Rl(i,y.N7),v="Some"===g._tag?void 0!==t?.links?[...r.AO(g.value),...t?.links??[]]:r.AO(g.value):t?.links??_.cS(),S=l.span(e,m,t?.context??a.cS(),v,p?f.unsafeCurrentTimeNanos():qt);return"Some"===h._tag&&u.Ed(h.value,((e,t)=>S.attribute(t,e))),t?.attributes&&Object.entries(t.attributes).forEach((([e,t])=>S.attribute(e,t))),S})))),Ht=k.grZ(k.SUw),Jt=k.grZ(k.krj),Zt=(e,...t)=>{const n=1===t.length?void 0:t[0],r=t[t.length-1];return k.ni3(Yt(e,n),r,((e,t)=>k.VSD(Xt,(n=>k.Z_X((()=>e.end(n,t)))))))},Wt=(0,c.OB)(2,((e,t)=>He(e,y.N7,t))),Qt=(0,c.OB)((e=>"string"!=typeof e[0]),((e,t,n)=>Zt(t,n??{},(t=>Wt(e,t))))),en=e=>null==e?k.bGj(new k.buj):k.ng0(e),tn=e=>k.kmb(k.UID(e,d.G),(e=>k.nNR(e)?ot:k.bGj(e)))},10218:(e,t,n)=>{n.d(t,{$7G:()=>cr,$Cr:()=>Ke,$Dw:()=>vt,$Re:()=>tt,$cv:()=>Er,AZM:()=>Fn,AgX:()=>ne,BWU:()=>Dt,Bcn:()=>Qt,Bpg:()=>me,Bs2:()=>tr,CpT:()=>Me,DSj:()=>Dn,DhG:()=>oe,Do7:()=>Fr,E0T:()=>Mt,ECC:()=>z,ENG:()=>Y,EXC:()=>Et,EaP:()=>ve,EpM:()=>P,FNZ:()=>Ye,Fh8:()=>Zn,FiN:()=>at,Gp9:()=>gn,HSD:()=>wr,HYP:()=>Qn,HZA:()=>gr,Hib:()=>He,Hjt:()=>U,IN$:()=>T,Ioz:()=>Tn,J7b:()=>Te,J9x:()=>yr,JFt:()=>se,Jng:()=>jr,KTm:()=>Kn,KiG:()=>Vn,KwY:()=>br,L$o:()=>qn,LFL:()=>Yt,LJp:()=>fn,Lth:()=>dt,LzL:()=>Nt,M0x:()=>sr,M2X:()=>ht,MZf:()=>Tt,N8w:()=>_t,Nbs:()=>he,Ngl:()=>lt,Npq:()=>q,OJ4:()=>hr,OZu:()=>dn,ObN:()=>Qe,Odg:()=>_r,Of7:()=>Ft,PFx:()=>L,Po9:()=>pe,PwY:()=>be,QtZ:()=>Dr,R$E:()=>gt,RHV:()=>yn,RRI:()=>ge,RX8:()=>ft,R_A:()=>Nn,RqG:()=>Ce,RuX:()=>Ar,RxE:()=>Ie,RxU:()=>Yn,S4Q:()=>Ee,S5h:()=>vr,SAn:()=>Be,SID:()=>rr,SMH:()=>Pn,SUw:()=>Jt,T4Q:()=>et,Ti7:()=>nt,U76:()=>zt,UID:()=>Ne,UO$:()=>qe,USh:()=>un,UnW:()=>Gr,V74:()=>Wn,VEn:()=>lr,VPq:()=>qt,VSD:()=>fe,V_D:()=>ct,WGV:()=>xt,WnW:()=>ln,XIR:()=>or,XZ7:()=>Xn,Xre:()=>ee,Yxn:()=>Ve,Z5L:()=>rn,ZLd:()=>Ze,ZYt:()=>We,Z_X:()=>ze,Zjb:()=>F,_7M:()=>ut,_TW:()=>ir,a69:()=>ar,ai8:()=>Cn,aoR:()=>nr,as:()=>V,bGj:()=>ae,bT5:()=>$n,bfT:()=>Xe,buj:()=>wn,bwX:()=>$e,cMe:()=>At,cdB:()=>C,d1Y:()=>xe,dG6:()=>fr,dcz:()=>Rn,dsk:()=>Ge,e1i:()=>ke,e3I:()=>Ue,eQB:()=>Bn,eYH:()=>_e,eq6:()=>Jn,eqx:()=>St,euP:()=>ce,ezx:()=>ue,f6m:()=>R,fX8:()=>Gn,fa7:()=>Mn,gKZ:()=>xr,gTV:()=>Vt,gbX:()=>Rt,giG:()=>Hn,grZ:()=>yt,i26:()=>Sr,ioe:()=>xn,j5q:()=>vn,jNB:()=>Sn,jxF:()=>jn,kPu:()=>dr,kgb:()=>Bt,klV:()=>mr,kmb:()=>X,krj:()=>Zt,kxj:()=>D,l9G:()=>Je,lFE:()=>te,lNG:()=>bn,laO:()=>Gt,m4x:()=>we,m_5:()=>hn,mrY:()=>le,n67:()=>_n,n86:()=>Nr,nNR:()=>On,nP$:()=>Cr,nYm:()=>In,ng0:()=>je,ni3:()=>$,o9$:()=>ye,oGW:()=>H,oMA:()=>zn,of8:()=>Ht,ohq:()=>Kt,opO:()=>Ut,otW:()=>Wt,pB5:()=>Or,pHF:()=>Se,pcb:()=>Ln,qM6:()=>kn,qNZ:()=>Mr,qQ3:()=>De,qko:()=>W,qs5:()=>rt,rLI:()=>mn,re6:()=>Br,roQ:()=>nn,skT:()=>Ir,tDY:()=>Pt,tFM:()=>en,tVo:()=>Ae,tfQ:()=>sn,u9x:()=>ur,u_W:()=>it,um_:()=>Oe,uqd:()=>Ct,urF:()=>G,uw7:()=>Lt,vDZ:()=>$t,veJ:()=>tn,vxS:()=>Re,wEe:()=>re,wUc:()=>Le,wal:()=>An,war:()=>Fe,wvn:()=>er,xHg:()=>de,xUq:()=>pt,x_F:()=>Xt,y8V:()=>Un,yL_:()=>st,yNi:()=>K,yVg:()=>cn,yVv:()=>jt,yd6:()=>kr,zMc:()=>En,zU1:()=>ot,zph:()=>ie,zxF:()=>Tr});var r=n(14109),s=n(20591),a=n(87585),i=n(67492),o=n(57303),c=n(17316),u=n(4726),l=n(89379),f=n(98438),p=n(16371),h=n(16104),d=n(23182),g=n(16749),_=n(92817),m=n(71335),b=n(99768),y=n(26045),v=n(80998),S=n(32387),k=n(49398),w=n(10020),O=n(60195),I=n(4219),E=n(11713),N=n(4536),B=n(73858);const x=Symbol.for("effect/EffectError"),D=e=>(0,m.l$)(e,x),G=e=>({[x]:x,_tag:"EffectError",cause:e}),T=(e,t)=>{const n=new A("Blocked");return n.i0=e,n.i1=t,n},R=e=>{const t=new A("RunBlocked");return t.i0=e,t},U=Symbol.for("effect/Effect");class F{patch;op;_op=E.JX;constructor(e,t){this.patch=e,this.op=t}}class A{_op;i0=void 0;i1=void 0;i2=void 0;trace=void 0;[U]=w.Qo;constructor(e){this._op=e}[i.NA](e){return this===e}[l.NA](){return l.HX(this,l.MX(this))}pipe(){return(0,_.n)(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,i0:(0,p.au)(this.i0),i1:(0,p.au)(this.i1),i2:(0,p.au)(this.i2)}}toString(){return(0,p.WU)(this.toJSON())}[p.j5](){return this.toJSON()}}class M{_op;i0=void 0;i1=void 0;i2=void 0;trace=void 0;[U]=w.Qo;constructor(e){this._op=e,this._tag=e}[i.NA](e){return this===e}[l.NA](){return l.HX(this,l.MX(this))}get cause(){return this.i0}pipe(){return(0,_.n)(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return(0,p.WU)(this.toJSON())}[p.j5](){return this.toJSON()}}class j{_op;i0=void 0;i1=void 0;i2=void 0;trace=void 0;[U]=w.Qo;constructor(e){this._op=e,this._tag=e}[i.NA](e){return this===e}[l.NA](){return l.HX(this,l.MX(this))}get value(){return this.i0}pipe(){return(0,_.n)(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:(0,p.au)(this.value)}}toString(){return(0,p.WU)(this.toJSON())}[p.j5](){return this.toJSON()}}const C=e=>(0,m.l$)(e,U),z=e=>{(0,O.e)(e);const t=new A(E.EV);return t.i0=e,t},$=(0,c.OB)(3,((e,t,n)=>qe((r=>fe(e,(e=>fe(se(Ce((()=>r(t(e))))),(t=>Ce((()=>n(e,t))).pipe(me({onFailure:e=>{switch(t._tag){case E.N4:return oe(v.Mf(t.i0,e));case E.x$:return oe(e)}},onSuccess:()=>t})))))))))),V=(0,c.OB)(2,((e,t)=>fe(e,(()=>je(t))))),P=e=>V(e,void 0),L=(e,t=o.YP)=>Ce((()=>{let n,r;function s(e){n?n(e):void 0===r&&(r=e)}(0,O.e)(e);const a=new A(E.m7);let i,o;return a.i0=e=>{n=e,r&&e(r)},a.i1=t,1!==e.length?(o=new AbortController,i=e(s,o.signal)):i=e(s),i||o?Te(a,(e=>(o&&o.abort(),i??Xe))):a})),q=(0,c.OB)(2,((e,t)=>{const n=new A(E.PF);return n.i0=e,n.i1=t,(0,O.e)(t),n})),X=(0,c.OB)(2,((e,t)=>be(e,{onFailure:t,onSuccess:je}))),K=(0,c.OB)(3,((e,t,n)=>q(e,(e=>{const r=v.hl(e);switch(r._tag){case"Left":return t(r.left)?n(r.left):oe(e);case"Right":return oe(r.right)}})))),Y=(0,c.OB)(2,((e,t)=>q(e,(e=>{const n=v.hl(e);switch(n._tag){case"Left":return(0,c.zG)(t(n.left),g.fS((()=>oe(e))));case"Right":return oe(n.right)}})))),H=e=>z(((t,n)=>e(N.GO(n.runtimeFlags)))),J=Symbol.for("effect/SpanAnnotation"),Z=Symbol.for("effect/OriginalAnnotation"),W=e=>(0,m.l$)(e,Z)?e[Z]:e,Q=(e,t)=>g.pC(t)?new Proxy(e,{has:(e,t)=>t===J||t===Z||t in e,get:(n,r)=>r===J?t.value:r===Z?e:n[r]}):e,ee=e=>(0,m.Kn)(e)&&!(J in e)?z((t=>oe(v.Xr(Q(e,zr(t)))))):oe(v.Xr(e)),te=e=>ce((()=>v.Xr(new dn(e)))),ne=e=>fe(ze(e),ee),re=e=>be(e,{onFailure:e=>je(a.t$(e)),onSuccess:e=>je(a.F2(e))}),se=e=>_e(e,{onFailure:Vn,onSuccess:rr}),ae=e=>(0,m.Kn)(e)&&!(J in e)?z((t=>oe(v.bG(Q(e,zr(t)))))):oe(v.bG(e)),ie=e=>fe(ze(e),ae),oe=e=>{const t=new M(E.N4);return t.i0=e,t},ce=e=>fe(ze(e),oe),ue=z((e=>je(e.id()))),le=e=>z((t=>e(t.id()))),fe=(0,c.OB)(2,((e,t)=>{(0,O.e)(t);const n=new A(E.rm);return n.i0=e,n.i1=t,n})),pe=(0,c.OB)(2,((e,t)=>fe(e,(e=>{const n="function"==typeof t?t(e):t;return C(n)?n:(0,m.tI)(n)?L((e=>{n.then((t=>e(je(t)))).catch((t=>e(ae(new xn(t)))))})):je(n)})))),he=e=>{const t=new A("OnStep");return t.i0=e,t},de=e=>fe(e,c.yR),ge=e=>be(e,{onFailure:je,onSuccess:ae}),_e=(0,c.OB)(2,((e,t)=>me(e,{onFailure:e=>je(t.onFailure(e)),onSuccess:e=>je(t.onSuccess(e))}))),me=(0,c.OB)(2,((e,t)=>{const n=new A(E.kf);return n.i0=e,n.i1=t.onFailure,n.i2=t.onSuccess,(0,O.e)(t.onFailure),(0,O.e)(t.onSuccess),n})),be=(0,c.OB)(2,((e,t)=>me(e,{onFailure:e=>{if(v.B4(e).length>0)return oe(v.jH(e));const n=v.mq(e);return n.length>0?t.onFailure(r.nx(n)):oe(e)},onSuccess:t.onSuccess}))),ye=(0,c.OB)(2,((e,t)=>Ce((()=>{const n=b.EE(e),r=new Array(n.length);let s=0;return V(He({while:()=>s<n.length,body:()=>t(n[s],s),step:e=>{r[s++]=e}}),r)})))),ve=(0,c.OB)(2,((e,t)=>Ce((()=>{const n=b.EE(e);let r=0;return He({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})))),Se=(0,c.OB)((e=>"boolean"==typeof e[0]||C(e[0])),((e,{onFalse:t,onTrue:n})=>"boolean"==typeof e?e?n:t:fe(e,(e=>e?n:t)))),ke=fe(ue,(e=>we(e))),we=e=>oe(v.e1(e)),Oe=e=>{const t=new A(E.rk);return t.i0=y.wp(N.tm),t.i1=()=>e,t},Ie=e=>{(0,O.e)(e);const t=new A(E.rk);return t.i0=y.wp(N.tm),t.i1=t=>N.GO(t)?e(Oe):e(Le),t},Ee=(0,c.OB)(2,((e,t)=>qe((n=>fe(se(n(e)),(e=>yr(t,e))))))),Ne=(0,c.OB)(2,((e,t)=>fe(e,(e=>ze((()=>t(e))))))),Be=(0,c.OB)(2,((e,t)=>be(e,{onFailure:e=>ie((()=>t.onFailure(e))),onSuccess:e=>ze((()=>t.onSuccess(e)))}))),xe=(0,c.OB)(2,((e,t)=>me(e,{onFailure:e=>{const n=v.hl(e);switch(n._tag){case"Left":return ie((()=>t(n.left)));case"Right":return oe(n.right)}},onSuccess:je}))),De=(0,c.OB)(2,((e,t)=>Ge(e,(e=>Rn(e)?Xe:t(e.i0))))),Ge=(0,c.OB)(2,((e,t)=>qe((n=>me(n(e),{onFailure:e=>{const n=Vn(e);return me(t(n),{onFailure:t=>Vn(v.Pe(e,t)),onSuccess:()=>n})},onSuccess:e=>{const n=rr(e);return rt(t(n),n)}}))))),Te=(0,c.OB)(2,((e,t)=>Ge(e,tr({onFailure:e=>v.Jq(e)?P(t(v.l7(e))):Xe,onSuccess:()=>Xe})))),Re=(0,c.OB)(2,((e,t)=>Pe(e,t,je))),Ue=e=>Fe(e,c.yR),Fe=(0,c.OB)(2,((e,t)=>be(e,{onFailure:e=>ee(t(e)),onSuccess:je}))),Ae=(e,t)=>b.EE(e).reduceRight((([e,n],r)=>{const s=t(r);switch(s._tag){case"Left":return[[s.left,...e],n];case"Right":return[e,[s.right,...n]]}}),[new Array,new Array]),Me=z(((e,t)=>je(t.runtimeFlags))),je=e=>{const t=new j(E.x$);return t.i0=e,t},Ce=e=>fe(ze(e),c.yR),ze=e=>{(0,O.e)(e);const t=new A(E.Q0);return t.i0=e,t},$e=(0,c.OB)(2,((e,t)=>fe(e,(e=>{const n="function"==typeof t?t(e):t;return C(n)?V(n,e):(0,m.tI)(n)?L((t=>{n.then((n=>t(je(e)))).catch((e=>t(ae(new xn(e)))))})):je(e)})))),Ve=e=>z((t=>{const n=t.getFiberRef(Kt),r=(0,c.zG)(n,g.fS((()=>t.scope())));return e(Et(Kt,g.G(r)))})),Pe=(0,c.OB)(3,((e,t,n)=>me(e,{onFailure:e=>v.B4(e).length>0?oe(g.gf(v.EI(e))):t(),onSuccess:n}))),Le=e=>{const t=new A(E.rk);return t.i0=y.h$(N.tm),t.i1=()=>e,t},qe=e=>{(0,O.e)(e);const t=new A(E.rk);return t.i0=y.h$(N.tm),t.i1=t=>N.GO(t)?e(Oe):e(Le),t},Xe=je(void 0),Ke=e=>{const t=new A(E.rk);return t.i0=e,t.i1=void 0,t},Ye=(0,c.OB)(2,((e,t)=>fe(t,(t=>t?(0,c.zG)(e,Ne(g.G)):je(g.YP()))))),He=e=>{const t=new A(E.Pv);return t.i0=e.while,t.i1=e.body,t.i2=e.step,(0,O.e)(e.body),(0,O.e)(e.step),(0,O.e)(e.while),t},Je=(0,c.OB)(2,((e,t)=>Et(e,$t,t))),Ze=(0,c.OB)(2,((e,t)=>Et(e,Vt,t))),We=(0,c.OB)(2,((e,t)=>{const n=new A(E.rk);return n.i0=t,n.i1=()=>e,n})),Qe=(0,c.OB)(2,((e,t)=>Et(e,Ht,t))),et=e=>{const t=new A(E.gl);return void 0!==e?.priority?Ct(t,e.priority):t},tt=(0,c.OB)(2,((e,t)=>fe(e,(e=>Ne(t,(t=>[e,t])))))),nt=(0,c.OB)(2,((e,t)=>fe(e,(e=>V(t,e))))),rt=(0,c.OB)(2,((e,t)=>fe(e,(()=>t)))),st=(0,c.OB)(3,((e,t,n)=>fe(e,(e=>Ne(t,(t=>n(e,t))))))),at=L((()=>{const e=setInterval((()=>{}),2**31-1);return ze((()=>clearInterval(e)))})),it=e=>fe(ue,(t=>(0,c.zG)(e,ot(t)))),ot=(0,c.OB)(2,((e,t)=>fe(e.interruptAsFork(t),(()=>e.await)))),ct={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return(0,_.n)(this,arguments)}},ut={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return(0,_.n)(this,arguments)}},lt={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return(0,_.n)(this,arguments)}},ft={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return(0,_.n)(this,arguments)}},pt={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return(0,_.n)(this,arguments)}},ht={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return(0,_.n)(this,arguments)}},dt={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return(0,_.n)(this,arguments)}},gt={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return(0,_.n)(this,arguments)}},_t=[ct,dt,ht,pt,ft,lt,ut,gt],mt=Symbol.for("effect/FiberRef"),bt={_A:e=>e},yt=e=>kt(e,(e=>[e,e])),vt=(0,c.OB)(2,((e,t)=>fe(yt(e),t))),St=(0,c.OB)(2,((e,t)=>kt(e,(()=>[void 0,t])))),kt=(0,c.OB)(2,((e,t)=>z((n=>{const[r,s]=t(n.getFiberRef(e));return n.setFiberRef(e,s),je(r)})))),wt=Symbol.for("effect/RequestResolver");class Ot{runAll;target;[wt]=requestResolverVariance;constructor(e,t){this.runAll=e,this.target=t,this.runAll=e}[l.NA](){return Hash.cached(this,this.target?Hash.hash(this.target):Hash.random(this))}[i.NA](e){return this.target?It(e)&&Equal.equals(this.target,e.target):this===e}identified(...e){return new Ot(this.runAll,Chunk.fromIterable(e))}pipe(){return pipeArguments(this,arguments)}}const It=e=>hasProperty(e,wt),Et=(0,c.OB)(3,((e,t,n)=>$(nt(yt(t),St(t,n)),(()=>e),(e=>St(t,e))))),Nt=(0,c.OB)(3,((e,t,n)=>vt(t,(r=>Et(e,t,n(r)))))),Bt=(e,t)=>Gt(e,{differ:k.Vx(),fork:t?.fork??c.yR,join:t?.join}),xt=e=>{const t=k.OS();return Gt(e,{differ:t,fork:t.empty})},Dt=e=>{const t=k.NZ();return Gt(e,{differ:t,fork:t.empty})},Gt=(e,t)=>({[mt]:bt,initial:e,diff:(e,n)=>t.differ.diff(e,n),combine:(e,n)=>t.differ.combine(e,n),patch:e=>n=>t.differ.patch(e,n),fork:t.fork,join:t.join??((e,t)=>t),pipe(){return(0,_.n)(this,arguments)}}),Tt=e=>Gt(e,{differ:N.FZ,fork:N.FZ.empty}),Rt=(0,u.K)(Symbol.for("effect/FiberRef/currentContext"),(()=>Dt(s.cS()))),Ut=(0,u.K)(Symbol.for("effect/FiberRef/currentSchedulingPriority"),(()=>Bt(0))),Ft=(0,u.K)(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),(()=>Bt(2048))),At=(0,u.K)(Symbol.for("effect/FiberRef/currentLogAnnotation"),(()=>Bt(f.cS()))),Mt=(0,u.K)(Symbol.for("effect/FiberRef/currentLogLevel"),(()=>Bt(pt))),jt=(0,u.K)(Symbol.for("effect/FiberRef/currentLogSpan"),(()=>Bt(h.cS()))),Ct=(0,c.OB)(2,((e,t)=>Et(e,Ut,t))),zt=(0,c.OB)(2,((e,t)=>Et(e,Ft,t))),$t=(0,u.K)(Symbol.for("effect/FiberRef/currentConcurrency"),(()=>Bt("unbounded"))),Vt=(0,u.K)(Symbol.for("effect/FiberRef/currentRequestBatching"),(()=>Bt(!0))),Pt=(0,u.K)(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),(()=>Bt(g.G(ht)))),Lt=(0,c.OB)(2,((e,t)=>Et(e,Pt,t))),qt=(0,u.K)(Symbol.for("effect/FiberRef/currentMetricLabels"),(()=>(e=>{const t=k.Bk(k.Vx());return Gt(e,{differ:t,fork:t.empty})})(b.cS()))),Xt=yt(qt),Kt=(0,u.K)(Symbol.for("effect/FiberRef/currentForkScopeOverride"),(()=>Bt(g.YP(),{fork:()=>g.YP(),join:(e,t)=>e}))),Yt=(0,u.K)(Symbol.for("effect/FiberRef/currentInterruptedCause"),(()=>Bt(v.cS,{fork:()=>v.cS,join:(e,t)=>e}))),Ht=(0,u.K)(Symbol.for("effect/FiberRef/currentTracerTiming"),(()=>Bt(!0))),Jt=(0,u.K)(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),(()=>Bt(f.cS()))),Zt=(0,u.K)(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),(()=>Bt(r.cS()))),Wt=Symbol.for("effect/Scope"),Qt=Symbol.for("effect/CloseableScope"),en=(e,t)=>e.addFinalizer((()=>P(t))),tn=(e,t)=>e.addFinalizer(t),nn=(e,t)=>e.close(t),rn=(e,t)=>e.fork(t),sn=(0,c.OB)(2,((e,t)=>Ne(on(e,t),g.EQ({onNone:()=>()=>Xe,onSome:t=>n=>an(t,n)(e)})))),an=(0,c.OB)(3,((e,t,n)=>Ce((()=>{switch(e.state._tag){case"Exited":return Xe;case"Running":{const r=e.state.finalizers.get(t);return e.state.finalizers.delete(t),null!=r?e.state.update(r)(n):Xe}}})))),on=(0,c.OB)(2,((e,t)=>Ce((()=>{switch(e.state._tag){case"Exited":return e.state.nextKey+=1,V(t(e.state.exit),g.YP());case"Running":{const n=e.state.nextKey;return e.state.finalizers.set(n,t),e.state.nextKey+=1,je(g.G(n))}}})))),cn=ze((()=>({state:{_tag:"Running",nextKey:0,finalizers:new Map,update:c.yR}}))),un=e=>ln(c.yR)(e),ln=(0,c.OB)(2,((e,t)=>{const n=(0,c.zG)(e,v.Iv,g.UI(t));switch(n._tag){case"None":return(0,c.zG)(v.B4(e),r.YM,g.EQ({onNone:()=>{const t=Array.from(v.l7(e)).flatMap((e=>Array.from(o.r$(e)).map((e=>`#${e}`))));return new mn(t?`Interrupted by fibers: ${t.join(", ")}`:void 0)},onSome:c.yR}));case"Some":return n.value}})),fn=function(){class e extends globalThis.Error{commit(){return ae(this)}toString(){return this.message?`${this.name}: ${this.message}`:this.name}toJSON(){return{...this}}[p.j5](){const e=this.stack;return e?`${this.toString()}\n${e.split("\n").slice(1).join("\n")}`:this.toString()}}return Object.assign(e.prototype,w.Sh),e}(),pn=(e,t)=>{class n extends fn{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},hn=Symbol.for("effect/Cause/errors/RuntimeException"),dn=pn({[hn]:hn},"RuntimeException"),gn=e=>(0,m.l$)(e,hn),_n=Symbol.for("effect/Cause/errors/InterruptedException"),mn=pn({[_n]:_n},"InterruptedException"),bn=e=>(0,m.l$)(e,_n),yn=Symbol.for("effect/Cause/errors/IllegalArgument"),vn=pn({[yn]:yn},"IllegalArgumentException"),Sn=e=>(0,m.l$)(e,yn),kn=Symbol.for("effect/Cause/errors/NoSuchElement"),wn=pn({[kn]:kn},"NoSuchElementException"),On=e=>(0,m.l$)(e,kn),In=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),En=Symbol.for("effect/Cause/errors/Timeout"),Nn=pn({[En]:En},"TimeoutException"),Bn=Symbol.for("effect/Cause/errors/UnknownException"),xn=function(){class e extends fn{error;_tag="UnknownException";constructor(e,t){super(t??((0,m.l$)(e,"message")&&(0,m.HD)(e.message)?e.message:void 0)),this.error=e}}return Object.assign(e.prototype,{[Bn]:Bn,name:"UnknownException"}),e}(),Dn=e=>(0,m.l$)(e,Bn),Gn=e=>C(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Tn=e=>"Failure"===e._tag,Rn=e=>"Success"===e._tag,Un=e=>{switch(e._tag){case E.N4:return v.td(e.i0);case E.x$:return!1}},Fn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return Vn(e.i0);case E.x$:return rr(t)}})),An=e=>Fn(e,void 0),Mn=e=>{switch(e._tag){case E.N4:return g.G(e.i0);case E.x$:return g.YP()}},jn=(e,t)=>pr(e,t?.parallel?v.Mf:v.Pe),Cn=e=>Vn(v.Xr(e)),zn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return!1;case E.x$:return t(e.i0)}})),$n=e=>Vn(v.bG(e)),Vn=e=>{const t=new M(E.N4);return t.i0=e,t},Pn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return Vn(e.i0);case E.x$:return t(e.i0)}})),Ln=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return je(Vn(e.i0));case E.x$:return t(e.i0)}})),qn=e=>(0,c.zG)(e,Pn(c.yR)),Xn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return je(Vn(e.i0));case E.x$:return se(t(e.i0))}})),Kn=e=>{switch(e._tag){case"Left":return $n(e.left);case"Right":return rr(e.right)}},Yn=e=>{switch(e._tag){case"None":return $n(void 0);case"Some":return rr(e.value)}},Hn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return t(e.i0);case E.x$:return e.i0}})),Jn=e=>Vn(v.e1(e)),Zn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return Vn(e.i0);case E.x$:return rr(t(e.i0))}})),Wn=(0,c.OB)(2,((e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case E.N4:return Vn((0,c.zG)(e.i0,v.UI(t)));case E.x$:return rr(n(e.i0))}})),Qn=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return Vn((0,c.zG)(e.i0,v.UI(t)));case E.x$:return rr(e.i0)}})),er=(0,c.OB)(2,((e,t)=>{switch(e._tag){case E.N4:return Vn(t(e.i0));case E.x$:return rr(e.i0)}})),tr=(0,c.OB)(2,((e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case E.N4:return t(e.i0);case E.x$:return n(e.i0)}})),nr=(0,c.OB)(2,((e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case E.N4:return t(e.i0);case E.x$:return n(e.i0)}})),rr=e=>{const t=new j(E.x$);return t.i0=e,t},sr=rr(void 0),ar=(0,c.OB)(2,((e,t)=>fr(e,t,{onSuccess:(e,t)=>[e,t],onFailure:v.Pe}))),ir=(0,c.OB)(2,((e,t)=>fr(e,t,{onSuccess:(e,t)=>e,onFailure:v.Pe}))),or=(0,c.OB)(2,((e,t)=>fr(e,t,{onSuccess:(e,t)=>t,onFailure:v.Pe}))),cr=(0,c.OB)(2,((e,t)=>fr(e,t,{onSuccess:(e,t)=>[e,t],onFailure:v.Mf}))),ur=(0,c.OB)(2,((e,t)=>fr(e,t,{onSuccess:(e,t)=>e,onFailure:v.Mf}))),lr=(0,c.OB)(2,((e,t)=>fr(e,t,{onSuccess:(e,t)=>t,onFailure:v.Mf}))),fr=(0,c.OB)(3,((e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case E.N4:switch(t._tag){case E.x$:return Vn(e.i0);case E.N4:return Vn(n(e.i0,t.i0))}case E.x$:switch(t._tag){case E.x$:return rr(r(e.i0,t.i0));case E.N4:return Vn(t.i0)}}})),pr=(e,t)=>{const n=r.EE(e);return r.Od(n)?(0,c.zG)(r.fm(n),b.u4((0,c.zG)(r.dK(n),Zn(r.of)),((e,n)=>(0,c.zG)(e,fr(n,{onSuccess:(e,t)=>(0,c.zG)(e,r.Ce(t)),onFailure:t})))),Zn(r.GY),Zn((e=>Array.from(e))),g.G):g.YP()},hr=e=>({[S.zD]:S.JV,state:d.Sy(S.Ot([])),blockingOn:e,pipe(){return(0,_.n)(this,arguments)}}),dr=()=>fe(ue,(e=>gr(e))),gr=e=>ze((()=>hr(e))),_r=e=>L((t=>{const n=d.U2(e.state);switch(n._tag){case I.$:return t(n.effect);case I.c:return(0,c.zG)(e.state,d.t8(S.Ot([t,...n.joiners]))),Rr(e,t)}}),e.blockingOn),mr=(0,c.OB)(2,((e,t)=>Ee(t,e))),br=(0,c.OB)(2,((e,t)=>ze((()=>{const n=d.U2(e.state);switch(n._tag){case I.$:return!1;case I.c:(0,c.zG)(e.state,d.t8(S.aT(t)));for(let e=0;e<n.joiners.length;e++)n.joiners[e](t);return!0}})))),yr=(0,c.OB)(2,((e,t)=>br(e,t))),vr=(0,c.OB)(2,((e,t)=>br(e,ae(t)))),Sr=(0,c.OB)(2,((e,t)=>br(e,ie(t)))),kr=(0,c.OB)(2,((e,t)=>br(e,oe(t)))),wr=(0,c.OB)(2,((e,t)=>br(e,ce(t)))),Or=(0,c.OB)(2,((e,t)=>br(e,ee(t)))),Ir=(0,c.OB)(2,((e,t)=>br(e,ne(t)))),Er=e=>fe(ue,(t=>br(e,we(t)))),Nr=(0,c.OB)(2,((e,t)=>br(e,we(t)))),Br=e=>ze((()=>d.U2(e.state)._tag===I.$)),xr=e=>ze((()=>{const t=d.U2(e.state);switch(t._tag){case I.$:return g.G(t.effect);case I.c:return g.YP()}})),Dr=(0,c.OB)(2,((e,t)=>br(e,je(t)))),Gr=(0,c.OB)(2,((e,t)=>br(e,ze(t)))),Tr=(e,t)=>{const n=d.U2(e.state);if(n._tag===I.c){(0,c.zG)(e.state,d.t8(S.aT(t)));for(let e=n.joiners.length-1;e>=0;e--)n.joiners[e](t)}},Rr=(e,t)=>ze((()=>{const n=d.U2(e.state);n._tag===I.c&&(0,c.zG)(e.state,d.t8(S.Ot(n.joiners.filter((e=>e!==t)))))})),Ur=yt(Rt),Fr=()=>Ur,Ar=e=>fe(Fr(),e),Mr=(0,c.OB)(2,((e,t)=>Et(Rt,t)(e))),jr=(0,c.OB)(2,((e,t)=>Nt(Rt,(e=>s.TS(e,t)))(e))),Cr=(0,c.OB)(2,((e,t)=>Ar((n=>Mr(e,t(n)))))),zr=e=>{const t=e.getFiberRef(Rt).unsafeMap.get(B.N7.key);return void 0!==t&&"Span"===t._tag?g.G(t):g.YP()}},69336:(e,t,n)=>{n.d(t,{Kj:()=>i,n_:()=>o});var r=n(67492),s=n(89379),a=n(10020);Array.prototype,s.NA,r.NA;const i=function(){function e(e){e&&Object.assign(this,e)}return e.prototype=a.EO,e}(),o=e=>Object.assign(Object.create(a.EO),e)},74266:(e,t,n)=>{n.d(t,{$f:()=>O,D5:()=>S,MD:()=>k,Nl:()=>b,Pm:()=>d,UA:()=>_,Z0:()=>w,_v:()=>g,b4:()=>m,oJ:()=>I,rZ:()=>y,wD:()=>v});var r=n(20591),s=n(13571),a=n(17316),i=n(4726),o=n(53318),c=n(23308),u=n(10218),l=n(2338),f=n(94023),p=n(73858);const h=(0,a.zG)(r.cS(),r.IH(o.GL,o.Sy()),r.IH(l.KM,l.kO),r.IH(f.XB,f.Sy(4294967296*Math.random()>>>0)),r.IH(c.a6,c.r2()),r.IH(p.Fl,p.qY)),d=(0,i.K)(Symbol.for("effect/DefaultServices/currentServices"),(()=>u.BWU(h))),g=e=>{const t=s.Jx(e);return _((e=>e.sleep(t)))},_=e=>u.$Dw(d,(t=>e(r.U2(t,o.GL)))),m=_((e=>e.currentTimeMillis)),b=_((e=>e.currentTimeNanos)),y=(0,a.OB)(2,((e,t)=>u.LzL(d,r.IH(o.GL,t))(e))),v=(0,a.OB)(2,((e,t)=>u.LzL(d,r.IH(c.a6,t))(e))),S=e=>u.$Dw(d,(t=>e(r.U2(t,c.a6)))),k=e=>u.$Dw(d,(t=>e(r.U2(t,f.XB)))),w=(0,a.OB)(2,((e,t)=>u.LzL(d,r.IH(f.XB,t))(e))),O=e=>u.$Dw(d,(t=>e(r.U2(t,p.Fl)))),I=(0,a.OB)(2,((e,t)=>u.LzL(d,r.IH(p.Fl,t))(e)))},2338:(e,t,n)=>{n.d(t,{KM:()=>i,kO:()=>o});var r=n(20591),s=n(10218);const a=Symbol.for("effect/Console"),i=r.hV("effect/Console"),o={[a]:a,assert:(e,...t)=>s.Z_X((()=>{console.assert(e,...t)})),clear:s.Z_X((()=>{console.clear()})),count:e=>s.Z_X((()=>{console.count(e)})),countReset:e=>s.Z_X((()=>{console.countReset(e)})),debug:(...e)=>s.Z_X((()=>{console.debug(...e)})),dir:(e,t)=>s.Z_X((()=>{console.dir(e,t)})),dirxml:(...e)=>s.Z_X((()=>{console.dirxml(...e)})),error:(...e)=>s.Z_X((()=>{console.error(...e)})),group:e=>e?.collapsed?s.Z_X((()=>console.groupCollapsed(e?.label))):s.Z_X((()=>console.group(e?.label))),groupEnd:s.Z_X((()=>{console.groupEnd()})),info:(...e)=>s.Z_X((()=>{console.info(...e)})),log:(...e)=>s.Z_X((()=>{console.log(...e)})),table:(e,t)=>s.Z_X((()=>{console.table(e,t)})),time:e=>s.Z_X((()=>console.time(e))),timeEnd:e=>s.Z_X((()=>console.timeEnd(e))),timeLog:(e,...t)=>s.Z_X((()=>{console.timeLog(e,...t)})),trace:(...e)=>s.Z_X((()=>{console.trace(...e)})),warn:(...e)=>s.Z_X((()=>{console.warn(...e)})),unsafe:console}},32387:(e,t,n)=>{n.d(t,{JV:()=>a,Ot:()=>i,aT:()=>o,zD:()=>s});var r=n(4219);const s=Symbol.for("effect/Deferred"),a={_E:e=>e,_A:e=>e},i=e=>({_tag:r.c,joiners:e}),o=e=>({_tag:r.$,effect:e})},49398:(e,t,n)=>{n.d(t,{$R:()=>w,Bk:()=>y,M0:()=>f,NZ:()=>d,O0:()=>b,OS:()=>m,Sy:()=>h,Vx:()=>S,ar:()=>_,ok:()=>k,vs:()=>v,yo:()=>g});var r=n(67492),s=n(17316),a=n(79862),i=n(53621),o=n(34937),c=n(27074),u=n(42702),l=n(49451);const f=Symbol.for("effect/Differ"),p={[f]:{_P:s.yR,_V:s.yR}},h=e=>{const t=Object.create(p);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},d=()=>h({empty:i.cS(),combine:(e,t)=>i.$e(t)(e),diff:(e,t)=>i.Hg(e,t),patch:(e,t)=>i.r$(t)(e)}),g=e=>h({empty:a.cS(),combine:(e,t)=>a.$e(t)(e),diff:(t,n)=>a.Hg({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>a.r$(n,e)(t)}),_=e=>h({empty:o.cS(),combine:(e,t)=>o.$e(t)(e),diff:(t,n)=>o.Hg({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>o.r$(n,e)(t)}),m=()=>h({empty:c.cS(),combine:(e,t)=>c.$e(t)(e),diff:(e,t)=>c.Hg(e,t),patch:(e,t)=>c.r$(t)(e)}),b=s.OB(2,((e,t)=>h({empty:u.cS(),combine:(e,t)=>u.$e(e,t),diff:(n,r)=>u.Hg({oldValue:n,newValue:r,left:e,right:t}),patch:(n,r)=>u.r$(n,{oldValue:r,left:e,right:t})}))),y=e=>h({empty:l.cS(),combine:(e,t)=>l.$e(e,t),diff:(t,n)=>l.Hg({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>l.r$(t,n,e)}),v=s.OB(2,((e,{toNew:t,toOld:n})=>h({empty:e.empty,combine:(t,n)=>e.combine(t,n),diff:(t,r)=>e.diff(n(t),n(r)),patch:(r,s)=>t(e.patch(r,n(s)))}))),S=()=>k(((e,t)=>t)),k=e=>h({empty:s.yR,combine:(e,t)=>e===s.yR?t:t===s.yR?e:n=>t(e(n)),diff:(e,t)=>r.fS(e,t)?s.yR:(0,s.a9)(t),patch:(t,n)=>e(n,t(n))}),w=s.OB(2,((e,t)=>h({empty:[e.empty,t.empty],combine:(n,r)=>[e.combine(n[0],r[0]),t.combine(n[1],r[1])],diff:(n,r)=>[e.diff(n[0],r[0]),t.diff(n[1],r[1])],patch:(n,r)=>[e.patch(n[0],r[0]),t.patch(n[1],r[1])]})))},79862:(e,t,n)=>{n.d(t,{$e:()=>y,Hg:()=>b,Lg:()=>o,cS:()=>p,r$:()=>v});var r=n(14109),s=n(67492),a=n(17316),i=n(69336);const o=Symbol.for("effect/DifferChunkPatch");function c(e){return e}const u={...i.Kj.prototype,[o]:{_Value:c,_Patch:c}},l=Object.assign(Object.create(u),{_tag:"Empty"}),f=Object.create(l),p=()=>f,h=Object.assign(Object.create(u),{_tag:"AndThen"}),d=Object.assign(Object.create(u),{_tag:"Append"}),g=Object.assign(Object.create(u),{_tag:"Slice"}),_=Object.assign(Object.create(u),{_tag:"Update"}),m=(e,t)=>{const n=Object.create(_);return n.index=e,n.patch=t,n},b=e=>{let t=0,n=p();for(;t<e.oldValue.length&&t<e.newValue.length;){const i=r.MH(t)(e.oldValue),o=r.MH(t)(e.newValue),c=e.differ.diff(i,o);s.fS(c,e.differ.empty)||(n=(0,a.zG)(n,y(m(t,c)))),t+=1}return t<e.oldValue.length&&(n=(0,a.zG)(n,y(((e,t)=>{const n=Object.create(g);return n.from=0,n.until=t,n})(0,t)))),t<e.newValue.length&&(n=(0,a.zG)(n,y((e=>{const t=Object.create(d);return t.values=e,t})(r.Cw(t)(e.newValue))))),n},y=a.OB(2,((e,t)=>((e,t)=>{const n=Object.create(h);return n.first=e,n.second=t,n})(e,t))),v=a.OB(3,((e,t,n)=>{if("Empty"===e._tag)return t;let s=t,a=r.of(e);for(;r.Od(a);){const e=r.dK(a),t=r.fm(a);switch(e._tag){case"Empty":a=t;break;case"AndThen":a=r.Ce(e.first)(r.Ce(e.second)(t));break;case"Append":s=r.oq(e.values)(s),a=t;break;case"Slice":{const n=r.AO(s);s=r.JN(n.slice(e.from,e.until)),a=t;break}case"Update":{const i=r.AO(s);i[e.index]=n.patch(e.patch,i[e.index]),s=r.JN(i),a=t;break}}}return s}))},53621:(e,t,n)=>{n.d(t,{$e:()=>k,Hg:()=>S,cS:()=>h,gy:()=>c,r$:()=>w});var r=n(14109),s=n(67492),a=n(17316),i=n(40197),o=n(69336);const c=Symbol.for("effect/DifferContextPatch");function u(e){return e}const l={...o.Kj.prototype,[c]:{_Value:u,_Patch:u}},f=Object.assign(Object.create(l),{_tag:"Empty"}),p=Object.create(f),h=()=>p,d=Object.assign(Object.create(l),{_tag:"AndThen"}),g=Object.assign(Object.create(l),{_tag:"AddService"}),_=(e,t)=>{const n=Object.create(g);return n.key=e,n.service=t,n},m=Object.assign(Object.create(l),{_tag:"RemoveService"}),b=e=>{const t=Object.create(m);return t.key=e,t},y=Object.assign(Object.create(l),{_tag:"UpdateService"}),v=(e,t)=>{const n=Object.create(y);return n.key=e,n.update=t,n},S=(e,t)=>{const n=new Map(e.unsafeMap);let r=h();for(const[e,a]of t.unsafeMap.entries())if(n.has(e)){const t=n.get(e);n.delete(e),s.fS(t,a)||(r=k(v(e,(()=>a)))(r))}else n.delete(e),r=k(_(e,a))(r);for(const[e]of n.entries())r=k(b(e))(r);return r},k=a.OB(2,((e,t)=>((e,t)=>{const n=Object.create(d);return n.first=e,n.second=t,n})(e,t))),w=a.OB(2,((e,t)=>{if("Empty"===e._tag)return t;let n=!1,s=r.of(e);const a=new Map(t.unsafeMap);for(;r.Od(s);){const e=r.dK(s),t=r.fm(s);switch(e._tag){case"Empty":s=t;break;case"AddService":a.set(e.key,e.service),s=t;break;case"AndThen":s=r.Ce(r.Ce(t,e.second),e.first);break;case"RemoveService":a.delete(e.key),s=t;break;case"UpdateService":a.set(e.key,e.update(a.get(e.key))),n=!0,s=t}}if(!n)return(0,i.fC)(a);const o=new Map;for(const[e]of t.unsafeMap)a.has(e)&&(o.set(e,a.get(e)),a.delete(e));for(const[e,t]of a)o.set(e,t);return(0,i.fC)(o)}))},34937:(e,t,n)=>{n.d(t,{$e:()=>S,Hg:()=>v,cS:()=>h,r$:()=>k,xH:()=>c});var r=n(14109),s=n(67492),a=n(17316),i=n(98438),o=n(69336);const c=Symbol.for("effect/DifferHashMapPatch");function u(e){return e}const l={...o.Kj.prototype,[c]:{_Value:u,_Key:u,_Patch:u}},f=Object.assign(Object.create(l),{_tag:"Empty"}),p=Object.create(f),h=()=>p,d=Object.assign(Object.create(l),{_tag:"AndThen"}),g=Object.assign(Object.create(l),{_tag:"Add"}),_=(e,t)=>{const n=Object.create(g);return n.key=e,n.value=t,n},m=Object.assign(Object.create(l),{_tag:"Remove"}),b=Object.assign(Object.create(l),{_tag:"Update"}),y=(e,t)=>{const n=Object.create(b);return n.key=e,n.patch=t,n},v=e=>{const[t,n]=i.u4([e.oldValue,h()],(([t,n],r,a)=>{const o=i.U2(a)(t);switch(o._tag){case"Some":{const c=e.differ.diff(o.value,r);return s.fS(c,e.differ.empty)?[i.Od(a)(t),n]:[i.Od(a)(t),S(y(a,c))(n)]}case"None":return[t,S(_(a,r))(n)]}}))(e.newValue);return i.u4(n,((e,t,n)=>S((e=>{const t=Object.create(m);return t.key=e,t})(n))(e)))(t)},S=a.OB(2,((e,t)=>((e,t)=>{const n=Object.create(d);return n.first=e,n.second=t,n})(e,t))),k=a.OB(3,((e,t,n)=>{if("Empty"===e._tag)return t;let s=t,a=r.of(e);for(;r.Od(a);){const e=r.dK(a),t=r.fm(a);switch(e._tag){case"Empty":a=t;break;case"AndThen":a=r.Ce(e.first)(r.Ce(e.second)(t));break;case"Add":s=i.t8(e.key,e.value)(s),a=t;break;case"Remove":s=i.Od(e.key)(s),a=t;break;case"Update":{const r=i.U2(e.key)(s);"Some"===r._tag&&(s=i.t8(e.key,n.patch(e.patch,r.value))(s)),a=t;break}}}return s}))},27074:(e,t,n)=>{n.d(t,{$e:()=>b,Hg:()=>m,cS:()=>p,r$:()=>y,vv:()=>o});var r=n(14109),s=n(17316),a=n(9551),i=n(69336);const o=Symbol.for("effect/DifferHashSetPatch");function c(e){return e}const u={...i.Kj.prototype,[o]:{_Value:c,_Key:c,_Patch:c}},l=Object.assign(Object.create(u),{_tag:"Empty"}),f=Object.create(l),p=()=>f,h=Object.assign(Object.create(u),{_tag:"AndThen"}),d=Object.assign(Object.create(u),{_tag:"Add"}),g=e=>{const t=Object.create(d);return t.value=e,t},_=Object.assign(Object.create(u),{_tag:"Remove"}),m=(e,t)=>{const[n,r]=a.u4([e,p()],(([e,t],n)=>a.e$(n)(e)?[a.Od(n)(e),t]:[e,b(g(n))(t)]))(t);return a.u4(r,((e,t)=>b((e=>{const t=Object.create(_);return t.value=e,t})(t))(e)))(n)},b=s.OB(2,((e,t)=>((e,t)=>{const n=Object.create(h);return n.first=e,n.second=t,n})(e,t))),y=s.OB(2,((e,t)=>{if("Empty"===e._tag)return t;let n=t,s=r.of(e);for(;r.Od(s);){const e=r.dK(s),t=r.fm(s);switch(e._tag){case"Empty":s=t;break;case"AndThen":s=r.Ce(e.first)(r.Ce(e.second)(t));break;case"Add":n=a.IH(e.value)(n),s=t;break;case"Remove":n=a.Od(e.value)(n),s=t}}return n}))},42702:(e,t,n)=>{n.d(t,{$e:()=>v,Hg:()=>y,_e:()=>c,cS:()=>h,r$:()=>S});var r=n(14109),s=n(87585),a=n(67492),i=n(17316),o=n(69336);const c=Symbol.for("effect/DifferOrPatch");function u(e){return e}const l={...o.Kj.prototype,[c]:{_Value:u,_Key:u,_Patch:u}},f=Object.assign(Object.create(l),{_tag:"Empty"}),p=Object.create(f),h=()=>p,d=Object.assign(Object.create(l),{_tag:"AndThen"}),g=Object.assign(Object.create(l),{_tag:"SetLeft"}),_=Object.assign(Object.create(l),{_tag:"SetRight"}),m=Object.assign(Object.create(l),{_tag:"UpdateLeft"}),b=Object.assign(Object.create(l),{_tag:"UpdateRight"}),y=e=>{switch(e.oldValue._tag){case"Left":switch(e.newValue._tag){case"Left":{const t=e.left.diff(e.oldValue.left,e.newValue.left);return a.fS(t,e.left.empty)?h():(e=>{const t=Object.create(m);return t.patch=e,t})(t)}case"Right":return(e=>{const t=Object.create(_);return t.value=e,t})(e.newValue.right)}case"Right":switch(e.newValue._tag){case"Left":return(e=>{const t=Object.create(g);return t.value=e,t})(e.newValue.left);case"Right":{const t=e.right.diff(e.oldValue.right,e.newValue.right);return a.fS(t,e.right.empty)?h():(e=>{const t=Object.create(b);return t.patch=e,t})(t)}}}},v=i.OB(2,((e,t)=>((e,t)=>{const n=Object.create(d);return n.first=e,n.second=t,n})(e,t))),S=i.OB(2,((e,{left:t,oldValue:n,right:a})=>{if("Empty"===e._tag)return n;let i=r.of(e),o=n;for(;r.Od(i);){const e=r.dK(i),n=r.fm(i);switch(e._tag){case"Empty":i=n;break;case"AndThen":i=r.Ce(e.first)(r.Ce(e.second)(n));break;case"UpdateLeft":"Left"===o._tag&&(o=s.t$(t.patch(e.patch,o.left))),i=n;break;case"UpdateRight":"Right"===o._tag&&(o=s.F2(a.patch(e.patch,o.right))),i=n;break;case"SetLeft":o=s.t$(e.value),i=n;break;case"SetRight":o=s.F2(e.value),i=n}}return o}))},49451:(e,t,n)=>{n.d(t,{$e:()=>y,Hg:()=>b,Nb:()=>o,cS:()=>p,r$:()=>v});var r=n(67492),s=n(17316),a=n(99768),i=n(69336);const o=Symbol.for("effect/DifferReadonlyArrayPatch");function c(e){return e}const u={...i.Kj.prototype,[o]:{_Value:c,_Patch:c}},l=Object.assign(Object.create(u),{_tag:"Empty"}),f=Object.create(l),p=()=>f,h=Object.assign(Object.create(u),{_tag:"AndThen"}),d=Object.assign(Object.create(u),{_tag:"Append"}),g=Object.assign(Object.create(u),{_tag:"Slice"}),_=Object.assign(Object.create(u),{_tag:"Update"}),m=(e,t)=>{const n=Object.create(_);return n.index=e,n.patch=t,n},b=e=>{let t=0,n=p();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.oldValue[t],a=e.newValue[t],i=e.differ.diff(s,a);r.fS(i,e.differ.empty)||(n=y(n,m(t,i))),t+=1}return t<e.oldValue.length&&(n=y(n,((e,t)=>{const n=Object.create(g);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=y(n,(e=>{const t=Object.create(d);return t.values=e,t})(a.Cw(t)(e.newValue)))),n},y=s.OB(2,((e,t)=>((e,t)=>{const n=Object.create(h);return n.first=e,n.second=t,n})(e,t))),v=s.OB(3,((e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),s=a.of(e);for(;a.Of(s);){const e=a.dK(s),t=a.fm(s);switch(e._tag){case"Empty":s=t;break;case"AndThen":t.unshift(e.first,e.second),s=t;break;case"Append":for(const t of e.values)r.push(t);s=t;break;case"Slice":r=r.slice(e.from,e.until),s=t;break;case"Update":r[e.index]=n.patch(e.patch,r[e.index]),s=t}}return r}))},34606:(e,t,n)=>{n.d(t,{Ai:()=>K,Bo:()=>A,CL:()=>M,Ct:()=>I,D6:()=>ne,Fi:()=>E,Fw:()=>L,H4:()=>re,HX:()=>B,Ij:()=>U,Lj:()=>q,NZ:()=>N,R0:()=>Y,Vs:()=>X,Xe:()=>F,a7:()=>R,eS:()=>H,oH:()=>V,ql:()=>C,v$:()=>ae,v9:()=>se,x3:()=>P,yE:()=>j,yT:()=>Q,z4:()=>x});var r=n(13571),s=n(67492),a=n(76658),i=n(57303),o=n(17316),c=n(89379),u=n(30424),l=n(16749),f=n(92817),p=n(71335),h=n(22019),d=n(80998),g=n(26807),_=n(10218),m=n(49941),b=n(63914),y=n(50153),v=n(51770),S=n(7411),k=n(97200),w=n(34357);class O{permits;waiters=new Set;taken=0;constructor(e){this.permits=e}get free(){return this.permits-this.taken}take=e=>_.PFx((t=>{if(this.free<e){const n=()=>{this.free<e||(this.waiters.delete(n),this.taken+=e,t(_.ng0(e)))};return this.waiters.add(n),_.Z_X((()=>{this.waiters.delete(n)}))}return this.taken+=e,t(_.ng0(e))}));updateTaken=e=>_.ECC((t=>(this.taken=e(this.taken),this.waiters.size>0&&t.getFiberRef(h.xt).scheduleTask((()=>{const e=this.waiters.values();let t=e.next();for(;!1===t.done&&this.free>0;)t.value(),t=e.next()}),t.getFiberRef(_.opO)),_.ng0(this.free))));release=e=>this.updateTaken((t=>t-e));releaseAll=this.updateTaken((e=>0));withPermits=e=>t=>_.UO$((n=>_.VSD(n(this.take(e)),(e=>y.IH(n(t),this.release(e))))))}const I=e=>new O(e),E=e=>_.Z_X((()=>I(e))),N=e=>U(e,y.GR),B=(0,o.OB)(2,((e,t)=>_.UID(x(e,t),(e=>e[0])))),x=(0,o.OB)(2,((e,t)=>{const n=r.Jx(t);return _.VSD(_.Do7(),(t=>_.UID(Q(l.YP()),(r=>[_.qNZ(G(e,n,r),t),T(r)]))))})),D=(e,t,n)=>{const s=r.eq(r.Jx(t));return(0,o.zG)(_.kPu(),_.bwX((t=>_.S4Q(e,t))),_.UID((e=>l.G([n+s,e]))))},G=(e,t,n)=>_.UO$((r=>(0,o.zG)(g.UA((e=>e.currentTimeMillis)),_.VSD((r=>te(n,(n=>{switch(n._tag){case"None":return l.G(D(e,t,r));case"Some":{const[s]=n.value;return s-r<=0?l.G(D(e,t,r)):l.YP()}}})))),_.VSD((e=>l.Wi(e)?_.lFE("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):r(_.Odg(e.value[1]))))))),T=e=>S.t8(e,l.YP()),R=(0,o.OB)(2,((e,t)=>U(e,(e=>t(y.kC(e)))))),U=(0,o.OB)(2,((e,t)=>_.VSD(w.j,(n=>(0,o.zG)(q(e,n),y.IH(_.VSD(n.value,t))))))),F=(0,o.OB)((e=>p.TW(e[0])),((e,t)=>t?.discard?_.EaP(e,y.rM):_.UID(_.o9$(e,y.rM),y.kC))),A=(0,o.OB)(2,((e,t)=>_.UO$((n=>_.VSD(t.fork(m.Pe),(t=>(0,o.zG)(n(e),_.dsk((e=>t.close(e))),y.Zp,_.bwX((e=>t.addFinalizer((()=>_.mrY((t=>s.fS(t,e.id())?_.bfT:_.EpM(_.u_W(e))))))))))))))),M=e=>y.ZO((t=>A(e,t))),j=e=>b.v_(e),C=e=>_.RqG((()=>_.VSD(e,b.v_))),z=Symbol.for("effect/Effect/memoizeFunction.key");class ${a;eq;[z]=z;constructor(e,t){this.a=e,this.eq=t}[s.NA](e){return!!p.l$(e,z)&&(this.eq?this.eq(this.a,e.a):s.fS(this.a,e.a))}[c.NA](){return this.eq?0:c.HX(this,c.vp(this.a))}}const V=(e,t)=>(0,o.zG)(_.Z_X((()=>u.cS())),_.VSD(Q),_.UID((n=>r=>(0,o.zG)(n.modifyEffect((n=>{const s=(0,o.zG)(n,u.U2(new $(r,t)));return l.Wi(s)?(0,o.zG)(_.kPu(),_.bwX((t=>(0,o.zG)(g.gT(e(r)),_.S4Q(t),y.rM))),_.UID((e=>[e,(0,o.zG)(n,u.t8(new $(r,t),e))]))):_.ng0([s.value,n])})),_.VSD(_.Odg),_.VSD((([e,t])=>(0,o.zG)(g.au(e),_.as(t)))))))),P=(0,o.OB)(2,((e,t)=>(0,o.zG)(_.JFt(e),y.S3(_.JFt(t)),(e=>_.xHg(e))))),L=(0,o.OB)(2,((e,t)=>(0,o.zG)(e,k.fh(t),M))),q=(0,o.OB)(2,((e,t)=>_.LzL(y.o6,(e=>e.zip(t)))(e))),X=(0,o.OB)(2,((e,t)=>K(e,{onTimeout:()=>new _.R_A,duration:t}))),K=(0,o.OB)(2,((e,{duration:t,onTimeout:n})=>_.xHg(H(e,{onTimeout:()=>_.zph(n),onSuccess:_.ng0,duration:t})))),Y=(0,o.OB)(2,((e,{duration:t,onTimeout:n})=>_.xHg(H(e,{onTimeout:()=>_.euP(n),onSuccess:_.ng0,duration:t})))),H=(0,o.OB)(2,((e,{duration:t,onSuccess:n,onTimeout:r})=>_.mrY((s=>y.q4(e,_.um_(g._v(t)),{onSelfWin:(e,t)=>_.VSD(e.await,(r=>"Success"===r._tag?_.VSD(e.inheritAll,(()=>_.as(_.zU1(t,s),n(r.value)))):_.VSD(_.zU1(t,s),(()=>_.KiG(r.cause))))),onOtherWin:(e,t)=>_.VSD(e.await,(n=>"Success"===n._tag?_.VSD(e.inheritAll,(()=>_.as(_.zU1(t,s),r()))):_.VSD(_.zU1(t,s),(()=>_.KiG(n.cause))))),otherScope:v._A}))))),J=Symbol.for("effect/Ref/SynchronizedRef"),Z={_A:e=>e};class W{ref;withLock;[J]=Z;[S.n7]=S.Mr;constructor(e,t){this.ref=e,this.withLock=t}modify(e){return this.modifyEffect((t=>_.ng0(e(t))))}modifyEffect(e){return this.withLock((0,o.zG)(_.VSD(S.U2(this.ref),e),_.VSD((([e,t])=>_.as(S.t8(this.ref,t),e)))))}pipe(){return(0,f.n)(this,arguments)}}const Q=e=>_.Z_X((()=>ee(e))),ee=e=>{const t=S.t0(e),n=I(1);return new W(t,n.withPermits(1))},te=(0,o.OB)(2,((e,t)=>e.modifyEffect((e=>{const n=t(e);switch(n._tag){case"None":return _.ng0([e,e]);case"Some":return _.UID(n.value,(e=>[e,e]))}})))),ne=(0,o.OB)(2,((e,t)=>ae(e,t,((e,t)=>[e,t])))),re=(0,o.OB)(2,((e,t)=>ae(e,t,((e,t)=>e)))),se=(0,o.OB)(2,((e,t)=>ae(e,t,((e,t)=>t)))),ae=(0,o.OB)(3,((e,t,n)=>({[b.tP]:b.kD,id:()=>(0,o.zG)(e.id(),i.fS(t.id())),await:(0,o.zG)(e.await,_.xHg,y.xn(_.xHg(t.await),n,{concurrent:!0}),_.JFt),children:e.children,inheritAll:_.qs5(t.inheritAll,e.inheritAll),poll:_.yL_(e.poll,t.poll,((e,t)=>(0,o.zG)(e,l.VS((e=>(0,o.zG)(t,l.UI((t=>a.yL(e,t,{onSuccess:n,onFailure:d.Mf}))))))))),interruptAsFork:n=>_.qs5(e.interruptAsFork(n),t.interruptAsFork(n)),pipe(){return(0,f.n)(this,arguments)}})))},10020:(e,t,n)=>{n.d(t,{EO:()=>d,Fc:()=>f,G1:()=>l,Hj:()=>c,Qo:()=>p,Sh:()=>_,XY:()=>m,ku:()=>g,qx:()=>u,t3:()=>b,tU:()=>h});var r=n(67492),s=n(89379),a=n(92817),i=n(11713),o=n(69500);const c=Symbol.for("effect/Effect"),u=Symbol.for("effect/Stream"),l=Symbol.for("effect/Sink"),f=Symbol.for("effect/Channel"),p={_R:e=>e,_E:e=>e,_A:e=>e,_V:o.w()},h={[c]:p,[u]:p,[l]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[f]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[r.NA](e){return this===e},[s.NA](){return s.HX(this,s.MX(this))},pipe(){return(0,a.n)(this,arguments)}},d={[s.NA](){return s.HX(this,s.Fh(this))},[r.NA](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const n of t)if(!(n in e)||!r.fS(this[n],e[n]))return!1;return!0}},g={...h,_op:i.vm},_={...g,...d},m=function(){function e(){}return e.prototype=g,e}(),b=function(){function e(){}return e.prototype=_,e}()},75974:(e,t,n)=>{n.d(t,{EK:()=>v,F2:()=>b,FT:()=>d,IS:()=>y,Yo:()=>S,aC:()=>l,nM:()=>g,t$:()=>m,tO:()=>_});var r=n(67492),s=n(17316),a=n(89379),i=n(16371),o=n(71335),c=n(10020),u=n(70602);const l=Symbol.for("effect/Either"),f={...c.tU,[l]:{_R:e=>e},[i.j5](){return this.toJSON()},toString(){return(0,i.WU)(this.toJSON())}},p=Object.assign(Object.create(f),{_tag:"Right",_op:"Right",[r.NA](e){return d(e)&&_(e)&&r.fS(e.right,this.right)},[a.NA](){return a.$e(a.vp(this._tag))(a.vp(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:(0,i.au)(this.right)}}}),h=Object.assign(Object.create(f),{_tag:"Left",_op:"Left",[r.NA](e){return d(e)&&g(e)&&r.fS(e.left,this.left)},[a.NA](){return a.$e(a.vp(this._tag))(a.vp(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:(0,i.au)(this.left)}}}),d=e=>(0,o.l$)(e,l),g=e=>"Left"===e._tag,_=e=>"Right"===e._tag,m=e=>{const t=Object.create(h);return t.left=e,t},b=e=>{const t=Object.create(p);return t.right=e,t},y=e=>_(e)?u.YP:u.G(e.left),v=e=>g(e)?u.YP:u.G(e.right),S=(0,s.OB)(2,((e,t)=>u.Wi(e)?m(t()):b(e.value)))},49941:(e,t,n)=>{n.d(t,{DS:()=>l,EQ:()=>h,Mf:()=>c,Pe:()=>o,gM:()=>p,rN:()=>f,w7:()=>u});var r=n(17316);const s="Sequential",a="Parallel",i="ParallelN",o={_tag:s},c={_tag:a},u=e=>({_tag:i,parallelism:e}),l=e=>e._tag===s,f=e=>e._tag===a,p=e=>e._tag===i,h=(0,r.OB)(4,((e,t,n,r)=>{switch(e._tag){case s:return t();case a:return n();case i:return r(e.parallelism)}}))},63914:(e,t,n)=>{n.d(t,{$l:()=>K,$w:()=>B,A1:()=>w,AO:()=>I,Dh:()=>G,EQ:()=>P,Fi:()=>L,IC:()=>Y,J1:()=>$,Jy:()=>V,K2:()=>F,KM:()=>k,Mt:()=>j,Mz:()=>O,O0:()=>X,QY:()=>te,R2:()=>H,SH:()=>T,UI:()=>z,VK:()=>J,Wr:()=>x,Zq:()=>S,aT:()=>N,bG:()=>D,bf:()=>Q,h3:()=>M,i0:()=>U,i7:()=>Z,id:()=>R,kD:()=>y,m2:()=>A,ng:()=>W,nv:()=>ee,pI:()=>E,tP:()=>b,v_:()=>C,vx:()=>q});var r=n(9605),s=n(87585),a=n(76658),i=n(57303),o=n(23780),c=n(17316),u=n(9551),l=n(15839),f=n(16749),p=n(51988),h=n(92817),d=n(71335),g=n(10218),_=n(51770),m=n(4536);const b=Symbol.for("effect/Fiber"),y={_E:e=>e,_A:e=>e},v={[b]:y,pipe(){return(0,h.n)(this,arguments)}},S=Symbol.for("effect/Fiber"),k=(0,c.zG)(p.bc(l.KM,l.KM),p.$H((e=>[e.id().startTimeMillis,e.id().id]))),w=e=>(0,d.l$)(e,b),O=e=>S in e,I=e=>e.await,E=e=>e.children,N=e=>({...v,id:()=>i.YP,await:g.ng0(e),children:g.ng0([]),inheritAll:g.bfT,poll:g.ng0(f.G(e)),interruptAsFork:()=>g.bfT}),B=e=>g.UID(e.status,(t=>({id:e.id(),status:t}))),x=e=>g.o9$(e,B),D=e=>N(a.bG(e)),G=e=>N(a.Dh(e)),T=e=>g.UID(g.JFt(e),N),R=e=>e.id(),U=e=>e.inheritAll,F=e=>N(a.e1(e)),A=e=>g.VSD(g.ezx,(t=>(0,c.zG)(e,M(t)))),M=(0,c.OB)(2,((e,t)=>(0,c.zG)(g.EaP(e,j(t)),g.qs5((0,c.zG)(e,g.EaP(I)))))),j=(0,c.OB)(2,((e,t)=>e.interruptAsFork(t))),C=e=>g.Ti7(g.xHg(e.await),e.inheritAll),z=(0,c.OB)(2,((e,t)=>$(e,(e=>g.Z_X((()=>t(e))))))),$=(0,c.OB)(2,((e,t)=>({...v,id:()=>e.id(),await:g.VSD(e.await,a.jF(t)),children:e.children,inheritAll:e.inheritAll,poll:g.VSD(e.poll,(e=>{switch(e._tag){case"None":return g.ng0(f.YP());case"Some":return(0,c.zG)(a.jF(e.value,t),g.UID(f.G))}})),interruptAsFork:t=>e.interruptAsFork(t)}))),V=(0,c.OB)(2,((e,t)=>g.UID(e.await,a.EQ({onFailure:e=>G(e),onSuccess:e=>t(e)})))),P=(0,c.OB)(2,((e,{onFiber:t,onRuntimeFiber:n})=>O(e)?n(e):t(e))),L={...v,id:()=>i.YP,await:g.FiN,children:g.ng0([]),inheritAll:g.FiN,poll:g.ng0(f.YP()),interruptAsFork:()=>g.FiN},q=(0,c.OB)(2,((e,t)=>({...v,id:()=>i.fS(e.id(),t.id()),await:g.yL_(e.await,t.await,((e,t)=>a.d6(e)?e:t)),children:e.children,inheritAll:g.qs5(t.inheritAll,e.inheritAll),poll:g.yL_(e.poll,t.poll,((e,t)=>{switch(e._tag){case"None":return f.YP();case"Some":return a.d6(e.value)?e:t}})),interruptAsFork:n=>(0,c.zG)(g.zU1(e,n),g.qs5((0,c.zG)(t,g.zU1(n))),g.EpM)}))),X=(0,c.OB)(2,((e,t)=>q(z(e,s.t$),z(t,s.F2)))),K=e=>e.poll,Y=e=>g.VSD(r.b4,(t=>g.UID(B(e),(e=>{const n=t-e.id.startTimeMillis,{days:r,hours:s,milliseconds:a,minutes:c,seconds:l}=(e=>{const t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3,microseconds:t(1e3*e)%1e3,nanoseconds:t(1e6*e)%1e3}})(n),f=(0===r?"":`${r}d`)+(0===r&&0===s?"":`${s}h`)+(0===r&&0===s&&0===c?"":`${c}m`)+(0===r&&0===s&&0===c&&0===l?"":`${l}s`)+`${a}ms`,p=o.sy(e.status)?(()=>{const t=i.r$(e.status.blockingOn);return u.dp(t)>0?"waiting on "+Array.from(t).map((e=>`${e}`)).join(", "):""})():"",h=(e=>o._b(e)?"Done":o.An(e)?"Running":`Suspended(${m.um(e.runtimeFlags)?"interruptible":"uninterruptible"})`)(e.status);return`[Fiber](#${e.id.id}) (${f}) ${p}\n   Status: ${h}`})))),H=()=>Array.from(_._A.roots),J=g.Z_X(H),Z=e=>e.status,W=e=>N(a.ng(e)),Q=W(void 0),ee="effect/FiberCurrent",te=()=>f.ij(globalThis[ee])},26219:(e,t,n)=>{n.d(t,{$e:()=>B,Er:()=>F,GZ:()=>k,Q9:()=>U,Rg:()=>A,Sy:()=>R,Wi:()=>I,X9:()=>E,YP:()=>S,aC:()=>h,c3:()=>x,ez:()=>O,fS:()=>D,h$:()=>w,k2:()=>N,r$:()=>G,t0:()=>M});var r=n(67492),s=n(17316),a=n(4726),i=n(89379),o=n(9551),c=n(16371),u=n(23182),l=n(16749),f=n(71335);const p="effect/FiberId",h=Symbol.for(p),d="None",g="Runtime",_="Composite",m=i.Z_(`${p}-${d}`);class b{[h]=h;_tag=d;id=-1;startTimeMillis=-1;[i.NA](){return m}[r.NA](e){return O(e)&&e._tag===d}toString(){return(0,c.WU)(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[c.j5](){return this.toJSON()}}class y{id;startTimeMillis;[h]=h;_tag=g;constructor(e,t){this.id=e,this.startTimeMillis=t}[i.NA](){return i.HX(this,i.Z_(`${p}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[r.NA](e){return O(e)&&e._tag===g&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return(0,c.WU)(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[c.j5](){return this.toJSON()}}class v{left;right;[h]=h;_tag=_;constructor(e,t){this.left=e,this.right=t}_hash;[i.NA](){return(0,s.zG)(i.Z_(`${p}-${this._tag}`),i.$e(i.vp(this.left)),i.$e(i.vp(this.right)),i.HX(this))}[r.NA](e){return O(e)&&e._tag===_&&r.fS(this.left,e.left)&&r.fS(this.right,e.right)}toString(){return(0,c.WU)(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:(0,c.au)(this.left),right:(0,c.au)(this.right)}}[c.j5](){return this.toJSON()}}const S=new b,k=(e,t)=>new y(e,t),w=(e,t)=>new v(e,t),O=e=>(0,f.l$)(e,h),I=e=>e._tag===d||(0,s.zG)(A(e),o.yW((e=>I(e)))),E=e=>e._tag===g,N=e=>e._tag===_,B=(0,s.OB)(2,((e,t)=>e._tag===d?t:t._tag===d?e:new v(e,t))),x=e=>(0,s.zG)(e,o.u4(S,((e,t)=>B(t)(e)))),D=(0,s.OB)(2,((e,t)=>I(e)?t:e)),G=e=>{switch(e._tag){case d:return o.cS();case g:return o.Sy(e.id);case _:return(0,s.zG)(G(e.left),o.G0(G(e.right)))}},T=(0,a.K)(Symbol.for("effect/Fiber/Id/_fiberCounter"),(()=>u.Sy(0))),R=(e,t)=>new y(e,t),U=e=>Array.from(G(e)).map((e=>`#${e}`)).join(","),F=e=>{const t=A(e);if(0===o.dp(t))return l.YP();let n,r=!0;for(const e of t)r?(n=e,r=!1):n=(0,s.zG)(n,B(e));return l.G(n)},A=e=>{switch(e._tag){case d:return o.cS();case g:return o.Sy(e);case _:return(0,s.zG)(A(e.left),o.G0(A(e.right)))}},M=()=>{const e=u.U2(T);return(0,s.zG)(T,u.t8(e+1)),new y(e,Date.now())}},48282:(e,t,n)=>{n.d(t,{AW:()=>a,Df:()=>i,T4:()=>l,dQ:()=>c,fk:()=>o,kp:()=>s,ng:()=>r,v4:()=>u});const r="InterruptSignal",s="Stateful",a="Resume",i="YieldNow",o=e=>({_tag:r,cause:e}),c=e=>({_tag:s,onFiber:e}),u=e=>({_tag:a,effect:e}),l=()=>({_tag:i})},79049:(e,t,n)=>{n.d(t,{$v:()=>y,$x:()=>m,Ao:()=>d,Bi:()=>b,CJ:()=>S,SJ:()=>k,U2:()=>v,cS:()=>f,iH:()=>p,iW:()=>O,t0:()=>l,xN:()=>g});var r=n(67492),s=n(17316),a=n(9551),i=n(16749),o=n(92817),c=n(99768),u=n(10218);function l(e){return new h(e)}function f(){return l(new Map)}const p=Symbol.for("effect/FiberRefs");class h{locals;[p]=p;constructor(e){this.locals=e}pipe(){return(0,o.n)(this,arguments)}}const d=(0,s.OB)(3,((e,t,n)=>{const s=new Map(e.locals);return n.locals.forEach(((e,n)=>{const a=e[0][1];if(!e[0][0][r.NA](t)){if(!s.has(n)){if(r.fS(a,n.initial))return;return void s.set(n,[[t,n.join(n.initial,a)]])}const i=s.get(n),[o,u]=((e,t,n,r=!1)=>{const s=e;let a,i=t,o=n,u=r;for(;void 0===a;)if(c.Ux(i)&&c.Ux(o)){const e=c.dK(i)[0],t=c.fm(i),n=c.dK(o)[0],r=c.dK(o)[1],s=c.fm(o);e.startTimeMillis<n.startTimeMillis?(o=s,u=!0):e.startTimeMillis>n.startTimeMillis?i=t:e.id<n.id?(o=s,u=!0):e.id>n.id?i=t:a=[r,u]}else a=[s.initial,!0];return a})(n,i,e);if(u){const e=n.diff(o,a),c=i[0][1],u=n.join(c,n.patch(e)(c));if(!r.fS(c,u)){let e;const a=i[0][0];e=a[r.NA](t)?[[a,u],...i.slice(1)]:[[t,u],...i],s.set(n,e)}}}})),new h(s)})),g=(0,s.OB)(2,((e,t)=>{const n=new Map;return _(e,n,t),new h(n)})),_=(e,t,n)=>{e.locals.forEach(((e,s)=>{const a=e[0][1],i=s.patch(s.fork)(a);r.fS(a,i)?t.set(s,e):t.set(s,[[n,i],...e])}))},m=e=>a.EE(e.locals.keys()),b=e=>u.EaP(m(e),(t=>u.eqx(t,S(e,t)))),y=(0,s.OB)(2,((e,t)=>{const n=new Map(e.locals);return n.delete(t),new h(n)})),v=(0,s.OB)(2,((e,t)=>e.locals.has(t)?i.G(c.dK(e.locals.get(t))[1]):i.YP())),S=(0,s.OB)(2,((e,t)=>(0,s.zG)(v(e,t),i.fS((()=>t.initial))))),k=(0,s.OB)(2,((e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new h(new Map([[n,[[t,r]]]]));const s=new Map(e.locals);return w(s,t,n,r),new h(s)})),w=(e,t,n,s)=>{const a=e.get(n)??[];let i;if(c.Ux(a)){const[e,n]=c.dK(a);if(e[r.NA](t)){if(r.fS(n,s))return;i=[[t,s],...a.slice(1)]}else i=[[t,s],...a]}else i=[[t,s]];e.set(n,i)},O=(0,s.OB)(2,((e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new h(new Map(t));const r=new Map(e.locals);return void 0!==n&&_(e,r,n),t.forEach((([e,t])=>{1===t.length?w(r,t[0][0],e,t[0][1]):t.forEach((([t,n])=>{w(r,t,e,n)}))})),new h(r)}))},2108:(e,t,n)=>{n.d(t,{$e:()=>h,Hg:()=>p,cS:()=>f,r$:()=>d});var r=n(67492),s=n(17316),a=n(99768),i=n(79049);const o="Empty",c="Remove",u="Update",l="AndThen",f={_tag:o},p=(e,t)=>{const n=new Map(e.locals);let s=f;for(const[e,i]of t.locals.entries()){const t=a.dK(i)[1],o=n.get(e);if(void 0!==o){const n=a.dK(o)[1];(0,r.fS)(n,t)||(s=h({_tag:u,fiberRef:e,patch:e.diff(n,t)})(s))}else s=h({_tag:"Add",fiberRef:e,value:t})(s);n.delete(e)}for(const[e]of n.entries())s=h({_tag:c,fiberRef:e})(s);return s},h=(0,s.OB)(2,((e,t)=>({_tag:l,first:e,second:t}))),d=(0,s.OB)(3,((e,t,n)=>{let r=n,s=a.of(e);for(;a.Ux(s);){const e=a.dK(s),n=a.fm(s);switch(e._tag){case o:s=n;break;case"Add":r=i.SJ(r,{fiberId:t,fiberRef:e.fiberRef,value:e.value}),s=n;break;case c:r=i.$v(r,e.fiberRef),s=n;break;case u:{const a=i.CJ(r,e.fiberRef);r=i.SJ(r,{fiberId:t,fiberRef:e.fiberRef,value:e.fiberRef.patch(e.patch)(a)}),s=n;break}case l:s=a.Ce(e.first)(a.Ce(e.second)(n))}}return r}))},50153:(e,t,n)=>{n.d(t,{Ou:()=>mn,S8:()=>kn,Ro:()=>wn,yR:()=>On,$6:()=>Dn,YI:()=>Tn,IZ:()=>Gn,o6:()=>Br,qi:()=>In,zP:()=>Fr,IH:()=>Cr,Gg:()=>Nn,kC:()=>Dr,GR:()=>xr,QO:()=>Gr,pM:()=>Tr,tX:()=>Ir,lS:()=>Er,SI:()=>Rr,hX:()=>xn,qm:()=>er,Ed:()=>Fn,rM:()=>Cn,Zp:()=>zn,lg:()=>$n,Ld:()=>ar,ey:()=>$r,Jn:()=>Xn,BE:()=>Wn,uK:()=>Kn,S3:()=>Ar,xu:()=>Hn,q4:()=>Mr,QQ:()=>Ur,rN:()=>Zn,AS:()=>Rn,VT:()=>Un,eI:()=>vr,Vx:()=>kr,RN:()=>Sr,XX:()=>yr,y0:()=>wr,ZO:()=>tr,N1:()=>nr,r:()=>rr,en:()=>sr,gW:()=>ir,Gu:()=>or,Kf:()=>Yn,Kt:()=>ur,QV:()=>cr,Zx:()=>lr,Yk:()=>pr,KC:()=>hr,vY:()=>fr,fn:()=>br,$u:()=>Pr,at:()=>Vr,jr:()=>gr,Jq:()=>dr,tv:()=>_r,xn:()=>mr});var r=n(27786),s=n(51988),a=n(71335);a.jn,r.O7,s.O7;const i=e=>!e;var o=n(14109),c=n(20591),u=n(72022),l=n(10020);const f=l.Hj;l.qx,l.G1,l.Fc,l.tU,l.ku,l.Sh,l.XY,l.t3;var p=n(49941);const h=p.Pe,d=p.Mf,g=p.w7;p.DS,p.rN,p.gM,p.EQ;var _=n(57303),m=n(6639),b=n(58714),y=n(23780),v=n(17316),S=n(4726),k=n(98438),w=n(9551),O=n(69783),I=n(23182),E=n(16749),N=n(92817),B=n(99768),x=n(2532),D=n(26045),G=n(22019),T=n(96850),R=n(80998),U=n(53318),F=n(99609),A=n(10218);const M=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return A.$Dw(A.vDZ,(e=>"unbounded"===e?n():e>1?r(e):t()));default:return e>1?r(e):t()}},j=(e,t,n)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return A.$Dw(A.vDZ,(e=>"unbounded"===e||e>1?n():t()));default:return e>1?n():t()}};var C=n(23308),z=n(26807),$=n(74266),V=n(2338),P=n(63914),L=n(48282),q=n(79049),X=n(51770),K=n(16104),Y=n(28074),H=n(26219);const J=Symbol.for("effect/Logger"),Z={_Message:e=>e,_Output:e=>e},W=e=>({[J]:Z,log:e,pipe(){return(0,N.n)(this,arguments)}}),Q=(v.Q1,W((({annotations:e,cause:t,date:n,fiberId:r,logLevel:s,message:a,spans:i})=>{const o=n.getTime();let c=[`timestamp=${n.toISOString()}`,`level=${s.label}`,`fiber=${H.Q9(r)}`].join(" ");const u=ee(a);if(u.length>0&&(c+=" message=",c=ne(u,c)),null!=t&&"Empty"!==t._tag&&(c+=" cause=",c=ne(R.IC(t),c)),K.hg(i)){c+=" ";let e=!0;for(const t of i)e?e=!1:c+=" ",c+=(0,v.zG)(t,Y.s(o))}if((0,v.zG)(e,k.dp)>0){c+=" ";let t=!0;for(const[n,r]of e)t?t=!1:c+=" ",c+=re(n),c+="=",c=ne(ee(r),c)}return c}))),ee=e=>{try{return"object"==typeof e?JSON.stringify(e):String(e)}catch(t){return String(e)}},te=/^[^\s"=]+$/,ne=(e,t)=>t+(e.match(te)?e:`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`),re=e=>e.replace(/[\s="]/g,"_");var se=n(67492),ae=n(89379);const ie=Symbol.for("effect/MetricKeyType"),oe="effect/MetricKeyType/Counter",ce=Symbol.for(oe),ue="effect/MetricKeyType/Frequency",le=Symbol.for(ue),fe=Symbol.for("effect/MetricKeyType/Gauge"),pe="effect/MetricKeyType/Histogram",he=Symbol.for(pe),de="effect/MetricKeyType/Summary",ge=Symbol.for(de),_e={_In:e=>e,_Out:e=>e};class me{incremental;bigint;[ie]=_e;[ce]=ce;constructor(e,t){this.incremental=e,this.bigint=t,this._hash=ae.Z_(oe)}_hash;[ae.NA](){return this._hash}[se.NA](e){return we(e)}pipe(){return(0,N.n)(this,arguments)}}const be=ae.Z_(ue);class ye{[ie]=_e;[le]=le;[ae.NA](){return be}[se.NA](e){return Oe(e)}pipe(){return(0,N.n)(this,arguments)}}class ve{bigint;[ie]=_e;[fe]=fe;constructor(e){this.bigint=e}[ae.NA](){return null}[se.NA](e){return Ie(e)}pipe(){return pipeArguments(this,arguments)}}class Se{boundaries;[ie]=_e;[he]=he;constructor(e){this.boundaries=e,this._hash=(0,v.zG)(ae.Z_(pe),ae.$e(ae.vp(this.boundaries)))}_hash;[ae.NA](){return this._hash}[se.NA](e){return Ee(e)&&se.fS(this.boundaries,e.boundaries)}pipe(){return(0,N.n)(this,arguments)}}class ke{maxAge;maxSize;error;quantiles;[ie]=_e;[ge]=ge;constructor(e,t,n,r){this.maxAge=e,this.maxSize=t,this.error=n,this.quantiles=r,this._hash=pipe(Hash.string(de),Hash.combine(Hash.hash(this.maxAge)),Hash.combine(Hash.hash(this.maxSize)),Hash.combine(Hash.hash(this.error)),Hash.combine(Hash.array(this.quantiles)))}_hash;[ae.NA](){return this._hash}[se.NA](e){return Ne(e)&&Equal.equals(this.maxAge,e.maxAge)&&this.maxSize===e.maxSize&&this.error===e.error&&Equal.equals(this.quantiles,e.quantiles)}pipe(){return pipeArguments(this,arguments)}}const we=e=>(0,a.l$)(e,ce),Oe=e=>(0,a.l$)(e,le),Ie=e=>(0,a.l$)(e,fe),Ee=e=>(0,a.l$)(e,he),Ne=e=>(0,a.l$)(e,ge),Be=Symbol.for("effect/MetricKey"),xe={_Type:e=>e},De=B.c5(se.fS);class Ge{name;keyType;description;tags;[Be]=xe;constructor(e,t,n,r=[]){this.name=e,this.keyType=t,this.description=n,this.tags=r,this._hash=(0,v.zG)(ae.Z_(this.name+this.description),ae.$e(ae.vp(this.keyType)),ae.$e(ae.IX(this.tags)))}_hash;[ae.NA](){return this._hash}[se.NA](e){return Te(e)&&this.name===e.name&&se.fS(this.keyType,e.keyType)&&se.fS(this.description,e.description)&&De(this.tags,e.tags)}pipe(){return(0,N.n)(this,arguments)}}const Te=e=>(0,a.l$)(e,Be),Re=(0,v.OB)(2,((e,t)=>0===t.length?e:new Ge(e.name,e.keyType,e.description,B.G0(e.tags,t))));var Ue=n(36548),Fe=n(30424),Ae=n(13571),Me=n(15839);const je=Symbol.for("effect/MetricState"),Ce="effect/MetricState/Counter",ze=Symbol.for(Ce),$e="effect/MetricState/Frequency",Ve=Symbol.for($e),Pe="effect/MetricState/Gauge",Le=Symbol.for(Pe),qe="effect/MetricState/Histogram",Xe=Symbol.for(qe),Ke="effect/MetricState/Summary",Ye=Symbol.for(Ke),He={_A:e=>e};class Je{count;[je]=He;[ze]=ze;constructor(e){this.count=e}[ae.NA](){return(0,v.zG)(ae.vp(Ce),ae.$e(ae.vp(this.count)),ae.HX(this))}[se.NA](e){return nt(e)&&this.count===e.count}pipe(){return(0,N.n)(this,arguments)}}const Ze=B.c5(se.fS);class We{occurrences;[je]=He;[Ve]=Ve;constructor(e){this.occurrences=e}_hash;[ae.NA](){return(0,v.zG)(ae.Z_($e),ae.$e(ae.IX(B.EE(this.occurrences.entries()))),ae.HX(this))}[se.NA](e){return rt(e)&&Ze(B.EE(this.occurrences.entries()),B.EE(e.occurrences.entries()))}pipe(){return(0,N.n)(this,arguments)}}class Qe{value;[je]=He;[Le]=Le;constructor(e){this.value=e}[ae.NA](){return(0,v.zG)(ae.vp(Pe),ae.$e(ae.vp(this.value)),ae.HX(this))}[se.NA](e){return st(e)&&this.value===e.value}pipe(){return(0,N.n)(this,arguments)}}class et{buckets;count;min;max;sum;[je]=He;[Xe]=Xe;constructor(e,t,n,r,s){this.buckets=e,this.count=t,this.min=n,this.max=r,this.sum=s}[ae.NA](){return(0,v.zG)(ae.vp(qe),ae.$e(ae.vp(this.buckets)),ae.$e(ae.vp(this.count)),ae.$e(ae.vp(this.min)),ae.$e(ae.vp(this.max)),ae.$e(ae.vp(this.sum)),ae.HX(this))}[se.NA](e){return at(e)&&se.fS(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return(0,N.n)(this,arguments)}}class tt{error;quantiles;count;min;max;sum;[je]=He;[Ye]=Ye;constructor(e,t,n,r,s,a){this.error=e,this.quantiles=t,this.count=n,this.min=r,this.max=s,this.sum=a}[ae.NA](){return(0,v.zG)(ae.vp(Ke),ae.$e(ae.vp(this.error)),ae.$e(ae.vp(this.quantiles)),ae.$e(ae.vp(this.count)),ae.$e(ae.vp(this.min)),ae.$e(ae.vp(this.max)),ae.$e(ae.vp(this.sum)),ae.HX(this))}[se.NA](e){return it(e)&&this.error===e.error&&se.fS(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return(0,N.n)(this,arguments)}}const nt=e=>(0,a.l$)(e,ze),rt=e=>(0,a.l$)(e,Ve),st=e=>(0,a.l$)(e,Le),at=e=>(0,a.l$)(e,Xe),it=e=>(0,a.l$)(e,Ye),ot=Symbol.for("effect/MetricHook"),ct={_In:e=>e,_Out:e=>e},ut=e=>({[ot]:ct,pipe(){return(0,N.n)(this,arguments)},...e}),lt=BigInt(0),ft=(e,t,n)=>{const r=n.length;if(!B.Ux(t))return B.cS();const s=t[0],a=t.slice(1),i=pt(e,r,E.YP(),0,s,n),o=B.of(i);return a.forEach((t=>{o.push(pt(e,r,i.value,i.consumed,t,i.rest))})),B.UI(o,(e=>[e.quantile,e.value]))},pt=(e,t,n,r,s,a)=>{let i=e,o=t,c=n,u=r,l=s,f=a,p=e,h=t,d=n,g=r,_=s,m=a;for(;;){if(!B.Ux(f))return{quantile:l,value:E.YP(),consumed:u,rest:[]};if(1===l)return{quantile:l,value:E.G(B.w4(f)),consumed:u+f.length,rest:[]};const e=B.yP(f,(e=>e<=f[0])),t=l*o,n=i/2*t,r=u+e[0].length,s=Math.abs(r-t);if(r<t-n)p=i,h=o,d=B.YM(f),g=r,_=l,m=e[1],i=p,o=h,c=d,u=g,l=_,f=m;else{if(r>t+n)return{quantile:l,value:c,consumed:u,rest:f};switch(c._tag){case"None":p=i,h=o,d=B.YM(f),g=r,_=l,m=e[1],i=p,o=h,c=d,u=g,l=_,f=m;continue;case"Some":if(s<Math.abs(t-c.value)){p=i,h=o,d=B.YM(f),g=r,_=l,m=e[1],i=p,o=h,c=d,u=g,l=_,f=m;continue}return{quantile:l,value:E.G(c.value),consumed:u,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},ht=Symbol.for("effect/MetricPair"),dt={_Type:e=>e},gt=(e,t)=>({[ht]:dt,metricKey:e,metricState:t,pipe(){return(0,N.n)(this,arguments)}}),_t=Symbol.for("effect/MetricRegistry");class mt{[_t]=_t;map=Fe.cS();snapshot(){const e=[];for(const[t,n]of this.map)e.push(gt(t,n.get()));return e}get(e){const t=(0,v.zG)(this.map,Fe.U2(e),E.jD);if(null==t){if(we(e.keyType))return this.getCounter(e);if(Ie(e.keyType))return this.getGauge(e);if(Oe(e.keyType))return this.getFrequency(e);if(Ee(e.keyType))return this.getHistogram(e);if(Ne(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return t}getCounter(e){let t=(0,v.zG)(this.map,Fe.U2(e),E.jD);if(null==t){const n=(e=>{let t=e.keyType.bigint?lt:0;const n=e.keyType.incremental?e.keyType.bigint?e=>e>=lt:e=>e>=0:e=>!0;return ut({get:()=>new Je(t),update:e=>{n(e)&&(t+=e)}})})(e);(0,v.zG)(this.map,Fe.e$(e))||(0,v.zG)(this.map,Fe.t8(e,n)),t=n}return t}getFrequency(e){let t=(0,v.zG)(this.map,Fe.U2(e),E.jD);if(null==t){const n=(e=>{let t=0;const n=new Map;return ut({get:()=>new We(n),update:e=>{t+=1;const r=n.get(e)??0;n.set(e,r+1)}})})();(0,v.zG)(this.map,Fe.e$(e))||(0,v.zG)(this.map,Fe.t8(e,n)),t=n}return t}getGauge(e){let t=(0,v.zG)(this.map,Fe.U2(e),E.jD);if(null==t){const n=((e,t)=>{let n=t;return ut({get:()=>new Qe(n),update:e=>{n=e}})})(0,e.keyType.bigint?BigInt(0):0);(0,v.zG)(this.map,Fe.e$(e))||(0,v.zG)(this.map,Fe.t8(e,n)),t=n}return t}getHistogram(e){let t=(0,v.zG)(this.map,Fe.U2(e),E.jD);if(null==t){const n=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),s=new Float32Array(n);let a=0,i=0,o=Number.MAX_VALUE,c=Number.MIN_VALUE;(0,v.zG)(t,B.wx(Me.KM),B.UI(((e,t)=>{s[t]=e})));const u=()=>{const e=Array(n);let t=0;for(let a=0;a<n;a++){const n=s[a];t+=r[a],e[a]=[n,t]}return e};return ut({get:()=>{return e={buckets:u(),count:a,min:o,max:c,sum:i},new et(e.buckets,e.count,e.min,e.max,e.sum);var e},update:e=>{let t=0,u=n;for(;t!==u;){const n=Math.floor(t+(u-t)/2);e<=s[n]?u=n:t=n,u===t+1&&(e<=s[t]?u=t:t=u)}r[t]=r[t]+1,a+=1,i+=e,e<o&&(o=e),e>c&&(c=e)}})})(e);(0,v.zG)(this.map,Fe.e$(e))||(0,v.zG)(this.map,Fe.t8(e,n)),t=n}return t}getSummary(e){let t=(0,v.zG)(this.map,Fe.U2(e),E.jD);if(null==t){const n=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:s}=e.keyType,a=(0,v.zG)(s,B.wx(Me.KM)),i=Array(r);let o=0,c=0,u=0,l=Number.MAX_VALUE,f=Number.MIN_VALUE;const p=e=>{const s=[];let o=0;for(;o!==r-1;){const t=i[o];if(null!=t){const[r,a]=t,i=Ae.YX(e-r);Ae.wZ(i,Ae.bM)&&i<=n&&s.push(a)}o+=1}return ft(t,a,B.wx(s,Me.KM))};return ut({get:()=>{return e={error:t,quantiles:p(Date.now()),count:c,min:l,max:f,sum:u},new tt(e.error,e.quantiles,e.count,e.min,e.max,e.sum);var e},update:([e,t])=>((e,t)=>{r>0&&(o+=1,i[o%r]=[t,e]),c+=1,u+=e,e<l&&(l=e),e>f&&(f=e)})(e,t)})})(e);(0,v.zG)(this.map,Fe.e$(e))||(0,v.zG)(this.map,Fe.t8(e,n)),t=n}return t}}const bt=Symbol.for("effect/Metric"),yt={_Type:e=>e,_In:e=>e,_Out:e=>e},vt=(0,S.K)(Symbol.for("effect/Metric/globalMetricRegistry"),(()=>new mt)),St=function(e,t,n){const r=Object.assign((e=>A.bwX(e,(e=>A.Z_X((()=>t(e,[])))))),{[bt]:yt,keyType:e,unsafeUpdate:t,unsafeValue:n,register(){return this.unsafeValue([]),this},pipe(){return(0,N.n)(this,arguments)}});return r},kt=(e,t)=>wt(((e,t)=>new Ge(e,(e=>new me(e?.incremental??!1,e?.bigint??!1))(t),E.ij(t?.description)))(e,t)),wt=e=>{let t;const n=new WeakMap,r=r=>{if(0===r.length)return void 0!==t||(t=vt.get(e)),t;let s=n.get(r);return void 0!==s||(s=vt.get(Re(e,r)),n.set(r,s)),s};return St(e.keyType,((e,t)=>r(t).update(e)),(e=>r(e).get()))},Ot=(e,t,n)=>wt(((e,t,n)=>new Ge(e,(e=>new Se(e))(t),E.ij(n)))(e,t,n)),It=(0,v.OB)(3,((e,t,n)=>Et(e,[Ue.Sy(t,n)]))),Et=(0,v.OB)(2,((e,t)=>St(e.keyType,((n,r)=>e.unsafeUpdate(n,B.G0(t,r))),(n=>e.unsafeValue(B.G0(t,n)))))),Nt="effect/MetricBoundaries",Bt=Symbol.for(Nt);class xt{values;[Bt]=Bt;constructor(e){this.values=e,this._hash=(0,v.zG)(ae.Z_(Nt),ae.$e(ae.IX(this.values)))}_hash;[ae.NA](){return this._hash}[se.NA](e){return Dt(e)&&se.fS(this.values,e.values)}pipe(){return(0,N.n)(this,arguments)}}const Dt=e=>(0,a.l$)(e,Bt),Gt=e=>{const t=(0,v.zG)(e,B.oq(o.of(Number.POSITIVE_INFINITY)),B.D8);return new xt(t)},Tt=e=>(0,v.zG)(B.KB(e.count-1,(t=>e.start*Math.pow(e.factor,t))),o.JN,Gt);var Rt=n(11713),Ut=n(94023),Ft=n(82913),At=n(4536),Mt=n(34357),jt=n(49398),Ct=n(79862),zt=n(53621),$t=n(34937),Vt=n(27074),Pt=n(42702),Lt=n(49451);jt.M0,Ct.Lg,zt.gy,$t.xH,Vt.vv,Pt._e,Lt.Nb;const qt=jt.Sy,Xt=(jt.NZ,jt.yo,jt.ar,jt.OS,jt.O0,jt.Bk,jt.vs,jt.Vx,jt.ok,jt.$R,"Empty"),Kt="AddSupervisor",Yt="RemoveSupervisor",Ht="AndThen",Jt={_tag:Xt},Zt=(e,t)=>({_tag:Ht,first:e,second:t}),Wt=(e,t)=>se.fS(e,t)?Mt.YP:Mt.Xc(e)?Wt(e.left,t).zip(Wt(e.right,t)):e,Qt=e=>se.fS(e,Mt.YP)?w.cS():Mt.Xc(e)?(0,v.zG)(Qt(e.left),w.G0(Qt(e.right))):w.Sy(e),en=qt({empty:Jt,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;o.Od(r);){const e=o.dK(r);switch(e._tag){case Xt:r=o.fm(r);break;case Kt:n=n.zip(e.supervisor),r=o.fm(r);break;case Yt:n=Wt(n,e.supervisor),r=o.fm(r);break;case Ht:r=o.Ce(e.first)(o.Ce(e.second)(o.fm(r)))}}return n})(t,o.of(e)),combine:Zt,diff:(e,t)=>{if(se.fS(e,t))return Jt;const n=Qt(e),r=Qt(t),s=(0,v.zG)(r,w.e5(n),w.u4(Jt,((e,t)=>Zt(e,{_tag:Kt,supervisor:t})))),a=(0,v.zG)(n,w.e5(r),w.u4(Jt,((e,t)=>Zt(e,{_tag:Yt,supervisor:t}))));return Zt(s,a)}});var tn=n(73858),nn=n(69500);const rn=kt("effect_fiber_started"),sn=kt("effect_fiber_active"),an=kt("effect_fiber_successes"),on=kt("effect_fiber_failures"),cn=It(Ot("effect_fiber_lifetimes",Tt({start:.5,factor:2,count:35})),"time_unit","milliseconds"),un="Continue",ln="Yield",fn={_E:e=>e,_A:e=>e},pn=e=>{throw new Error(`BUG: FiberRuntime - ${JSON.stringify(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},hn=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),dn=(0,S.K)("effect/internal/fiberRuntime/yieldedOpChannel",(()=>({currentOp:null}))),gn={[Rt.rm]:(e,t,n)=>t.i1(n),OnStep:(e,t,n)=>A.SID(A.SID(n)),[Rt.kf]:(e,t,n)=>t.i2(n),[Rt.JX]:(e,t,n)=>(e.patchRuntimeFlags(e._runtimeFlags,t.patch),At.um(e._runtimeFlags)&&e.isInterrupted()?A.KiG(e.getInterruptedCause()):A.SID(n)),[Rt.Pv]:(e,t,n)=>(t.i2(n),t.i0()?(e.pushStack(t),t.i1()):A.bfT)},_n={[L.ng]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),At.um(t)?A.KiG(r.cause):n),[L.AW]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[L.kp]:(e,t,n,r)=>(r.onFiber(e,y.wC(t)),n),[L.Df]:(e,t,n,r)=>A.VSD(A.T4Q(),(()=>n))};class mn{[P.tP]=P.kD;[P.Zq]=fn;pipe(){return(0,N.n)(this,arguments)}_fiberRefs;_fiberId;_runtimeFlags;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_supervisor;_scheduler;_tracer;currentOpCount=0;isYielding=!1;constructor(e,t,n){if(this._runtimeFlags=n,this._fiberId=e,this._fiberRefs=t,this._supervisor=this.getFiberRef(Br),this._scheduler=this.getFiberRef(G.xt),At.LA(n)){const e=this.getFiberRef(A.VPq);rn.unsafeUpdate(1,e),sn.unsafeUpdate(1,e)}this._tracer=c.U2(this.getFiberRef($.Pm),tn.Fl)}id(){return this._fiberId}resume(e){this.tell(L.v4(e))}get status(){return this.ask(((e,t)=>t))}get runtimeFlags(){return this.ask(((e,t)=>y._b(t)?e._runtimeFlags:t.runtimeFlags))}scope(){return X.t0(this)}get children(){return this.ask((e=>Array.from(e.getChildren())))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(A.LFL)}fiberRefs(){return this.ask((e=>e.getFiberRefs()))}ask(e){return A.RqG((()=>{const t=A.OJ4(this._fiberId);return this.tell(L.dQ(((n,r)=>{A.zxF(t,A.Z_X((()=>e(n,r))))}))),A.Odg(t)}))}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return A.PFx((e=>{const t=t=>e(A.ng0(t));return this.tell(L.dQ(((e,n)=>{null!==e._exitValue?t(this._exitValue):e.addObserver(t)}))),A.Z_X((()=>this.tell(L.dQ(((e,n)=>{e.removeObserver(t)})))))}),this.id())}get inheritAll(){return A.ECC(((e,t)=>{const n=e.id(),r=e.getFiberRefs(),s=t.runtimeFlags,a=this.getFiberRefs(),i=q.Ao(r,n,a);e.setFiberRefs(i);const o=e.getFiberRef(Nr),c=(0,v.zG)(At.Hg(s,o),D.De(At.tm),D.De(At.st));return A.$Cr(c)}))}get poll(){return A.Z_X((()=>E.ij(this._exitValue)))}unsafePoll(){return this._exitValue}interruptAsFork(e){return A.Z_X((()=>this.tell(L.fk(R.e1(e)))))}unsafeInterruptAsFork(e){this.tell(L.fk(R.e1(e)))}addObserver(e){null!==this._exitValue?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter((t=>t!==e))}getFiberRefs(){return this.setFiberRef(Nr,this._runtimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=q.$v(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,t){this._fiberRefs=q.SJ(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:t}),this.refreshRefCache()}refreshRefCache(){this._tracer=c.U2(this.getFiberRef($.Pm),tn.Fl),this._supervisor=this.getFiberRef(Br),this._scheduler=this.getFiberRef(G.xt)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let t=un;const n=globalThis[P.nv];globalThis[P.nv]=this;try{for(;t===un;)t=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[P.nv]=n}this._queue.length>0&&!this._running?(this._running=!0,t===ln?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this._scheduler.scheduleTask(this.run,this.getFiberRef(A.opO))}drainQueueWhileRunning(e,t){let n=t;for(;this._queue.length>0;){const t=this._queue.splice(0,1)[0];n=_n[t._tag](this,e,n,t)}return n}isInterrupted(){return!R.xb(this.getFiberRef(A.LFL))}addInterruptedCause(e){const t=this.getFiberRef(A.LFL);this.setFiberRef(A.LFL,R.Pe(t,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let e=!1;for(const t of this._children)t.tell(L.fk(R.e1(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const e=this._children.values();this._children=null;let t=!1;const n=()=>{const n=e.next();return n.done?A.Z_X((()=>{t=!0})):A.EpM(n.value.await)};return A.Hib({while:()=>!t,body:n,step:()=>{}})}return null}reportExitValue(e){if(At.LA(this._runtimeFlags)){const t=this.getFiberRef(A.VPq),n=this.id().startTimeMillis,r=Date.now();switch(cn.unsafeUpdate(r-n,t),sn.unsafeUpdate(-1,t),e._tag){case Rt.x$:an.unsafeUpdate(1,t);break;case Rt.N4:on.unsafeUpdate(1,t)}}if("Failure"===e._tag){const t=this.getFiberRef(A.tDY);R.Jq(e.cause)||"Some"!==t._tag||this.log("Fiber terminated with a non handled error",e.cause,t)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let t=this._observers.length-1;t>=0;t--)this._observers[t](e)}getLoggers(){return this.getFiberRef(Sn)}log(e,t,n){const r=E.pC(n)?n.value:this.getFiberRef(A.E0T),s=this.getFiberRef(bn);if(O.tS(s,r))return;const a=this.getFiberRef(A.yVv),i=this.getFiberRef(A.cMe),o=this.getLoggers(),u=this.getFiberRefs();if(w.dp(o)>0){const n=c.U2(this.getFiberRef($.Pm),U.GL),s=new Date(n.unsafeCurrentTimeMillis());for(const n of o)n.log({fiberId:this.id(),logLevel:r,message:e,cause:t,context:u,spans:a,annotations:i,date:s})}}evaluateMessageWhileSuspended(e){switch(e._tag){case L.Df:return ln;case L.ng:return this.processNewInterruptSignal(e.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(A.KiG(e.cause)),this._asyncInterruptor=null),un;case L.AW:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),un;case L.kp:return e.onFiber(this,null!==this._exitValue?y.aT:y.rv(this._runtimeFlags,this._asyncBlockingOn)),un;default:return pn(e)}}evaluateEffect(e){this._supervisor.onResume(this);try{let t=At.um(this._runtimeFlags)&&this.isInterrupted()?A.KiG(this.getInterruptedCause()):e;for(;null!==t;){const e=t,n=this.runLoop(e);if(n===hn){const e=dn.currentOp;dn.currentOp=null,e._op===Rt.gl?At.dY(this._runtimeFlags)?(this.tell(L.T4()),this.tell(L.v4(A.M0x)),t=null):t=A.M0x:e._op===Rt.m7&&(t=null)}else{this._runtimeFlags=(0,v.zG)(this._runtimeFlags,At.wp(At.st));const e=this.interruptAllChildren();null!==e?t=A.VSD(e,(()=>n)):(0===this._queue.length?this.setExitValue(n):this.tell(L.v4(n)),t=null)}}}finally{this._supervisor.onSuspend(this)}}start(e){if(this._running)this.tell(L.v4(e));else{this._running=!0;const t=globalThis[P.nv];globalThis[P.nv]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[P.nv]=t,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(L.v4(e))}patchRuntimeFlags(e,t){const n=At.r$(e,t);return globalThis[P.nv]=this,this._runtimeFlags=n,n}initiateAsync(e,t){let n=!1;const r=e=>{n||(n=!0,this.tell(L.v4(e)))};At.um(e)&&(this._asyncInterruptor=r);try{t(r)}catch(e){r(A.DhG(R.Xr(e)))}}pushStack(e){this._stack.push(e),"OnStep"===e._op&&this._steps.push({refs:this.getFiberRefs(),flags:this._runtimeFlags})}popStack(){const e=this._stack.pop();if(e)return"OnStep"===e._op&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==Rt.PF)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==Rt.rm&&e._op!==Rt.Pv)return e;e=this.popStack()}}[Rt.LU](e){return A.UID(A.grZ(A.gbX),(t=>c.MH(t,e)))}Left(e){return A.bGj(e.left)}None(e){return A.bGj(new A.buj)}Right(e){return A.SID(e.right)}Some(e){return A.SID(e.value)}[Rt.Q0](e){const t=e.i0(),n=this.getNextSuccessCont();return void 0!==n?(n._op in gn||pn(n),gn[n._op](this,n,t)):(dn.currentOp=A.SID(t),hn)}[Rt.x$](e){const t=e,n=this.getNextSuccessCont();return void 0!==n?(n._op in gn||pn(n),gn[n._op](this,n,t.i0)):(dn.currentOp=t,hn)}[Rt.N4](e){const t=e.i0,n=this.getNextFailCont();if(void 0===n)return dn.currentOp=A.KiG(t),hn;switch(n._op){case Rt.PF:case Rt.kf:return At.um(this._runtimeFlags)&&this.isInterrupted()?A.KiG(R.ly(t)):n.i1(t);case"OnStep":return At.um(this._runtimeFlags)&&this.isInterrupted()?A.KiG(R.ly(t)):A.SID(A.KiG(t));case Rt.JX:return this.patchRuntimeFlags(this._runtimeFlags,n.patch),At.um(this._runtimeFlags)&&this.isInterrupted()?A.KiG(R.Pe(t,this.getInterruptedCause())):A.KiG(t);default:pn(n)}}[Rt.EV](e){return e.i0(this,y.wC(this._runtimeFlags))}Blocked(e){const t=this.getFiberRefs(),n=this._runtimeFlags;if(this._steps.length>0){const r=[],s=this._steps[this._steps.length-1];let a=this.popStack();for(;a&&"OnStep"!==a._op;)r.push(a),a=this.popStack();this.setFiberRefs(s.refs),this._runtimeFlags=s.flags;const i=b.Hg(s.refs,t),o=At.Hg(s.flags,n);return A.SID(A.IN$(e.i0,A.ECC((t=>{for(;r.length>0;)t.pushStack(r.pop());return t.setFiberRefs(b.r$(t.id(),t.getFiberRefs())(i)),t._runtimeFlags=At.r$(o)(t._runtimeFlags),e.i1}))))}return A.UO$((t=>A.VSD(zn(A.f6m(e.i0)),(()=>t(e.i1)))))}RunBlocked(e){return(e=>A.EaP(T.xH(e),(e=>Mn(T.U(e),(([e,t])=>{const n=new Map;for(const e of t)for(const t of e)n.set(t.request,t);return A.EXC(zr(e.runAll(t),t.flat()),F.d,n)}),!1,!1))))(e.i0)}[Rt.rk](e){const t=e.i0,n=this._runtimeFlags,r=At.r$(n,t);if(At.um(r)&&this.isInterrupted())return A.KiG(this.getInterruptedCause());if(this.patchRuntimeFlags(this._runtimeFlags,t),e.i1){const t=At.Hg(r,n);return this.pushStack(new A.Zjb(t,e)),e.i1(n)}return A.M0x}[Rt.rm](e){return this.pushStack(e),e.i0}OnStep(e){return this.pushStack(e),e.i0}[Rt.PF](e){return this.pushStack(e),e.i0}[Rt.kf](e){return this.pushStack(e),e.i0}[Rt.m7](e){return this._asyncBlockingOn=e.i1,this.initiateAsync(this._runtimeFlags,e.i0),dn.currentOp=e,hn}[Rt.gl](e){return this.isYielding=!1,dn.currentOp=e,hn}[Rt.Pv](e){const t=e.i0,n=e.i1;return t()?(this.pushStack(e),n()):A.M0x}[Rt.vm](e){return e.commit()}runLoop(e){let t=e;for(this.currentOpCount=0;;){if(0!=(this._runtimeFlags&At.mP)&&this._supervisor.onEffect(this,t),this._queue.length>0&&(t=this.drainQueueWhileRunning(this._runtimeFlags,t)),!this.isYielding){this.currentOpCount+=1;const e=this._scheduler.shouldYield(this);if(!1!==e){this.isYielding=!0,this.currentOpCount=0;const n=t;t=A.VSD(A.T4Q({priority:e}),(()=>n))}}try{if("_op"in t&&t._op in this||pn(t),t=this._tracer.context((()=>nn.w()!==t[f]._V?A.lFE(`Cannot execute an Effect versioned ${t[f]._V} with a Runtime of version ${nn.w()}`):this[t._op](t)),this),t===hn){const e=dn.currentOp;return e._op===Rt.gl||e._op===Rt.m7?hn:(dn.currentOp=null,e._op===Rt.x$||e._op===Rt.N4?e:A.KiG(R.Xr(e)))}}catch(e){t=A.kxj(e)?A.KiG(e.cause):A.lNG(e)?A.KiG(R.Pe(R.Xr(e),R.e1(_.YP))):A.KiG(R.Xr(e))}}}run=()=>{this.drainQueueOnCurrentThread()}}const bn=(0,S.K)("effect/FiberRef/currentMinimumLogLevel",(()=>A.kgb(O.ik("Info")))),yn=(0,S.K)(Symbol.for("effect/Logger/defaultLogger"),(()=>W((e=>{const t=Q.log(e);(e=>{const t=m.CJ(e,$.Pm);return c.U2(t,V.KM).unsafe})(e.context).log(t)})))),vn=(0,S.K)(Symbol.for("effect/Logger/tracerLogger"),(()=>W((({annotations:e,cause:t,context:n,fiberId:r,logLevel:s,message:a})=>{const i=E.VS(q.U2(n,A.gbX),c.Rl(tn.N7)),o=E.UI(q.U2(n,$.Pm),(e=>c.U2(e,U.GL)));if("None"===i._tag||"ExternalSpan"===i.value._tag||"None"===o._tag)return;const u=Object.fromEntries(k.UI(e,(e=>ee(e))));u["effect.fiberId"]=_.Q9(r),u["effect.logLevel"]=s.label,null!==t&&"Empty"!==t._tag&&(u["effect.cause"]=R.IC(t)),i.value.event(String(a),o.value.unsafeCurrentTimeNanos(),u)})))),Sn=(0,S.K)(Symbol.for("effect/FiberRef/currentLoggers"),(()=>A.WGV(w.Sy(yn,vn)))),kn=(0,v.OB)((e=>A.cdB(e[0])),((e,t)=>A.wUc(A.bwX(e,(e=>On((n=>t(e,n)))))))),wn=(0,v.OB)((e=>A.cdB(e[0])),((e,t)=>Cr(e,On((e=>t(e)))))),On=e=>A.ECC((t=>{const n=t.getFiberRefs(),r=t._runtimeFlags;return A.VSD(vr,(t=>A.veJ(t,(t=>A.ECC((s=>{const a=s.getFiberRefs(),i=s._runtimeFlags,o=b.Hg(a,n),c=At.Hg(i,r),u=b.Hg(n,a);return s.setFiberRefs(b.r$(o,s.id(),n)),Cr(A.ZYt(e(t),c),A.Z_X((()=>{s.setFiberRefs(b.r$(u,s.id(),s.getFiberRefs()))})))}))))))})),In=e=>A.EXC(A.ohq,E.G(X._A))(e),En=Symbol.for("effect/Effect/existsPar/found"),Nn=(0,v.OB)((e=>a.TW(e[0])),((e,t,n)=>j(n?.concurrency,(()=>A.RqG((()=>Bn(e[Symbol.iterator](),0,t)))),(()=>A.PwY(Fn(e,((e,n)=>A.pHF(t(e,n),{onTrue:A.bGj(En),onFalse:A.bfT})),n),{onFailure:e=>e===En?A.ng0(!0):A.bGj(e),onSuccess:()=>A.ng0(!1)}))))),Bn=(e,t,n)=>{const r=e.next();return r.done?A.ng0(!1):(0,v.zG)(A.VSD(n(r.value,t),(r=>r?A.ng0(r):Bn(e,t+1,n))))},xn=(0,v.OB)((e=>a.TW(e[0])),((e,t,n)=>{const r=n?.negate?(e,n)=>A.UID(t(e,n),i):t;return j(n?.concurrency,(()=>A.RqG((()=>B.EE(e).reduceRight(((e,t,n)=>A.yL_(e,A.RqG((()=>r(t,n))),((e,n)=>n?[t,...e]:e))),A.Z_X((()=>new Array)))))),(()=>A.UID(Fn(e,((e,t)=>A.UID(r(e,t),(t=>t?E.G(e):E.YP()))),n),B.Mg)))})),Dn=(e,t)=>{const[n,r]=(e=>{if(Array.isArray(e)||a.TW(e))return[e,E.YP()];const t=Object.keys(e),n=t.length;return[t.map((t=>e[t])),E.G((e=>{const r={};for(let s=0;s<n;s++)r[t[s]]=e[s];return r}))]})(e);return"validate"===t?.mode?((e,t,n)=>{const r=[];for(const t of e)r.push(A.wEe(t));return A.VSD(Fn(r,v.yR,{concurrency:n?.concurrency,batching:n?.batching}),(e=>{const r=E.YP(),s=e.length,a=new Array(s),i=new Array(s);let o=!1;for(let t=0;t<s;t++){const n=e[t];"Left"===n._tag?(a[t]=E.G(n.left),o=!0):(i[t]=n.right,a[t]=r)}return o?"Some"===t._tag?A.bGj(t.value(a)):A.bGj(a):n?.discard?A.bfT:"Some"===t._tag?A.ng0(t.value(i)):A.ng0(i)}))})(n,r,t):"either"===t?.mode?((e,t,n)=>{const r=[];for(const t of e)r.push(A.wEe(t));return n?.discard?Fn(r,v.yR,{concurrency:n?.concurrency,batching:n?.batching,discard:!0}):A.UID(Fn(r,v.yR,{concurrency:n?.concurrency,batching:n?.batching}),(e=>"Some"===t._tag?t.value(e):e))})(n,r,t):"Some"===r._tag?A.UID(Fn(n,v.yR,t),r.value):Fn(n,v.yR,t)},Gn=e=>t=>Dn(t,e),Tn=(e,t)=>A.UID(Dn(B.EE(e).map(A.JFt),t),B.DZ((e=>A.dcz(e)?E.G(e.i0):E.YP()))),Rn=(0,v.OB)(2,((e,t)=>Array.from({length:t},(()=>e)))),Un=(0,v.OB)((e=>A.cdB(e[0])),((e,t,n)=>Dn(Rn(e,t),n))),Fn=(0,v.OB)((e=>a.TW(e[0])),((e,t,n)=>A.ECC((r=>{const s=!0===n?.batching||"inherit"===n?.batching&&r.getFiberRef(A.gTV);return n?.discard?M(n.concurrency,(()=>er(h)((n=>s?Mn(e,((e,r)=>n(t(e,r))),!0,!1,1):A.EaP(e,((e,r)=>n(t(e,r))))))),(()=>er(d)((n=>Mn(e,((e,r)=>n(t(e,r))),s,!1)))),(n=>er(g(n))((r=>Mn(e,((e,n)=>r(t(e,n))),s,!1,n))))):M(n?.concurrency,(()=>er(h)((n=>s?jn(e,1,((e,r)=>n(t(e,r))),!0):A.o9$(e,((e,r)=>n(t(e,r))))))),(()=>er(d)((n=>An(e,((e,r)=>n(t(e,r))),s)))),(n=>er(g(n))((r=>jn(e,n,((e,n)=>r(t(e,n))),s)))))})))),An=(e,t,n)=>A.RqG((()=>{const r=B.EE(e),s=new Array(r.length);return A.qs5(Mn(r,((e,n)=>A.VSD(t(e,n),(e=>A.Z_X((()=>s[n]=e))))),n,!1),A.ng0(s))})),Mn=(e,t,n,r,s)=>A.UO$((a=>A.Yxn((i=>A.ECC((o=>{let c=Array.from(e).reverse(),u=c.length;if(0===u)return A.bfT;let l=0,f=!1;const p=s?Math.min(c.length,s):c.length,h=new Set,d=new Array,g=new Array,_=new Array,m=new Array,b=()=>{const e=d.filter((({exit:e})=>"Failure"===e._tag)).sort(((e,t)=>e.index<t.index?-1:e.index===t.index?0:1)).map((({exit:e})=>e));return 0===e.length&&e.push(A.M0x),e},y=e=>{const t=A.wUc(i(e)),n=Pn(t,o,o._runtimeFlags,X._A);return o._scheduler.scheduleTask((()=>{n.resume(t)}),0),n},v=()=>{r||(u-=c.length,c=[]),f=!0,h.forEach((e=>{e._scheduler.scheduleTask((()=>{e.unsafeInterruptAsFork(o.id())}),0)}))},S=n?A.Nbs:A.JFt,k=y(A.PFx((e=>{const r=(e,t)=>{"Blocked"===e._op?m.push(e):(d.push({index:t,exit:e}),"Failure"!==e._op||f||v())},i=()=>{if(c.length>0){const p=c.pop();let v=l++;const k=()=>{const e=c.pop();return v=l++,A.VSD(A.T4Q(),(()=>A.VSD(S(a(t(e,v))),w)))},w=e=>c.length>0&&(r(e,v),c.length>0)?k():A.ng0(e),O=A.VSD(S(a(t(p,v))),w),I=y(O);g.push(I),h.add(I),f&&I._scheduler.scheduleTask((()=>{I.unsafeInterruptAsFork(o.id())}),0),I.addObserver((t=>{let a;if(a="Failure"===t._op?t:t.i0,_.push(I),h.delete(I),r(a,v),d.length===u)e(A.ng0(E.fS(A.jxF(b(),{parallel:!0}),(()=>A.M0x))));else if(m.length+d.length===u){const t=m.map((e=>e.i0)).reduce(T.Hb);e(A.ng0(A.IN$(t,Mn([E.fS(A.jxF(b(),{parallel:!0}),(()=>A.M0x)),...m.map((e=>e.i1))],(e=>e),n,!0,s))))}else i()}))}};for(let e=0;e<p;e++)i()})));return A.EpM(A.bwX(A.xHg(A.J7b(a(P.v_(k)),(()=>(v(),P.AO(k))))),(()=>A.o9$(_,(e=>e.inheritAll)))))})))))),jn=(e,t,n,r)=>A.RqG((()=>{const s=B.EE(e),a=new Array(s.length);return A.qs5(Mn(s,((e,t)=>A.UID(n(e,t),(e=>a[t]=e))),r,!1,t),A.ng0(a))})),Cn=e=>A.ECC(((t,n)=>A.ng0(Vn(e,t,n.runtimeFlags)))),zn=e=>qn(e,X._A),$n=(0,v.OB)(2,((e,t)=>Cn(A.qQ3(e,(e=>{const n=R.hl(e);switch(n._tag){case"Left":return t(n.left);case"Right":return A.DhG(n.right)}}))))),Vn=(e,t,n,r=null)=>{const s=Ln(e,t,n,r);return s.resume(e),s},Pn=(e,t,n,r=null)=>Ln(e,t,n,r),Ln=(e,t,n,r=null)=>{const s=_.t0(),a=t.getFiberRefs(),i=q.xN(a,s),o=new mn(s,i,n),c=q.CJ(i,A.gbX),u=o._supervisor;return u.onStart(c,e,E.G(t),o),o.addObserver((e=>u.onEnd(e,o))),(null!==r?r:(0,v.zG)(t.getFiberRef(A.ohq),E.fS((()=>t.scope())))).add(n,o),o},qn=(e,t)=>A.ECC(((n,r)=>A.ng0(Vn(e,n,r.runtimeFlags,t)))),Xn=(0,v.OB)((e=>a.mf(e[2])),((e,t,n,r)=>j(r?.concurrency,(()=>B.EE(e).reduce(((e,t,r)=>A.yL_(e,t,((e,t)=>n(e,t,r)))),A.ng0(t))),(()=>A.VSD(x.Sy(t),(t=>A.VSD(Fn(e,((e,r)=>A.VSD(e,(e=>x.Vx(t,(t=>n(t,e,r)))))),r),(()=>x.U2(t))))))))),Kn=(0,v.OB)((e=>a.TW(e[0])),((e,t,n)=>(0,v.zG)(Fn(e,((e,n)=>A.wEe(t(e,n))),n),A.UID((e=>A.tVo(e,v.yR)))))),Yn=(0,v.OB)((e=>a.TW(e[0])),((e,t,n)=>A.VSD(Kn(e,t,{concurrency:n?.concurrency,batching:n?.batching}),(([e,t])=>0===e.length?n?.discard?A.bfT:A.ng0(t):A.bGj(e))))),Hn=e=>{const t=o.EE(e);if(!o.Od(t))return A.AgX((()=>new A.j5q("Received an empty collection of effects")));const n=o.dK(t),r=o.fm(t),s=e=>(0,v.zG)(P.i0(e[1]),A.as(e[0]));return(0,v.zG)(A.kPu(),A.VSD((e=>(0,v.zG)(x.Sy(r.length),A.VSD((t=>A.UO$((a=>(0,v.zG)(Cn(A.um_(n)),A.VSD((n=>(0,v.zG)(r,A.o9$((e=>Cn(A.um_(e)))),A.UID((e=>o.JN(e))),A.UID((e=>(0,v.zG)(e,o.Ce(n)))),A.bwX((n=>(0,v.zG)(n,B.u4(A.bfT,((r,s)=>(0,v.zG)(r,A.qs5((0,v.zG)(P.AO(s),A.VSD(Jn(n,s,e,t)),Cn,A.EpM)))))))),A.VSD((t=>(0,v.zG)(a((0,v.zG)(u.Uz(e),A.VSD(s))),A.J7b((()=>(0,v.zG)(t,B.u4(A.bfT,((e,t)=>(0,v.zG)(e,A.Ti7(A.u_W(t)))))))))))))))))))))))},Jn=(e,t,n,r)=>s=>A.aoR(s,{onFailure:e=>(0,v.zG)(x.Pj(r,(t=>[0===t?(0,v.zG)(A.yd6(n,e),A.EpM):A.bfT,t-1])),A.xHg),onSuccess:r=>(0,v.zG)(A.QtZ(n,[r,t]),A.VSD((n=>n?(0,v.zG)(o.EE(e),B.u4(A.bfT,((e,n)=>n===t?e:(0,v.zG)(e,A.Ti7(A.u_W(n)))))):A.bfT)))}),Zn=(0,v.OB)((e=>a.TW(e[0])),((e,t,n,r)=>j(r?.concurrency,(()=>B.EE(e).reduce(((e,t,r)=>A.yL_(e,t,((e,t)=>n(e,t,r)))),t)),(()=>A.RqG((()=>(0,v.zG)(Xn([t,...e],E.YP(),((e,t,r)=>{switch(e._tag){case"None":return E.G(t);case"Some":return E.G(n(e.value,t,r))}}),r),A.UID((e=>{switch(e._tag){case"None":throw new Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return e.value}}))))))))),Wn=e=>A.RuX((t=>E.EQ(c.Rl(t,yr),{onNone:()=>e,onSome:t=>{switch(t.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return A.VSD(A.Z5L(t,d),(t=>kr(e,t)))}}}))),Qn=e=>t=>A.RuX((n=>E.EQ(c.Rl(n,yr),{onNone:()=>t,onSome:n=>"ParallelN"===n.strategy._tag&&n.strategy.parallelism===e?t:A.VSD(A.Z5L(n,g(e)),(e=>kr(t,e)))}))),er=e=>t=>A.RuX((n=>E.EQ(c.Rl(n,yr),{onNone:()=>t(v.yR),onSome:n=>{const r="Parallel"===e._tag?Wn:"Sequential"===e._tag?rr:Qn(e.parallelism);switch(n.strategy._tag){case"Parallel":return r(t(Wn));case"Sequential":return r(t(rr));case"ParallelN":return r(t(Qn(n.strategy.parallelism)))}}}))),tr=e=>A.VSD(yr,e),nr=e=>A.VSD(Sr(),(t=>wr(t)(e))),rr=e=>A.RuX((t=>E.EQ(c.Rl(t,yr),{onNone:()=>e,onSome:t=>{switch(t.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return A.VSD(A.Z5L(t,h),(t=>kr(e,t)))}}}))),sr=(e,t)=>ar([Ue.Sy(e,t)]),ar=e=>Er(A.VPq,(t=>B.G0(t,e))),ir=(0,v.OB)(2,((e,t)=>A.ni3(Sr(),(n=>A.VSD(kr(e,n),t)),((e,t)=>A.roQ(e,t))))),or=(0,v.OB)((e=>A.cdB(e[1])),((e,t,n)=>cr(e,t,((e,t)=>[e,t]),n))),cr=(0,v.OB)((e=>A.cdB(e[1])),((e,t,n,r)=>A.xHg(mr(A.JFt(e),A.JFt(t),((e,t)=>A.dG6(e,t,{onSuccess:n,onFailure:(e,t)=>r?.concurrent?R.Mf(e,t):R.Pe(e,t)})),r)))),ur=(0,v.OB)((e=>a.TW(e[0])),((e,t,n)=>A.RRI(Fn(e,((e,n)=>A.RRI(t(e,n))),n)))),lr=e=>Er($.Pm,c.IH(U.GL,e)),fr=e=>Er($.Pm,c.IH(Ut.XB,e)),pr=e=>Er($.Pm,c.IH(C.a6,e)),hr=e=>tr((t=>A.VSD(A.Z5L(t,p.Pe),(t=>(0,v.zG)(e,kr(t),A.UID((e=>[A.mrY((e=>A.roQ(t,A.eq6(e)))),e]))))))),dr=(0,v.OB)((e=>A.cdB(e[1])),((e,t,n)=>mr(e,t,((e,t)=>[e,t]),n))),gr=(0,v.OB)((e=>A.cdB(e[1])),((e,t,n)=>!0===n?.concurrent||void 0!==n?.batching&&!1!==n.batching?mr(e,t,((e,t)=>e),n):A.Ti7(e,t))),_r=(0,v.OB)((e=>A.cdB(e[1])),((e,t,n)=>!0===n?.concurrent||void 0!==n?.batching&&!1!==n.batching?mr(e,t,((e,t)=>t),n):A.qs5(e,t))),mr=(0,v.OB)((e=>A.cdB(e[1])),((e,t,n,r)=>A.UID(Dn([e,t],{concurrency:r?.concurrent?2:1,batching:r?.batching}),(([e,t])=>n(e,t))))),br=e=>e===D.cS?A.bfT:(0,v.zG)(A.CpT,A.VSD((t=>{const n=At.r$(t,e),r=At.Hg(n,t);return(0,v.zG)(A.$Cr(e),A.qs5(On((()=>A.$Cr(r)))),A.EpM)})),A.wUc),yr=c.hV("effect/Scope"),vr=yr,Sr=(e=p.Pe)=>A.UID(A.yVg,(t=>({[A.otW]:A.otW,[A.Bcn]:A.Bcn,strategy:e,pipe(){return(0,N.n)(this,arguments)},fork:e=>A.wUc((0,v.zG)(Sr(e),A.VSD((e=>(0,v.zG)(A.tfQ(t,(t=>A.roQ(e,t))),A.bwX((t=>A.veJ(e,t))),A.as(e)))))),close:n=>A.EpM(((e,t)=>n=>A.RqG((()=>{switch(n.state._tag){case"Exited":return A.bfT;case"Running":{const r=n.state.finalizers,s=n.state.update,a=Array.from(r.keys()).sort(((e,t)=>t-e)).map((e=>r.get(e)));return n.state={_tag:"Exited",nextKey:n.state.nextKey,exit:t,update:s},p.DS(e)?(0,v.zG)(a,A.o9$((e=>A.JFt(s(e)(t)))),A.VSD((e=>(0,v.zG)(A.jxF(e),E.UI(A.wal),E.fS((()=>A.M0x)))))):p.rN(e)?(0,v.zG)(An(a,(e=>A.JFt(s(e)(t))),!1),A.VSD((e=>(0,v.zG)(A.jxF(e,{parallel:!0}),E.UI(A.wal),E.fS((()=>A.M0x)))))):(0,v.zG)(jn(a,e.parallelism,(e=>A.JFt(s(e)(t))),!1),A.VSD((e=>(0,v.zG)(A.jxF(e,{parallel:!0}),E.UI(A.wal),E.fS((()=>A.M0x))))))}}})))(e,n)(t)),addFinalizer:e=>A.EpM(A.tfQ(e)(t))}))),kr=(0,v.OB)(2,((e,t)=>A.nP$(e,c.TS(c.Sy(yr,t))))),wr=(0,v.OB)(2,((e,t)=>(0,v.zG)(e,kr(t),A.dsk((e=>t.close(e)))))),Or=e=>A.laO(e,{differ:en,fork:Jt}),Ir=(0,v.OB)(2,((e,t)=>A.EpM(kn(A.VSD(A.grZ(e),(n=>A.as(A.eqx(e,t),n))),(t=>A.eqx(e,t)))))),Er=(0,v.OB)(2,((e,t)=>A.$Dw(e,(n=>Ir(e,t(n)))))),Nr=A.MZf(At.YP),Br=Or(Mt.YP),xr=e=>A.EpM(P.AO(Dr(e))),Dr=e=>({[P.tP]:P.kD,id:()=>B.EE(e).reduce(((e,t)=>_.$e(e,t.id())),_.YP),await:A.JFt(An(e,(e=>A.xHg(e.await)),!1)),children:A.UID(An(e,(e=>e.children),!1),B.xH),inheritAll:A.EaP(e,(e=>e.inheritAll)),poll:A.UID(A.o9$(e,(e=>e.poll)),B.nq(E.G(A.SID(new Array)),((e,t)=>{switch(t._tag){case"None":return E.YP();case"Some":switch(e._tag){case"None":return E.YP();case"Some":return E.G(A.dG6(t.value,e.value,{onSuccess:(e,t)=>[e,...t],onFailure:R.Mf}))}}}))),interruptAsFork:t=>A.EaP(e,(e=>e.interruptAsFork(t))),pipe(){return(0,N.n)(this,arguments)}}),Gr=e=>A.EpM(zn(A.u_W(e))),Tr=e=>A.EpM(P.v_(Dr(e))),Rr=e=>kn(A.ng0(e),A.u_W),Ur=(0,v.OB)(3,((e,t,n)=>Mr(e,t,{onSelfWin:(e,t)=>A.VSD(e.await,(r=>{switch(r._tag){case Rt.x$:return A.VSD(e.inheritAll,(()=>n.onSelfDone(r,t)));case Rt.N4:return n.onSelfDone(r,t)}})),onOtherWin:(e,t)=>A.VSD(e.await,(r=>{switch(r._tag){case Rt.x$:return A.VSD(e.inheritAll,(()=>n.onOtherDone(r,t)));case Rt.N4:return n.onOtherDone(r,t)}}))}))),Fr=e=>A.UO$((t=>A.mrY((n=>A.VSD(zn(t(e)),(e=>(0,v.zG)(t(P.v_(e)),A.J7b((()=>(0,v.zG)(e,P.Mt(n))))))))))),Ar=(0,v.OB)(2,((e,t)=>A.mrY((n=>Ur(e,t,{onSelfDone:(e,t)=>A.aoR(e,{onFailure:e=>(0,v.zG)(P.v_(t),z.$p((t=>R.Mf(e,t)))),onSuccess:e=>(0,v.zG)(t,A.zU1(n),A.as(e))}),onOtherDone:(e,t)=>A.aoR(e,{onFailure:e=>(0,v.zG)(P.v_(t),z.$p((t=>R.Mf(t,e)))),onSuccess:e=>(0,v.zG)(t,A.zU1(n),A.as(e))})}))))),Mr=(0,v.OB)(3,((e,t,n)=>A.ECC(((r,s)=>{const a=s.runtimeFlags,i=I.Sy(!0),o=Ln(e,r,a,n.selfScope),c=Ln(t,r,a,n.otherScope);return A.PFx((r=>{o.addObserver((()=>jr(o,c,n.onSelfWin,i,r))),c.addObserver((()=>jr(c,o,n.onOtherWin,i,r))),o.startFork(e),c.startFork(t)}),_.$e(o.id(),c.id()))})))),jr=(e,t,n,r,s)=>{I.te(!0,!1)(r)&&s(n(e,t))},Cr=(0,v.OB)(2,((e,t)=>A.UO$((n=>A.Bpg(n(e),{onFailure:e=>A.Bpg(t,{onFailure:t=>A.DhG(R.Pe(e,t)),onSuccess:()=>A.DhG(e)}),onSuccess:e=>A.as(t,e)}))))),zr=(e,t)=>A.mrY((n=>A.VSD(A.VSD(zn(A.um_(e)),(e=>A.PFx((n=>{const r=t.map((e=>e.listeners.count)),s=()=>{r.every((e=>0===e))&&(a.forEach((e=>e())),n(A.u_W(e)))};e.addObserver((e=>{a.forEach((e=>e())),n(e)}));const a=t.map(((e,t)=>{const n=e=>{r[t]=e,s()};return e.listeners.addObserver(n),()=>e.listeners.removeObserver(n)}));return s(),A.Z_X((()=>{a.forEach((e=>e()))}))})))),(()=>A.RqG((()=>{const e=t.flatMap((e=>e.state.completed?[]:[e]));return A.EaP(e,(e=>(0,Ft.N)(e.request,A.eq6(n))))})))))),$r=(e,t)=>kn(z.v8(e,t),((e,t)=>A.VSD(z.i2,(n=>A.Z_X((()=>e.end(n,t))))))),Vr=e=>Er($.Pm,c.IH(tn.Fl,e)),Pr=(0,v.OB)((e=>"string"!=typeof e[0]),((e,t,n)=>A.VSD($r(t,n),(t=>z.aH(e,tn.N7,t)))))},51770:(e,t,n)=>{n.d(t,{_A:()=>l,t0:()=>u});var r=n(57303),s=n(4726),a=n(48282);const i=Symbol.for("effect/FiberScope");class o{[i]=i;fiberId=r.YP;roots=new Set;add(e,t){this.roots.add(t),t.addObserver((()=>{this.roots.delete(t)}))}}class c{fiberId;parent;[i]=i;constructor(e,t){this.fiberId=e,this.parent=t}add(e,t){this.parent.tell(a.dQ((e=>{e.addChild(t),t.addObserver((()=>{e.removeChild(t)}))})))}}const u=e=>new c(e.id(),e),l=(0,s.K)(Symbol.for("effect/FiberScope/Global"),(()=>new o))},3493:(e,t,n)=>{n.d(t,{yh:()=>x,iy:()=>Q,oA:()=>he,cS:()=>M,Rx:()=>ee,qh:()=>Z,hX:()=>pe,DZ:()=>de,Ew:()=>ge,VS:()=>ue,Ed:()=>le,EE:()=>C,U2:()=>V,XR:()=>P,e$:()=>q,u9:()=>X,xb:()=>$,c8:()=>z,XP:()=>H,Sy:()=>j,UI:()=>ce,Pj:()=>se,cq:()=>ne,Hp:()=>re,JG:()=>te,u4:()=>fe,Od:()=>ie,CS:()=>oe,t8:()=>K,dp:()=>W,G0:()=>ae,MH:()=>L,VO:()=>J});var r=n(67492),s=n(17316),a=n(89379),i=n(16371),o=n(16749),c=n(92817),u=n(71335);const l=Math.pow(2,5),f=l-1,p=l/2,h=l/4;function d(e,t){return t>>>e&f}function g(e){return 1<<e}function _(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n}function m(e,t,n,r){let s=r;if(!e){const e=r.length;s=new Array(e);for(let t=0;t<e;++t)s[t]=r[t]}return s[t]=n,s}function b(e,t,n){const r=n.length-1;let s=0,a=0,i=n;if(e)s=a=t;else for(i=new Array(r);s<t;)i[a++]=n[s++];for(++s;s<=r;)i[a++]=n[s++];return e&&(i.length=r),i}class y{_tag="EmptyNode";modify(e,t,n,r,s,a){const i=n(o.YP());return o.Wi(i)?new y:(++a.value,new k(e,r,s,i))}}function v(e){return(0,u.Bd)(e,"EmptyNode")}function S(e,t){return!v(e)&&t===e.edit}class k{edit;hash;key;value;_tag="LeafNode";constructor(e,t,n,r){this.edit=e,this.hash=t,this.key=n,this.value=r}modify(e,t,n,s,a,i){if((0,r.fS)(a,this.key)){const t=n(this.value);return t===this.value?this:o.Wi(t)?(--i.value,new y):S(this,e)?(this.value=t,this):new k(e,s,a,t)}const c=n(o.YP());return o.Wi(c)?this:(++i.value,N(e,t,this.hash,this,s,new k(e,s,a,c)))}}class w{edit;hash;children;_tag="CollisionNode";constructor(e,t,n){this.edit=e,this.hash=t,this.children=n}modify(e,t,n,r,s,a){if(r===this.hash){const t=S(this,e),r=this.updateCollisionList(t,e,this.hash,this.children,n,s,a);return r===this.children?this:r.length>1?new w(e,this.hash,r):r[0]}const i=n(o.YP());return o.Wi(i)?this:(++a.value,N(e,t,this.hash,this,r,new k(e,r,s,i)))}updateCollisionList(e,t,n,s,a,i,c){const u=s.length;for(let l=0;l<u;++l){const u=s[l];if("key"in u&&(0,r.fS)(i,u.key)){const r=u.value,f=a(r);return f===r?s:o.Wi(f)?(--c.value,b(e,l,s)):m(e,l,new k(t,n,i,f),s)}}const l=a(o.YP());return o.Wi(l)?s:(++c.value,m(e,u,new k(t,n,i,l),s))}}class O{edit;mask;children;_tag="IndexedNode";constructor(e,t,n){this.edit=e,this.mask=t,this.children=n}modify(e,t,n,r,s,a){const i=this.mask,o=this.children,c=d(t,r),u=g(c),l=_(i,u),f=i&u,h=S(this,e);if(!f){const f=(new y).modify(e,t+5,n,r,s,a);return f?o.length>=p?function(e,t,n,r,s){const a=[];let i=r,o=0;for(let e=0;i;++e)1&i&&(a[e]=s[o++]),i>>>=1;return a[t]=n,new I(e,o+1,a)}(e,c,f,i,o):new O(e,i|u,function(e,t,n,r){const s=r.length;if(e){let e=s;for(;e>=t;)r[e--]=r[e];return r[t]=n,r}let a=0,i=0;const o=new Array(s+1);for(;a<t;)o[i++]=r[a++];for(o[t]=n;a<s;)o[++i]=r[a++];return o}(h,l,f,o)):this}const k=o[l],w=k.modify(e,t+5,n,r,s,a);if(k===w)return this;let E,N=i;if(v(w)){if(N&=~u,!N)return new y;if(o.length<=2&&(v(B=o[1^l])||"LeafNode"===B._tag||"CollisionNode"===B._tag))return o[1^l];E=b(h,l,o)}else E=m(h,l,w,o);var B;return h?(this.mask=N,this.children=E,this):new O(e,N,E)}}class I{edit;size;children;_tag="ArrayNode";constructor(e,t,n){this.edit=e,this.size=t,this.children=n}modify(e,t,n,r,s,a){let i=this.size;const o=this.children,c=d(t,r),u=o[c],l=(u||new y).modify(e,t+5,n,r,s,a);if(u===l)return this;const f=S(this,e);let p;if(v(u)&&!v(l))++i,p=m(f,c,l,o);else if(!v(u)&&v(l)){if(--i,i<=h)return function(e,t,n,r){const s=new Array(t-1);let a=0,i=0;for(let e=0,t=r.length;e<t;++e)if(e!==n){const t=r[e];t&&!v(t)&&(s[a++]=t,i|=1<<e)}return new O(e,i,s)}(e,i,c,o);p=m(f,c,new y,o)}else p=m(f,c,l,o);return f?(this.size=i,this.children=p,this):new I(e,i,p)}}function E(e,t,n,r,s,a){if(n===s)return new w(e,n,[a,r]);const i=d(t,n),o=d(t,s);if(i===o)return t=>new O(e,g(i)|g(o),[t]);{const t=i<o?[r,a]:[a,r];return new O(e,g(i)|g(o),t)}}function N(e,t,n,r,s,a){let i,o=t;for(;;){const t=E(e,o,n,r,s,a);if("function"!=typeof t){let e=t;for(;null!=i;)e=i.value(e),i=i.previous;return e}i={value:t,previous:i},o+=5}}const B="effect/HashMap",x=Symbol.for(B),D={[x]:x,[Symbol.iterator](){return new T(this,((e,t)=>[e,t]))},[a.NA](){let e=a.vp(B);for(const t of this)e^=(0,s.zG)(a.vp(t[0]),a.$e(a.vp(t[1])));return a.HX(this,e)},[r.NA](e){if(z(e)){if(e._size!==this._size)return!1;for(const t of this){const n=(0,s.zG)(e,P(t[0],a.vp(t[0])));if(o.Wi(n))return!1;if(!r.fS(t[1],n.value))return!1}return!0}return!1},toString(){return(0,i.WU)(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(i.au)}},[i.j5](){return this.toJSON()},pipe(){return(0,c.n)(this,arguments)}},G=(e,t,n,r)=>{const s=Object.create(D);return s._editable=e,s._edit=t,s._root=n,s._size=r,s};class T{map;f;v;constructor(e,t){this.map=e,this.f=t,this.v=U(this.map._root,this.f,void 0)}next(){if(o.Wi(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=R(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new T(this.map,this.f)}}const R=e=>e?F(e[0],e[1],e[2],e[3],e[4]):o.YP(),U=(e,t,n)=>{switch(e._tag){case"LeafNode":return o.pC(e.value)?o.G({value:t(e.key,e.value.value),cont:n}):R(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return F(r.length,r,0,t,n)}default:return R(n)}},F=(e,t,n,r,s)=>{for(;n<e;){const a=t[n++];if(a&&!v(a))return U(a,r,[e,t,n,r,s])}return R(s)},A=G(!1,0,new y,0),M=()=>A,j=(...e)=>C(e),C=e=>{const t=Q(M());for(const n of e)K(t,n[0],n[1]);return ee(t)},z=e=>(0,u.l$)(e,x),$=e=>e&&v(e._root),V=s.OB(2,((e,t)=>P(e,t,a.vp(t)))),P=s.OB(3,((e,t,n)=>{let s=e._root,a=0;for(;;)switch(s._tag){case"LeafNode":return r.fS(t,s.key)?s.value:o.YP();case"CollisionNode":if(n===s.hash){const e=s.children;for(let n=0,s=e.length;n<s;++n){const s=e[n];if("key"in s&&r.fS(t,s.key))return s.value}}return o.YP();case"IndexedNode":{const e=g(d(a,n));if(s.mask&e){s=s.children[_(s.mask,e)],a+=5;break}return o.YP()}case"ArrayNode":if(s=s.children[d(a,n)],s){a+=5;break}return o.YP();default:return o.YP()}})),L=s.OB(2,((e,t)=>{const n=P(e,t,a.vp(t));if(o.Wi(n))throw new Error("Error: Expected map to contain key");return n.value})),q=s.OB(2,((e,t)=>o.pC(P(e,t,a.vp(t))))),X=s.OB(3,((e,t,n)=>o.pC(P(e,t,n)))),K=s.OB(3,((e,t,n)=>ne(e,t,(()=>o.G(n))))),Y=s.OB(3,((e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:G(e._editable,e._edit,t,n))),H=e=>new T(e,(e=>e)),J=e=>new T(e,((e,t)=>t)),Z=e=>new T(e,((e,t)=>[e,t])),W=e=>e._size,Q=e=>G(!0,e._edit+1,e._root,e._size),ee=e=>(e._editable=!1,e),te=s.OB(2,((e,t)=>{const n=Q(e);return t(n),ee(n)})),ne=s.OB(3,((e,t,n)=>re(e,t,a.vp(t),n))),re=s.OB(4,((e,t,n,r)=>{const a={value:e._size},i=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,a);return(0,s.zG)(e,Y(i,a.value))})),se=s.OB(3,((e,t,n)=>ne(e,t,o.UI(n)))),ae=s.OB(2,((e,t)=>{const n=Q(e);return le(t,((e,t)=>K(n,t,e))),ee(n)})),ie=s.OB(2,((e,t)=>ne(e,t,o.YP))),oe=s.OB(2,((e,t)=>te(e,(e=>{for(const n of t)ie(n)(e)})))),ce=s.OB(2,((e,t)=>fe(e,M(),((e,n,r)=>K(e,r,t(n,r)))))),ue=s.OB(2,((e,t)=>fe(e,M(),((e,n,r)=>te(e,(e=>le(t(n,r),((t,n)=>K(e,n,t))))))))),le=s.OB(2,((e,t)=>fe(e,void 0,((e,n,r)=>t(n,r))))),fe=s.OB(3,((e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return o.pC(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const s=[r.children];let a;for(;a=s.pop();)for(let e=0,r=a.length;e<r;){const r=a[e++];r&&!v(r)&&("LeafNode"===r._tag?o.pC(r.value)&&(t=n(t,r.value.value,r.key)):s.push(r.children))}return t})),pe=s.OB(2,((e,t)=>te(M(),(n=>{for(const[r,s]of e)t(s,r)&&K(n,r,s)})))),he=e=>de(e,s.yR),de=s.OB(2,((e,t)=>te(M(),(n=>{for(const[r,s]of e){const e=t(s,r);o.pC(e)&&K(n,r,e.value)}})))),ge=s.OB(2,((e,t)=>{for(const n of e)if(t(n[1],n[0]))return o.G(n);return o.YP()}))},686:(e,t,n)=>{n.d(t,{EE:()=>m,Ed:()=>A,G:()=>v,G0:()=>T,IH:()=>B,JG:()=>N,KX:()=>k,Od:()=>x,Rd:()=>h,Rx:()=>E,Sy:()=>b,TG:()=>f,Tx:()=>d,UI:()=>U,VO:()=>w,VS:()=>F,ZN:()=>R,cS:()=>_,dp:()=>O,e$:()=>y,e5:()=>D,hX:()=>j,iy:()=>I,jV:()=>G,u4:()=>M,uK:()=>C,yW:()=>S});var r=n(67492),s=n(17316),a=n(89379),i=n(16371),o=n(92817),c=n(71335),u=n(3493);const l="effect/HashSet",f=Symbol.for(l),p={[f]:f,[Symbol.iterator](){return u.XP(this._keyMap)},[a.NA](){return a.HX(this,a.$e(a.vp(this._keyMap))(a.vp(l)))},[r.NA](e){return!!d(e)&&u.dp(this._keyMap)===u.dp(e._keyMap)&&r.fS(this._keyMap,e._keyMap)},toString(){return(0,i.WU)(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(i.au)}},[i.j5](){return this.toJSON()},pipe(){return(0,o.n)(this,arguments)}},h=e=>{const t=Object.create(p);return t._keyMap=e,t},d=e=>(0,c.l$)(e,f),g=h(u.cS()),_=()=>g,m=e=>{const t=I(_());for(const n of e)B(t,n);return E(t)},b=(...e)=>{const t=I(_());for(const n of e)B(t,n);return E(t)},y=(0,s.OB)(2,((e,t)=>u.e$(e._keyMap,t))),v=(0,s.OB)(2,((e,t)=>{let n=!1;for(const r of e)if(n=t(r),n)break;return n})),S=(0,s.OB)(2,((e,t)=>!v(e,(e=>!t(e))))),k=(0,s.OB)(2,((e,t)=>S(e,(e=>y(t,e))))),w=e=>u.XP(e._keyMap),O=e=>u.dp(e._keyMap),I=e=>h(u.iy(e._keyMap)),E=e=>(e._keyMap._editable=!1,e),N=(0,s.OB)(2,((e,t)=>{const n=I(e);return t(n),E(n)})),B=(0,s.OB)(2,((e,t)=>e._keyMap._editable?(u.t8(t,!0)(e._keyMap),e):h(u.t8(t,!0)(e._keyMap)))),x=(0,s.OB)(2,((e,t)=>e._keyMap._editable?(u.Od(t)(e._keyMap),e):h(u.Od(t)(e._keyMap)))),D=(0,s.OB)(2,((e,t)=>N(e,(e=>{for(const n of t)x(e,n)})))),G=(0,s.OB)(2,((e,t)=>N(_(),(n=>{for(const r of t)y(r)(e)&&B(r)(n)})))),T=(0,s.OB)(2,((e,t)=>N(_(),(n=>{A(e,(e=>B(n,e)));for(const e of t)B(n,e)})))),R=(0,s.OB)(2,((e,t)=>y(e,t)?x(e,t):B(e,t))),U=(0,s.OB)(2,((e,t)=>N(_(),(n=>{A(e,(e=>{const r=t(e);y(n,r)||B(n,r)}))})))),F=(0,s.OB)(2,((e,t)=>N(_(),(n=>{A(e,(e=>{for(const r of t(e))y(n,r)||B(n,r)}))})))),A=(0,s.OB)(2,((e,t)=>u.Ed(e._keyMap,((e,n)=>t(n))))),M=(0,s.OB)(3,((e,t,n)=>u.u4(e._keyMap,t,((e,t,r)=>n(e,r))))),j=(0,s.OB)(2,((e,t)=>N(_(),(n=>{const r=w(e);let s;for(;!(s=r.next()).done;){const e=s.value;t(e)&&B(n,e)}})))),C=(0,s.OB)(2,((e,t)=>{const n=w(e);let r;const s=I(_()),a=I(_());for(;!(r=n.next()).done;){const e=r.value;t(e)?B(s,e):B(a,e)}return[E(a),E(s)]}))},60195:(e,t,n)=>{n.d(t,{e:()=>r});const r=e=>(Object.defineProperty(e,"name",{value:"effect_cutpoint"}),e)},95608:(e,t,n)=>{n.d(t,{ow:()=>x,$X:()=>G,J_:()=>A,eQ:()=>j,ok:()=>M,km:()=>z,Np:()=>$,Do:()=>q,Xr:()=>V,Ag:()=>P,eJ:()=>L,uZ:()=>Ye,cS:()=>Ge,A2:()=>X,bG:()=>K,Dh:()=>H,eu:()=>J,zp:()=>Y,EX:()=>re,tX:()=>ie,lS:()=>oe,Lz:()=>ae,VS:()=>Z,xH:()=>W,DQ:()=>Q,SH:()=>ee,Cg:()=>ne,Dg:()=>te,iT:()=>ce,VN:()=>R,zS:()=>T,uP:()=>ue,DM:()=>se,Qj:()=>F,UI:()=>le,d1:()=>fe,EQ:()=>he,eY:()=>pe,HP:()=>de,TS:()=>ge,Jn:()=>_e,e3:()=>me,vx:()=>be,B2:()=>ye,iV:()=>ve,JJ:()=>Ce,hT:()=>ze,XD:()=>Se,eI:()=>Ne,Yn:()=>Oe,u3:()=>Ee,oc:()=>Ie,Xn:()=>Be,ng:()=>xe,zm:()=>De,Rq:()=>Te,Z_:()=>Re,$2:()=>Ue,bw:()=>Fe,sn:()=>Ae,OM:()=>Me,yK:()=>je,_u:()=>Ve,iA:()=>Pe,cV:()=>qe,cq:()=>Le,yL:()=>$e});var r=n(80998),s=n(10218);r.Gt,s.m_5,s.n67,s.RHV,s.qM6,s.nYm,s.zMc,s.eQB,s.LJp,r.cS;const a=r.bG,i=r.Xr,o=(r.e1,r.Mf,r.Pe,r.m_,r.tg,r.DA,r.QV,r.cb,r.F8,r.v2,r.dp,r.xb,r.hx,r.Ux,r.td,r.Jq,r.mq,r.B4,r.l7,r.Iv,r.hl);r.kR,r.q9,r.$A,r.tE,r.Kk,r.ly,r.VO,r.as,r.UI,r.VS,r.Po,r.xH,r.r3,s.USh,s.WnW,r.sE,r.hX,r.EQ,r.u4,r.g3,s.rLI,s.lNG,s.j5q,s.jNB,s.buj,s.nNR,s.OZu,s.Gp9,s.R_A,s.ioe,s.DSj,r.IC,s.qko;var c=n(9605),u=n(20591),l=n(13571),f=n(58714),p=n(17316),h=n(92817),d=n(71335),g=n(48611),_=n(18639),m=n(101),b=n(26807),y=n(34606),v=n(50153),S=n(11713);const k="Fresh",w="ProvideMerge";var O=n(7411),I=n(30060),E=n(4536);const N=(0,p.OB)(2,((e,t)=>e.modifyEffect(t)));var B=n(73858);const x=Symbol.for("effect/Layer"),D={[x]:{_RIn:e=>e,_E:e=>e,_ROut:e=>e},pipe(){return(0,h.n)(this,arguments)}},G=Symbol.for("effect/Layer/MemoMap"),T=e=>(0,d.l$)(e,x),R=e=>e._tag===k;class U{ref;[G];constructor(e){this.ref=e,this[G]=G}getOrElseMemoize(e,t){return(0,p.zG)(N(this.ref,(n=>{const r=n.get(e);if(void 0!==r){const[e,a]=r,i=(0,p.zG)(e,s.VSD((([e,t])=>(0,p.zG)(b.au(e),s.as(t)))),s.dsk(s.Bs2({onFailure:()=>s.bfT,onSuccess:()=>s.veJ(t,a)})));return s.ng0([i,n])}return(0,p.zG)(O.Sy(0),s.VSD((r=>(0,p.zG)(s.kPu(),s.VSD((a=>(0,p.zG)(O.Sy((()=>s.bfT)),s.UID((i=>{const o=s.UO$((o=>(0,p.zG)(v.RN(),s.VSD((c=>(0,p.zG)(o(s.VSD(C(e,c,!0),(e=>b.gT(e(this))))),s.JFt,s.VSD((o=>{switch(o._tag){case S.N4:return(0,p.zG)(s.yd6(a,o.i0),s.qs5(s.roQ(c,o)),s.qs5(s.DhG(o.i0)));case S.x$:return(0,p.zG)(O.t8(i,(e=>(0,p.zG)(s.roQ(c,e),s.FNZ(O.Pj(r,(e=>[1===e,e-1]))),s.EpM))),s.qs5(O.Vx(r,(e=>e+1))),s.qs5(s.veJ(t,(t=>(0,p.zG)(s.Z_X((()=>n.delete(e))),s.qs5(O.U2(i)),s.VSD((e=>e(t))))))),s.qs5(s.QtZ(a,o.i0)),s.as(o.i0[1]))}})))))))),c=[(0,p.zG)(s.Odg(a),s.dsk(s.aoR({onFailure:()=>s.bfT,onSuccess:()=>O.Vx(r,(e=>e+1))}))),e=>(0,p.zG)(O.U2(i),s.VSD((t=>t(e))))];return[o,R(e)?n:n.set(e,c)]})))))))))})),s.xHg)}}const F=s.RqG((()=>s.UID(y.yT(new Map),(e=>new U(e))))),A=e=>v.ZO((t=>M(e,t))),M=(0,p.OB)(2,((e,t)=>s.VSD(F,(n=>s.VSD(C(e,t),(e=>e(n))))))),j=(0,p.OB)(3,((e,t,n)=>s.VSD(C(e,n),(e=>e(t))))),C=(e,t,n=!1)=>{const r=e;switch(r._tag){case"Locally":return s.Z_X((()=>e=>r.f(e.getOrElseMemoize(r.self,t))));case"ExtendScope":return s.Z_X((()=>e=>v.ZO((t=>e.getOrElseMemoize(r.layer,t)))));case"Fold":return s.Z_X((()=>e=>(0,p.zG)(e.getOrElseMemoize(r.layer,t),s.Bpg({onFailure:n=>e.getOrElseMemoize(r.failureK(n),t),onSuccess:n=>e.getOrElseMemoize(r.successK(n),t)}))));case"Fresh":return s.Z_X((()=>e=>(0,p.zG)(r.layer,M(t))));case"FromEffect":return n?s.Z_X((()=>e=>r.effect)):s.Z_X((()=>n=>n.getOrElseMemoize(e,t)));case"Provide":return s.Z_X((()=>e=>(0,p.zG)(e.getOrElseMemoize(r.first,t),s.VSD((n=>(0,p.zG)(e.getOrElseMemoize(r.second,t),s.qNZ(n)))))));case"Scoped":return n?s.Z_X((()=>e=>v.Vx(r.effect,t))):s.Z_X((()=>n=>n.getOrElseMemoize(e,t)));case"Suspend":return s.Z_X((()=>e=>e.getOrElseMemoize(r.evaluate(),t)));case"ProvideMerge":return s.Z_X((()=>e=>(0,p.zG)(e.getOrElseMemoize(r.first,t),s.yL_(e.getOrElseMemoize(r.second,t),r.zipK))));case"ZipWith":return s.Z_X((()=>e=>(0,p.zG)(e.getOrElseMemoize(r.first,t),v.xn(e.getOrElseMemoize(r.second,t),r.zipK,{concurrent:!0}))))}},z=(0,p.OB)(2,((e,t)=>he(e,{onFailure:t,onSuccess:De}))),$=(0,p.OB)(2,((e,t)=>pe(e,{onFailure:t,onSuccess:De}))),V=e=>H(i(e)),P=e=>J((()=>i(e()))),L=e=>le(e,(()=>u.cS())),q=()=>ne(s.Do7()),X=e=>{const t=Object.create(D);return t._tag="ExtendScope",t.layer=e,t},K=e=>H(a(e)),Y=e=>J((()=>a(e()))),H=e=>ne(s.DhG(e)),J=e=>ne(s.euP(e)),Z=(0,p.OB)(2,((e,t)=>he(e,{onFailure:K,onSuccess:t}))),W=(0,p.OB)(2,((e,t)=>Z(e,u.U2(t)))),Q=e=>{const t=Object.create(D);return t._tag=k,t.layer=e,t},ee=(0,p.OB)(2,((e,t)=>{const n=u.YR(e),r=n?e:t,a=n?t:e;return ne(s.UID(a,(e=>u.Sy(r,e))))})),te=e=>ne(s.UID(e,(()=>u.cS())));function ne(e){const t=Object.create(D);return t._tag="FromEffect",t.effect=e,t}const re=(0,p.OB)(3,((e,t,n)=>se(e,s.EXC(t,n)))),se=(0,p.OB)(2,((e,t)=>{const n=Object.create(D);return n._tag="Locally",n.self=e,n.f=t,n})),ae=(0,p.OB)(3,((e,t,n)=>se(e,s.LzL(t,n)))),ie=(e,t)=>Ie(v.tX(e,t)),oe=(e,t)=>Ie(v.lS(e,t)),ce=(e,t,n)=>ne(s.UID(e,(e=>u.Sy(t,n(e))))),ue=e=>v.N1(s.qs5(v.ZO((t=>(0,p.zG)(e,M(t)))),s.FiN)),le=(0,p.OB)(2,((e,t)=>Z(e,(e=>De(t(e)))))),fe=(0,p.OB)(2,((e,t)=>z(e,(e=>Y((()=>t(e))))))),pe=(0,p.OB)(2,((e,{onFailure:t,onSuccess:n})=>{const r=Object.create(D);return r._tag="Fold",r.layer=e,r.failureK=t,r.successK=n,r})),he=(0,p.OB)(2,((e,{onFailure:t,onSuccess:n})=>pe(e,{onFailure:e=>{const n=o(e);switch(n._tag){case"Left":return t(n.left);case"Right":return H(n.right)}},onSuccess:n}))),de=e=>v.ZO((t=>s.UID(b.HP(M(e,t)),ne))),ge=(0,p.OB)(2,((e,t)=>$e(e,t,((e,t)=>u.TS(e,t))))),_e=(...e)=>{let t=e[0];for(let n=1;n<e.length;n++)t=ge(t,e[n]);return t},me=e=>z(e,(e=>V(e))),be=(0,p.OB)(2,((e,t)=>z(e,t))),ye=e=>ge(q(),e),ve=(0,p.OB)(4,((e,t,n,r)=>le(e,(e=>u.Sy(n,r(u.MH(e,t))))))),Se=(0,p.OB)(2,((e,t)=>Te((()=>{const n=u.hV("effect/Layer/retry/{ state: unknown }");return(0,p.zG)(xe(n,{state:t.initial}),Z((r=>ke(e,t,n,(0,p.zG)(r,u.U2(n)).state))))})))),ke=(e,t,n,r)=>(0,p.zG)(e,z((s=>(0,p.zG)(we(t,n,s,r),Z((r=>Q(ke(e,t,n,(0,p.zG)(r,u.U2(n)).state)))))))),we=(e,t,n,r)=>ee(t,(0,p.zG)(c.b4,s.VSD((t=>(0,p.zG)(e.step(t,n,r),s.VSD((([e,r,a])=>g._b(a)?s.bGj(n):(0,p.zG)(c._v(l.YX(_.BL(a.intervals)-t)),s.as({state:e}))))))))),Oe=(0,p.OB)(2,((e,t)=>{const n=u.YR(e),r=n?e:t,a=n?t:e;return Ee(s.UID(a,(e=>u.Sy(r,e))))})),Ie=e=>Ee((0,p.zG)(e,s.as(u.cS()))),Ee=e=>{const t=Object.create(D);return t._tag="Scoped",t.effect=e,t},Ne=Ee(s.UID(v.S8(v.RN(),((e,t)=>e.close(t))),(e=>u.Sy(m.sX,e)))),Be=e=>ee(e,e),xe=(0,p.OB)(2,((e,t)=>{const n=u.YR(e),r=n?e:t,a=n?t:e;return ne(s.ng0(u.Sy(r,a)))})),De=e=>ne(s.ng0(e)),Ge=De(u.cS()),Te=e=>{const t=Object.create(D);return t._tag="Suspend",t.evaluate=e,t},Re=(0,p.OB)(2,((e,t)=>{const n=u.YR(e),r=n?e:t,a=n?t:e;return ne(s.Z_X((()=>u.Sy(r,a()))))})),Ue=e=>ne(s.Z_X(e)),Fe=(0,p.OB)(2,((e,t)=>Z(e,(e=>ne(s.as(t(e),e)))))),Ae=(0,p.OB)(2,((e,t)=>z(e,(e=>ne(s.VSD(t(e),(()=>s.bGj(e)))))))),Me=(0,p.OB)(2,((e,t)=>$(e,(e=>ne(s.VSD(t(e),(()=>s.DhG(e)))))))),je=e=>(0,p.zG)(v.ZO((t=>(0,p.zG)(e,M(t)))),s.VSD((e=>(0,p.zG)(I.GZ(),s.qNZ(e))))),Ce=(0,p.OB)(2,((e,t)=>Te((()=>{const n=Object.create(D);return n._tag="Provide",n.first=Object.create(D,{_tag:{value:w,enumerable:!0},first:{value:q(),enumerable:!0},second:{value:t},zipK:{value:(e,t)=>(0,p.zG)(e,u.TS(t))}}),n.second=e,n})))),ze=(0,p.OB)(2,((e,t)=>{const n=Object.create(D);return n._tag=w,n.first=t,n.second=Ce(e,t),n.zipK=(e,t)=>(0,p.zG)(e,u.TS(t)),n})),$e=(0,p.OB)(3,((e,t,n)=>Te((()=>{const r=Object.create(D);return r._tag="ZipWith",r.first=e,r.second=t,r.zipK=n,r})))),Ve=e=>{const t=u.hV("effect/Layer/unwrapEffect/Layer.Layer<R1, E1, A>");return Z(ee(t,e),(e=>u.U2(e,t)))},Pe=e=>{const t=u.hV("effect/Layer/unwrapScoped/Layer.Layer<R1, E1, A>");return Z(Oe(t,e),(e=>u.U2(e,t)))},Le=(0,p.OB)((e=>T(e[0])),((e,t,n)=>Pe(s.UID(n?.onEnd?s.bwX(v.ey(t,n),(e=>v.yR((t=>n.onEnd(e,t))))):v.ey(t,n),(t=>qe(e,t)))))),qe=(0,p.OB)(2,((e,t)=>Ce(e,De(u.Sy(B.N7,t))))),Xe=(0,p.OB)(2,((e,t)=>s.ni3(v.RN(),(n=>s.VSD(M(t,n),(t=>s.Jng(e,t)))),((e,t)=>s.roQ(e,t))))),Ke=(0,p.OB)(2,((e,t)=>{const n=f.Hg(I.rt.fiberRefs,t.fiberRefs),r=E.Hg(I.rt.runtimeFlags,t.runtimeFlags);return s.UO$((a=>s.ECC((i=>{const o=i.getFiberRefs(),c=f.r$(i.id(),o)(n),u=i._runtimeFlags,l=E.r$(r)(u),p=f.Hg(c,o),h=E.Hg(l,u);return i.setFiberRefs(c),i._runtimeFlags=l,v.IH(s.Jng(a(e),t.context),s.ECC((e=>(e.setFiberRefs(f.r$(e.id(),e.getFiberRefs())(p)),e._runtimeFlags=E.r$(h)(e._runtimeFlags),s.bfT))))}))))})),Ye=(0,p.OB)(2,((e,t)=>T(t)?Xe(e,t):u.PI(t)?s.Jng(e,t):Ke(e,t)))},95869:(e,t,n)=>{n.d(t,{KW:()=>l,Pj:()=>u,wC:()=>p,yP:()=>f});var r=n(20591),s=n(10218),a=n(50153),i=n(95608),o=n(4536),c=(n(43886),n(73858));o.d0,o.tm,o.mP,o.LC,o.st,o.d0,o.tm,o.mP,o.LC,o.st;const u=e=>i.oc(a.Yk(e)),l=e=>i.zm(r.Sy(c.N7,e)),f=(e,t)=>i.Yn(c.N7,t?.onEnd?s.bwX(a.ey(e,t),(e=>a.yR((n=>t.onEnd(e,n))))):a.ey(e,t)),p=e=>i.oc(a.at(e))},36548:(e,t,n)=>{n.d(t,{Sy:()=>l});var r=n(67492),s=n(89379),a=n(92817),i=n(71335);const o="effect/MetricLabel",c=Symbol.for(o);class u{key;value;[c]=c;_hash;constructor(e,t){this.key=e,this.value=t,this._hash=s.Z_(o+this.key+this.value)}[s.NA](){return this._hash}[r.NA](e){return f(e)&&this.key===e.key&&this.value===e.value}pipe(){return(0,a.n)(this,arguments)}}const l=(e,t)=>new u(e,t),f=e=>(0,i.l$)(e,c)},4219:(e,t,n)=>{n.d(t,{$:()=>s,c:()=>r});const r="Pending",s="Done"},11713:(e,t,n)=>{n.d(t,{EV:()=>d,JX:()=>_,LU:()=>f,N4:()=>a,PF:()=>i,Pv:()=>h,Q0:()=>l,gl:()=>g,kf:()=>c,m7:()=>r,rk:()=>p,rm:()=>o,vm:()=>s,x$:()=>u});const r="Async",s="Commit",a="Failure",i="OnFailure",o="OnSuccess",c="OnSuccessAndFailure",u="Success",l="Sync",f="Tag",p="UpdateRuntimeFlags",h="While",d="WithRuntime",g="Yield",_="RevertFlags"},70602:(e,t,n)=>{n.d(t,{G:()=>m,Kn:()=>h,Wi:()=>d,YP:()=>_,pC:()=>g});var r=n(67492),s=n(89379),a=n(16371),i=n(71335),o=n(10020);const c=Symbol.for("effect/Option"),u={...o.tU,[c]:{_A:e=>e},[a.j5](){return this.toJSON()},toString(){return(0,a.WU)(this.toJSON())}},l=Object.assign(Object.create(u),{_tag:"Some",_op:"Some",[r.NA](e){return h(e)&&g(e)&&r.fS(e.value,this.value)},[s.NA](){return s.HX(this,s.$e(s.vp(this._tag))(s.vp(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:(0,a.au)(this.value)}}}),f=s.vp("None"),p=Object.assign(Object.create(u),{_tag:"None",_op:"None",[r.NA]:e=>h(e)&&d(e),[s.NA]:()=>f,toJSON(){return{_id:"Option",_tag:this._tag}}}),h=e=>(0,i.l$)(e,c),d=e=>"None"===e._tag,g=e=>"Some"===e._tag,_=Object.create(p),m=e=>{const t=Object.create(l);return t.value=e,t}},55923:(e,t,n)=>{n.d(t,{YX:()=>J,Mw:()=>H,Bm:()=>W,e0:()=>Z});var r=n(13571),s=n(17316),a=n(4726),i=n(96850),o=n(20591),c=n(72022),u=n(87585),l=n(67492),f=n(76658),p=n(89379),h=n(30424),d=n(16371),g=n(92817);const _=Symbol.for("effect/MutableList"),m={[_]:_,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(null==t)return e=!0,this.return();const n=t.value;return t=t.next,{done:e,value:n}},return:t=>(e||(e=!0),{done:!0,value:t})}},toString(){return(0,d.WU)(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(d.au)}},[d.j5](){return this.toJSON()},pipe(){return(0,g.n)(this,arguments)}},b=e=>e._length,y=s.OB(2,((e,t)=>{const n=(e=>({value:e,removed:!1,prev:void 0,next:void 0}))(t);return void 0===e.head&&(e.head=n),void 0===e.tail||(e.tail.next=n,n.prev=e.tail),e.tail=n,e._length+=1,e})),v=Symbol.for("effect/MutableQueue"),S=Symbol.for("effect/mutable/MutableQueue/Empty"),k={[v]:v,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return(0,d.WU)(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(d.au)}},[d.j5](){return this.toJSON()},pipe(){return(0,g.n)(this,arguments)}},w=e=>{const t=Object.create(k);return t.queue=(()=>{const e=Object.create(m);return e.head=void 0,e.tail=void 0,e._length=0,e})(),t.capacity=e,t},O=s.OB(2,((e,t)=>{const n=b(e.queue);return(void 0===e.capacity||n!==e.capacity)&&(y(t)(e.queue),!0)})),I=s.OB(2,((e,t)=>(e=>0===b(e))(e.queue)?t:(e=>{const t=e.head;if(void 0!==t)return((e,t)=>{t.removed||(t.removed=!0,void 0!==t.prev&&void 0!==t.next?(t.prev.next=t.next,t.next.prev=t.prev):void 0!==t.prev?(e.tail=t.prev,t.prev.next=void 0):void 0!==t.next?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))})(e,t),t.value})(e.queue)));var E=n(23182),N=n(16749),B=n(71335),x=n(26807),D=n(10218),G=n(69336),T=n(26219);const R=(e,t,n,r)=>G.n_({_tag:"Complete",key:e,exit:t,entryStats:n,timeToLiveMillis:r}),U=(e,t)=>G.n_({_tag:"Pending",key:e,deferred:t}),F=Symbol.for("effect/Cache/MapKey");class A{current;[F]=F;previous=void 0;next=void 0;constructor(e){this.current=e}[p.NA](){return(0,s.zG)(p.vp(this.current),p.$e(p.vp(this.previous)),p.$e(p.vp(this.next)),p.HX(this))}[l.NA](e){return this===e||j(e)&&l.fS(this.current,e.current)&&l.fS(this.previous,e.previous)&&l.fS(this.next,e.next)}}const M=e=>new A(e),j=e=>(0,B.l$)(e,F);class C{head=void 0;tail=void 0;add(e){if(e!==this.tail)if(void 0===this.tail)this.head=e,this.tail=e;else{const t=e.previous,n=e.next;void 0!==n&&(e.next=void 0,void 0!==t?(t.next=n,n.previous=t):(this.head=n,this.head.previous=void 0)),this.tail.next=e,e.previous=this.tail,this.tail=e}}remove(){const e=this.head;if(void 0!==e){const t=e.next;void 0!==t?(e.next=void 0,this.head=t,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return e}}const z=Symbol.for("effect/Cache"),$={_Key:e=>e,_Error:e=>e,_Value:e=>e},V=e=>({loadedMillis:e});class P{capacity;context;fiberId;lookup;timeToLive;[z]=$;cacheState;constructor(e,t,n,r,s){this.capacity=e,this.context=t,this.fiberId=n,this.lookup=r,this.timeToLive=s,this.cacheState={map:h.cS(),keys:new C,accesses:w(void 0),updating:E.Sy(!1),hits:0,misses:0}}get(e){return D.UID(this.getEither(e),u.TS)}get cacheStats(){return D.Z_X((()=>({hits:this.cacheState.hits,misses:this.cacheState.misses,size:h.dp(this.cacheState.map)})))}getOption(e){return D.RqG((()=>N.EQ(h.U2(this.cacheState.map,e),{onNone:()=>{const t=M(e);return this.trackAccess(t),this.trackMiss(),D.ng0(N.YP())},onSome:e=>this.resolveMapValue(e)})))}getOptionComplete(e){return D.RqG((()=>N.EQ(h.U2(this.cacheState.map,e),{onNone:()=>{const t=M(e);return this.trackAccess(t),this.trackMiss(),D.ng0(N.YP())},onSome:e=>this.resolveMapValue(e,!0)})))}contains(e){return D.Z_X((()=>h.e$(this.cacheState.map,e)))}entryStats(e){return D.Z_X((()=>{const t=h.U2(this.cacheState.map,e);if(N.pC(t))switch(t.value._tag){case"Complete":{const e=t.value.entryStats.loadedMillis;return N.G(V(e))}case"Pending":return N.YP();case"Refreshing":{const e=t.value.complete.entryStats.loadedMillis;return N.G(V(e))}}return N.YP()}))}getEither(e){return D.RqG((()=>{const t=e;let n,r,s=N.jD(h.U2(this.cacheState.map,t));return void 0===s&&(r=c.t0(this.fiberId),n=M(t),h.e$(this.cacheState.map,t)?s=N.jD(h.U2(this.cacheState.map,t)):h.t8(this.cacheState.map,t,U(n,r))),void 0===s?(this.trackAccess(n),this.trackMiss(),D.UID(this.lookupValueOf(e,r),u.F2)):D.VSD(this.resolveMapValue(s),N.EQ({onNone:()=>this.getEither(e),onSome:e=>D.ng0(u.t$(e))}))}))}invalidate(e){return D.Z_X((()=>{h.Od(this.cacheState.map,e)}))}invalidateWhen(e,t){return D.Z_X((()=>{const n=h.U2(this.cacheState.map,e);N.pC(n)&&"Complete"===n.value._tag&&"Success"===n.value.exit._tag&&t(n.value.exit.value)&&h.Od(this.cacheState.map,e)}))}get invalidateAll(){return D.Z_X((()=>{this.cacheState.map=h.cS()}))}refresh(e){return x.UA((t=>D.RqG((()=>{const n=e,r=c.t0(this.fiberId);let a=N.jD(h.U2(this.cacheState.map,n));if(void 0===a&&(h.e$(this.cacheState.map,n)?a=N.jD(h.U2(this.cacheState.map,n)):h.t8(this.cacheState.map,n,U(M(n),r))),void 0===a)return D.EpM(this.lookupValueOf(e,r));switch(a._tag){case"Complete":if(this.hasExpired(t,a.timeToLiveMillis)){const t=N.jD(h.U2(this.cacheState.map,n));return l.fS(t,a)&&h.Od(this.cacheState.map,n),D.EpM(this.get(e))}return(0,s.zG)(this.lookupValueOf(e,r),x.gx((()=>{const e=N.jD(h.U2(this.cacheState.map,n));if(l.fS(e,a)){const e=((e,t)=>G.n_({_tag:"Refreshing",deferred:e,complete:t}))(r,a);return h.t8(this.cacheState.map,n,e),!0}return!1})),D.EpM);case"Pending":case"Refreshing":return c.Uz(a.deferred)}}))))}set(e,t){return x.UA((n=>D.Z_X((()=>{const s=n.unsafeCurrentTimeMillis(),a=e,i=f.ng(t),o=R(M(a),i,V(s),s+r.eq(r.Jx(this.timeToLive(i))));h.t8(this.cacheState.map,a,o)}))))}get size(){return D.Z_X((()=>h.dp(this.cacheState.map)))}get values(){return D.Z_X((()=>{const e=[];for(const t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push(t[1].exit.value);return e}))}get entries(){return D.Z_X((()=>{const e=[];for(const t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push([t[0],t[1].exit.value]);return e}))}get keys(){return D.Z_X((()=>{const e=[];for(const t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push(t[0]);return e}))}resolveMapValue(e,t=!1){return x.UA((n=>{switch(e._tag){case"Complete":return this.trackAccess(e.key),this.hasExpired(n,e.timeToLiveMillis)?(h.Od(this.cacheState.map,e.key.current),D.ng0(N.YP())):(this.trackHit(),D.UID(e.exit,N.G));case"Pending":return this.trackAccess(e.key),this.trackHit(),t?D.ng0(N.YP()):D.UID(c.Uz(e.deferred),N.G);case"Refreshing":return this.trackAccess(e.complete.key),this.trackHit(),this.hasExpired(n,e.complete.timeToLiveMillis)?t?D.ng0(N.YP()):D.UID(c.Uz(e.deferred),N.G):D.UID(e.complete.exit,N.G)}}))}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(e){if(O(this.cacheState.accesses,e),E.te(this.cacheState.updating,!1,!0)){let e=!0;for(;e;){const t=I(this.cacheState.accesses,S);t===S?e=!1:this.cacheState.keys.add(t)}let t=h.dp(this.cacheState.map);for(e=t>this.capacity;e;){const n=this.cacheState.keys.remove();void 0!==n?h.e$(this.cacheState.map,n.current)&&(h.Od(this.cacheState.map,n.current),t-=1,e=t>this.capacity):e=!1}E.t8(this.cacheState.updating,!1)}}hasExpired(e,t){return e.unsafeCurrentTimeMillis()>t}lookupValueOf(e,t){return x.UA((n=>D.RqG((()=>{const a=e;return(0,s.zG)(this.lookup(e),D.qNZ(this.context),D.JFt,D.VSD((e=>{const s=n.unsafeCurrentTimeMillis(),i=V(s),o=R(M(a),e,i,s+r.eq(r.Jx(this.timeToLive(e))));return h.t8(this.cacheState.map,a,o),D.qs5(c.aT(t,e),e)})),D.J7b((()=>D.qs5(c.e1(t),D.Z_X((()=>{h.Od(this.cacheState.map,a)}))))))}))))}}var L=n(80998),q=n(50153),X=n(82913);const K=(0,a.K)(Symbol.for("effect/FiberRef/currentCache"),(()=>D.kgb(new P(65536,o.cS(),T.YP,(()=>D.UID(D.kPu(),(e=>({listeners:new X.zy,handle:e})))),(e=>r.Jx((0,r.m9)(60))))))),Y=(0,a.K)(Symbol.for("effect/FiberRef/currentCacheEnabled"),(()=>D.kgb(!1))),H=(e,t)=>D.VSD(D.cdB(t)?t:D.ng0(t),(t=>D.mrY((n=>{const r=new Proxy(e,{});return D.$Dw(Y,(e=>{if(e)return D.$Dw(K,(e=>D.VSD(e.getEither(r),(s=>{switch(s._tag){case"Left":return s.left.listeners.increment(),D.IN$(i.cS,D.VSD(D.JFt(D.Odg(s.left.handle)),(n=>"Failure"===n._tag&&(0,L.Jq)(n.cause)?(s.left.listeners.decrement(),D.VSD(e.invalidateWhen(r,(e=>e.handle===s.left.handle)),(()=>H(r,t)))):(0,q.IH)(D.Odg(s.left.handle),D.Z_X((()=>s.left.listeners.decrement()))))));case"Right":return s.right.listeners.increment(),D.IN$(i.Zr(t,i.E6({request:r,result:s.right.handle,listeners:s.right.listeners,ownerId:n,state:{completed:!1}})),D.UO$((e=>D.VSD(D.JFt(e(D.Odg(s.right.handle))),(e=>(s.right.listeners.decrement(),e))))))}}))));const s=new X.zy;return s.increment(),D.VSD(D.kPu(),(e=>D.IN$(i.Zr(t,i.E6({request:r,result:e,listeners:s,ownerId:n,state:{completed:!1}})),(0,q.IH)(D.Odg(e),D.Z_X((()=>s.decrement()))))))}))})))),J=(e,t)=>D.$Dw(Y,(n=>n?D.$Dw(K,(n=>D.VSD(n.getEither(e),(e=>{switch(e._tag){case"Left":return D.bfT;case"Right":return D.klV(e.right.handle,t)}})))):D.bfT)),Z=(0,s.OB)(2,((e,t)=>D.EXC(e,Y,t))),W=(0,s.OB)(2,((e,t)=>D.EXC(e,K,t)))},94023:(e,t,n)=>{n.d(t,{Sy:()=>h,XB:()=>u});var r=n(14109),s=n(20591),a=n(17316),i=n(70762),o=n(10218);const c=Symbol.for("effect/Random"),u=s.hV("effect/Random");class l{seed;[c]=c;PRNG;constructor(e){this.seed=e,this.PRNG=new i.Mc(e)}get next(){return o.Z_X((()=>this.PRNG.number()))}get nextBoolean(){return o.UID(this.next,(e=>e>.5))}get nextInt(){return o.Z_X((()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER)))}nextRange(e,t){return o.UID(this.next,(n=>(t-e)*n+e))}nextIntBetween(e,t){return o.Z_X((()=>this.PRNG.integer(t-e)+e))}shuffle(e){return f(e,(e=>this.nextIntBetween(0,e)))}}const f=(e,t)=>o.RqG((()=>(0,a.zG)(o.Z_X((()=>Array.from(e))),o.VSD((e=>{const n=[];for(let t=e.length;t>=2;t-=1)n.push(t);return(0,a.zG)(n,o.EaP((n=>(0,a.zG)(t(n),o.UID((t=>p(e,n-1,t)))))),o.as(r.EE(e)))}))))),p=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},h=e=>new l(e)},15132:(e,t,n)=>{n.d(t,{O:()=>r});const r=e=>e.length>0},7411:(e,t,n)=>{n.d(t,{CX:()=>_,Dg:()=>b,HC:()=>m,J5:()=>k,Mr:()=>u,NY:()=>O,Of:()=>v,Pj:()=>y,Sy:()=>p,U2:()=>h,Vx:()=>S,n7:()=>c,nZ:()=>w,t0:()=>f,t8:()=>d,yO:()=>g});var r=n(17316),s=n(23182),a=n(16749),i=n(92817),o=n(10218);const c=Symbol.for("effect/Ref"),u={_A:e=>e};class l{ref;[c]=u;constructor(e){this.ref=e}modify(e){return o.Z_X((()=>{const t=s.U2(this.ref),[n,r]=e(t);return t!==r&&s.t8(r)(this.ref),n}))}pipe(){return(0,i.n)(this,arguments)}}const f=e=>new l(s.Sy(e)),p=e=>o.Z_X((()=>f(e))),h=e=>e.modify((e=>[e,e])),d=(0,r.OB)(2,((e,t)=>e.modify((()=>[void 0,t])))),g=(0,r.OB)(2,((e,t)=>e.modify((e=>[e,t])))),_=(0,r.OB)(2,((e,t)=>e.modify((e=>[e,t(e)])))),m=(0,r.OB)(2,((e,t)=>e.modify((e=>{const n=t(e);switch(n._tag){case"None":return[e,e];case"Some":return[e,n.value]}})))),b=(0,r.OB)(2,((e,t)=>e.modify((()=>[t,t])))),y=(0,r.OB)(2,((e,t)=>e.modify(t))),v=(0,r.OB)(3,((e,t,n)=>e.modify((e=>{const r=n(e);switch(r._tag){case"None":return[t,e];case"Some":return r.value}})))),S=(0,r.OB)(2,((e,t)=>e.modify((e=>[void 0,t(e)])))),k=(0,r.OB)(2,((e,t)=>e.modify((e=>{const n=t(e);return[n,n]})))),w=(0,r.OB)(2,((e,t)=>e.modify((e=>[void 0,a.EQ(t(e),{onNone:()=>e,onSome:e=>e})])))),O=(0,r.OB)(2,((e,t)=>e.modify((e=>{const n=t(e);switch(n._tag){case"None":return[e,e];case"Some":return[n.value,n.value]}}))))},82913:(e,t,n)=>{n.d(t,{N:()=>o,zy:()=>c});var r=n(17316),s=n(99609),a=n(10218),i=n(10020);const o=(i.EO,(0,r.OB)(2,((e,t)=>a.$Dw(s.d,(n=>a.Z_X((()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,a.zxF(r.result,t))}})))))));class c{count=0;observers=new Set;addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}increment(){this.count++,this.observers.forEach((e=>e(this.count)))}decrement(){this.count--,this.observers.forEach((e=>e(this.count)))}}},30060:(e,t,n)=>{n.d(t,{FW:()=>K,rt:()=>z,GZ:()=>j,m5:()=>V,pd:()=>$,GB:()=>P,p6:()=>L,I7:()=>q,uv:()=>X});var r=n(67492),s=n(20591),a=n(76658),i=n(10218),o=n(34606),c=n(63914),u=n(50153);c.tP,c.Zq,c.KM,c.A1,c.Mz,c.id,c.AO,u.GR,c.pI,u.kC,c.aT,c.$w,c.Wr,c.bG,c.Dh,c.SH,c.QY,c.i0,i.u_W,c.K2;const l=i.zU1;c.Mt,c.m2,c.h3,u.QO,c.v_,u.pM,c.UI,c.J1,c.Jy,c.EQ,c.Fi,c.vx,c.O0,c.$l,c.IC,c.VK,c.R2,u.SI,c.i7,c.ng,c.bf,o.D6,o.H4,o.v9,o.v$;var f=n(57303),p=n(6639),h=n(17316),d=n(16371),g=n(16749),_=n(92817),m=n(22019),b=n(101),y=n(80998),v=n(49941),S=n(51770),k=n(60195),w=n(11713),O=n(4536),I=n(34357);const E=e=>(t,n)=>{const s=f.t0(),a=[[i.gbX,[[s,e.context]]]];n?.scheduler&&a.push([m.xt,[[s,n.scheduler]]]);let o=p.iW(e.fiberRefs,{entries:a,forkAs:s});n?.updateRefs&&(o=n.updateRefs(o,s));const c=new u.Ou(s,o,e.runtimeFlags);let l=t;n?.scope&&(l=i.VSD(b.rM(n.scope,v.Pe),(e=>i.qs5(i.tFM(e,i.mrY((e=>(0,r.fS)(e,c.id())?i.bfT:i.zU1(c,e)))),i.dsk(t,(t=>b.xv(e,t)))))));const h=c._supervisor;return h!==I.YP&&(h.onStart(e.context,l,g.YP(),c),c.addObserver((e=>h.onEnd(e,c)))),S._A.add(e.runtimeFlags,c),!1===n?.immediate?c.resume(l):c.start(l),c},N=e=>(t,n={})=>{const r=E(e)(t,n);return n.onExit&&r.addObserver((e=>{n.onExit(e)})),(t,n)=>N(e)((0,h.zG)(r,l(t??f.YP)),{...n,onExit:n?.onExit?e=>n.onExit(a.xH(e)):void 0})},B=e=>t=>{const n=R(e)(t);if("Failure"===n._tag)throw G(n.i0);return n.i0},x=Symbol.for("effect/Runtime/FiberFailure"),D=Symbol.for("effect/Runtime/FiberFailure/Cause"),G=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Error;Error.stackTraceLimit=t;const r=y.sD(e);if(r.length>0){const t=r[0];n.name=t.message.split(":")[0],n.message=t.message.substring(n.name.length+2),n.stack=y.IC(e)}return n[x]=x,n[D]=e,n.toJSON=()=>({_id:"FiberFailure",cause:e.toJSON()}),n.toString=()=>(0,d.WU)(n.toJSON()),n[d.j5]=()=>n.toJSON(),n},T=e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return i.bT5(t.left);case"Right":return i.SID(t.right);case"Some":return i.SID(t.value);case"None":return i.bT5(i.buj())}},R=e=>t=>{const n=T(t);if(n)return n;const r=new m.$V,s=E(e)(t,{scheduler:r});r.flush();const a=s.unsafePoll();if(a)return a;throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Error;Error.stackTraceLimit=t;const r=`Fiber #${e.id().id} cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work`,s="AsyncFiberException";return Object.defineProperties(n,{_tag:{value:s},fiber:{value:e},message:{value:r},name:{value:s},toString:{get:()=>()=>r},[d.j5]:{get:()=>()=>r}}),n})(s)},U=e=>t=>F(e)(t).then((e=>{switch(e._tag){case w.x$:return e.i0;case w.N4:throw G(e.i0)}})),F=e=>t=>new Promise((n=>{const r=T(t);r&&n(r),E(e)(t).addObserver((e=>{n(e)}))}));class A{context;runtimeFlags;fiberRefs;constructor(e,t,n){this.context=e,this.runtimeFlags=t,this.fiberRefs=n}pipe(){return(0,_.n)(this,arguments)}}const M=e=>new A(e.context,e.runtimeFlags,e.fiberRefs),j=()=>i.ECC(((e,t)=>i.ng0(new A(e.getFiberRef(i.gbX),t.runtimeFlags,e.getFiberRefs())))),C=O.Sy(O.tm,O.d0,O.LC),z=M({context:s.cS(),runtimeFlags:C,fiberRefs:p.cS()}),$=N(z),V=E(z),P=U(z),L=F(z),q=B(z),X=R(z),K=e=>i.RqG((()=>{let t;return(0,k.e)(e),i.VSD(i.kPu(),(n=>i.VSD(j(),(r=>i.UO$((s=>i.qs5(u.rM(s(i.Bpg(e((e=>N(r)(i.S4Q(e,n)))),{onFailure:e=>i.yd6(n,e),onSuccess:e=>(t=e,i.bfT)}))),s(i.J7b(i.Odg(n),(()=>t??i.bfT))))))))))}))},4536:(e,t,n)=>{n.d(t,{FZ:()=>B,GO:()=>_,Hg:()=>I,LA:()=>v,LC:()=>c,Q6:()=>w,Sy:()=>b,Wu:()=>O,YP:()=>y,d0:()=>l,dY:()=>h,mP:()=>o,r$:()=>E,st:()=>u,tm:()=>i,um:()=>g,wp:()=>d,yI:()=>N});var r=n(17316),s=n(49398),a=n(43886);const i=1,o=2,c=4,u=16,l=32,f=[0,i,o,c,u,l],p=e=>{switch(e){case l:return"CooperativeYielding";case u:return"WindDown";case c:return"RuntimeMetrics";case o:return"OpSupervision";case i:return"Interruption";case 0:return"None"}},h=e=>m(e,l),d=(0,r.OB)(2,((e,t)=>e|t)),g=e=>_(e)&&!k(e),_=e=>m(e,i),m=(0,r.OB)(2,((e,t)=>0!=(e&t))),b=(...e)=>e.reduce(((e,t)=>e|t),0),y=b(0),v=e=>m(e,c),S=e=>new Set(f.filter((t=>m(e,t)))),k=e=>m(e,u),w=e=>S(a.bB(e)&a.am(e)),O=e=>S(a.bB(e)&~a.am(e)),I=(0,r.OB)(2,((e,t)=>a.Sy(e^t,t))),E=(0,r.OB)(2,((e,t)=>e&(a.U_(a.bB(t))|a.am(t))|a.bB(t)&a.am(t))),N=e=>`RuntimeFlagsPatch(enabled = (${Array.from(w(e)).map((e=>p(e))).join(", ")}), disabled = (${Array.from(O(e)).map((e=>p(e))).join(", ")}))`,B=s.Sy({empty:a.cS,diff:(e,t)=>I(e,t),combine:(e,t)=>a.Po(t)(e),patch:(e,t)=>E(t,e)})},43886:(e,t,n)=>{n.d(t,{De:()=>g,Hk:()=>_,Po:()=>b,SO:()=>y,Sy:()=>o,U_:()=>v,_k:()=>h,am:()=>i,bB:()=>a,cS:()=>c,h$:()=>l,pK:()=>d,wE:()=>m,wp:()=>u,xb:()=>f,zh:()=>p});var r=n(17316);const s=255,a=e=>e&s,i=e=>e>>8&s,o=(e,t)=>(e&s)+((t&e&s)<<8),c=o(0,0),u=e=>o(e,e),l=e=>o(e,0),f=e=>0===e,p=(0,r.OB)(2,((e,t)=>0!=(a(e)&t))),h=(0,r.OB)(2,((e,t)=>0!=(i(e)&t))),d=(0,r.OB)(2,((e,t)=>0!=(a(e)&t)&&0==(i(e)&t))),g=(0,r.OB)(2,((e,t)=>o(a(e)&~t,i(e)))),_=(0,r.OB)(2,((e,t)=>o(a(e)|a(t),i(e)&i(t)))),m=(0,r.OB)(2,((e,t)=>o(a(e)|a(t),i(e)|i(t)))),b=(0,r.OB)(2,((e,t)=>e|t)),y=e=>o(i(e),v(a(e))),v=e=>~e>>>0&s},97200:(e,t,n)=>{n.d(t,{Gt:()=>q,H:()=>L,fh:()=>K,kq:()=>z,rl:()=>$,zW:()=>Y});var r=n(9605),s=n(13571),a=n(17316),i=n(16749),o=n(92817),c=n(71335),u=n(48611),l=n(64403),f=n(18639),p=n(80998),h=n(26807),d=n(10218),g=n(7411);const _=Symbol.for("effect/Schedule"),m=e=>(0,c.l$)(e,_),b=Symbol.for("effect/ScheduleDriver"),y={_Out:e=>e,_In:e=>e,_R:e=>e},v={_Out:e=>e,_In:e=>e,_R:e=>e};class S{initial;step;[_]=y;constructor(e,t){this.initial=e,this.step=t}pipe(){return(0,o.n)(this,arguments)}}class k{schedule;ref;[b]=v;constructor(e,t){this.schedule=e,this.ref=t}get state(){return d.UID(g.U2(this.ref),(e=>e[1]))}get last(){return d.VSD(g.U2(this.ref),(([e,t])=>{switch(e._tag){case"None":return d.zph((()=>new d.buj));case"Some":return d.ng0(e.value)}}))}get reset(){return g.t8(this.ref,[i.YP(),this.schedule.initial])}next(e){return(0,a.zG)(d.UID(g.U2(this.ref),(e=>e[1])),d.VSD((t=>(0,a.zG)(r.b4,d.VSD((n=>(0,a.zG)(d.RqG((()=>this.schedule.step(n,e,t))),d.VSD((([e,t,r])=>{const o=g.t8(this.ref,[i.G(t),e]);if(u._b(r))return d.qs5(o,d.bGj(i.YP()));const c=f.BL(r.intervals)-n;return c<=0?d.as(o,t):(0,a.zG)(o,d.qs5(h._v(s.YX(c))),d.as(t))})))))))))}}const w=(e,t)=>new S(e,t),O=(0,a.OB)(2,((e,t)=>I(e,((e,n)=>d.Z_X((()=>t(e,n))))))),I=(0,a.OB)(2,((e,t)=>w(e.initial,((n,r,s)=>d.VSD(e.step(n,r,s),(([e,n,s])=>u._b(s)?d.ng0([e,n,u.aT]):d.UID(t(r,n),(t=>t?[e,n,s]:[e,n,u.aT])))))))),E=e=>(0,a.zG)(g.Sy([i.YP(),e.initial]),d.UID((t=>new k(e,t)))),N=(0,a.OB)(2,((e,t)=>B(e,t,f.wf))),B=(0,a.OB)(3,((e,t,n)=>w([e.initial,t.initial],((r,s,i)=>(0,a.zG)(d.yL_(e.step(r,s,i[0]),t.step(r,s,i[1]),((e,t)=>[e,t])),d.VSD((([[r,a,i],[o,c,l]])=>u.Jg(i)&&u.Jg(l)?x(e,t,s,r,a,i.intervals,o,c,l.intervals,n):d.ng0([[r,o],[a,c],u.aT])))))))),x=(e,t,n,r,s,i,o,c,l,p)=>{const h=p(i,l);return f.Od(h)?d.ng0([[r,o],[s,c],u.Jx(h)]):(0,a.zG)(i,f.Qj(l))?d.VSD(e.step(f.ut(i),n,r),(([r,s,a])=>u._b(a)?d.ng0([[r,o],[s,c],u.aT]):x(e,t,n,r,s,a.intervals,o,c,l,p))):d.VSD(t.step(f.ut(l),n,o),(([a,o,c])=>u._b(c)?d.ng0([[r,a],[s,o],u.aT]):x(e,t,n,r,s,i,a,o,c.intervals,p)))},D=e=>U(J,(t=>t<e)),G=(e,t)=>w(e,((e,n,r)=>d.Z_X((()=>[t(r),r,u.y3(l.e4(e))])))),T=(0,a.OB)(2,((e,t)=>I(e,((e,n)=>h.tk(t(e)))))),R=(0,a.OB)(2,((e,t)=>I(e,((e,n)=>t(e))))),U=(0,a.OB)(2,((e,t)=>O(e,((e,n)=>t(n))))),F=Symbol.for("effect/Schedule/ScheduleDefect");class A{error;[F];constructor(e){this.error=e,this[F]=F}}const M=e=>d.kmb(e,(e=>d.Xre(new A(e)))),j=e=>d.Npq(e,(e=>i.EQ(p.sE(e,(e=>{return p.QV(e)&&(t=e.defect,(0,c.l$)(t,F))?i.G(e.defect):i.YP();var t})),{onNone:()=>d.DhG(e),onSome:e=>d.bGj(e.error)}))),C=(0,a.OB)(2,((e,t)=>$(e,t,((e,t)=>d.bGj(e))))),z=(0,a.OB)(2,((e,t)=>{if(m(t))return C(e,t);const n=t.schedule??(e=>w(e.initial,((t,n,r)=>(0,a.zG)(e.step(t,n,r),d.UID((([e,t,r])=>[e,n,r]))))))(J),r=t.while?R(n,(e=>{const n=t.while(e);return"boolean"==typeof n?d.ng0(n):M(n)})):n,s=t.until?T(r,(e=>{const n=t.until(e);return"boolean"==typeof n?d.ng0(n):M(n)})):r,i=t.times?N(s,D(t.times)):s;return j(C(e,i))})),$=(0,a.OB)(3,((e,t,n)=>d.VSD(E(t),(t=>d.PwY(e,{onFailure:e=>n(e,i.YP()),onSuccess:r=>V(e,t,n,r)}))))),V=(e,t,n,r)=>d.PwY(t.next(r),{onFailure:()=>d.e3I(t.last),onSuccess:r=>d.PwY(e,{onFailure:e=>n(e,i.G(r)),onSuccess:r=>V(e,t,n,r)})}),P=(0,a.OB)(2,((e,t)=>q(e,t,((e,t)=>d.bGj(e))))),L=(0,a.OB)(2,((e,t)=>{if(m(t))return P(e,t);const n=t.schedule??J,r=t.while?R(n,(e=>{const n=t.while(e);return"boolean"==typeof n?d.ng0(n):M(n)})):n,s=t.until?T(r,(e=>{const n=t.until(e);return"boolean"==typeof n?d.ng0(n):M(n)})):r,a=t.times?N(s,D(t.times)):s;return j(P(e,a))})),q=(0,a.OB)(3,((e,t,n)=>d.VSD(E(t),(t=>X(e,t,n))))),X=(e,t,n)=>d.kmb(e,(r=>d.PwY(t.next(r),{onFailure:()=>(0,a.zG)(t.last,d.e3I,d.VSD((e=>n(r,e)))),onSuccess:()=>X(e,t,n)}))),K=(0,a.OB)(2,((e,t)=>Y(e,void 0,t))),Y=(0,a.OB)(3,((e,t,n)=>d.VSD(E(n),(n=>H(e,t,n))))),H=(e,t,n)=>d.PwY(n.next(t),{onFailure:()=>d.e3I(n.last),onSuccess:()=>d.VSD(e,(t=>H(e,t,n)))}),J=G(0,(e=>e+1))},34357:(e,t,n)=>{n.d(t,{Xc:()=>f,YP:()=>_,j:()=>g});var r=n(17316),s=n(4726),a=n(71335),i=n(10218);const o=Symbol.for("effect/Supervisor"),c={_T:e=>e};class u{underlying;value0;[o]=c;constructor(e,t){this.underlying=e,this.value0=t}get value(){return this.value0}onStart(e,t,n,r){this.underlying.onStart(e,t,n,r)}onEnd(e,t){this.underlying.onEnd(e,t)}onEffect(e,t){this.underlying.onEffect(e,t)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new u(this,(0,r.zG)(this.value,i.UID(e)))}zip(e){return new l(this,e)}}class l{left;right;_tag="Zip";[o]=c;constructor(e,t){this.left=e,this.right=t}get value(){return i.$Re(this.left.value,this.right.value)}onStart(e,t,n,r){this.left.onStart(e,t,n,r),this.right.onStart(e,t,n,r)}onEnd(e,t){this.left.onEnd(e,t),this.right.onEnd(e,t)}onEffect(e,t){this.left.onEffect(e,t),this.right.onEffect(e,t)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new u(this,(0,r.zG)(this.value,i.UID(e)))}zip(e){return new l(this,e)}}const f=e=>(0,a.l$)(e,o)&&(0,a.Bd)(e,"Zip");class p{[o]=c;fibers=new Set;get value(){return i.Z_X((()=>Array.from(this.fibers)))}onStart(e,t,n,r){this.fibers.add(r)}onEnd(e,t){this.fibers.delete(t)}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new u(this,(0,r.zG)(this.value,i.UID(e)))}zip(e){return new l(this,e)}onRun(e,t){return e()}}class h{effect;[o]=c;constructor(e){this.effect=e}get value(){return this.effect}onStart(e,t,n,r){}onEnd(e,t){}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new u(this,(0,r.zG)(this.value,i.UID(e)))}zip(e){return new l(this,e)}onRun(e,t){return e()}}const d=()=>new p,g=i.Z_X(d),_=(0,s.K)("effect/Supervisor/none",(()=>{return e=i.bfT,new h(e);var e}))},73858:(e,t,n)=>{n.d(t,{Fl:()=>i,N7:()=>o,Sy:()=>a,i0:()=>s,kH:()=>f,qY:()=>l});var r=n(20591);const s=Symbol.for("effect/Tracer"),a=e=>({[s]:s,...e}),i=r.hV("effect/Tracer"),o=r.hV("effect/ParentSpan"),c=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=e.length;return function(n){let r="";for(let s=0;s<n;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}}();class u{name;parent;context;links;startTime;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(e,t,n,r,s){this.name=e,this.parent=t,this.context=n,this.links=r,this.startTime=s,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.spanId=`span${c(16)}`}end=(e,t)=>{this.status={_tag:"Ended",endTime:e,exit:t,startTime:this.status.startTime}};attribute=(e,t)=>{this.attributes.set(e,t)};event=(e,t,n)=>{this.events.push([e,t,n??{}])}}const l=a({span:(e,t,n,r,s)=>new u(e,t,n,r,s),context:e=>e()}),f=e=>({_tag:"ExternalSpan",spanId:e.spanId,traceId:e.traceId,sampled:e.sampled??!0,context:e.context??r.cS()})},69500:(e,t,n)=>{n.d(t,{w:()=>r});const r=()=>"2.4.0"}}]);