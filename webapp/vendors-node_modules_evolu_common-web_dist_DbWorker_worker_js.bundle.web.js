/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@evolu/common-web/dist/DbWorker.js":
/*!*********************************************************!*\
  !*** ./node_modules/@evolu/common-web/dist/DbWorker.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"dbWorker\": () => (/* binding */ dbWorker)\n/* harmony export */ });\n/* harmony import */ var _evolu_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @evolu/common */ \"./node_modules/@evolu/common/dist/src/SyncWorker.js\");\n/* harmony import */ var _evolu_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @evolu/common */ \"./node_modules/@evolu/common/dist/src/DbWorker.js\");\n/* harmony import */ var _evolu_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @evolu/common */ \"./node_modules/@evolu/common/dist/src/Crypto.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Function */ \"./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Layer */ \"./node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var _PlatformLive_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PlatformLive.js */ \"./node_modules/@evolu/common-web/dist/PlatformLive.js\");\n/* harmony import */ var _SqliteLive_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SqliteLive.js */ \"./node_modules/@evolu/common-web/dist/SqliteLive.js\");\n\n\n\n\n\n\nconst SyncWorkerLive = effect_Layer__WEBPACK_IMPORTED_MODULE_0__.effect(_evolu_common__WEBPACK_IMPORTED_MODULE_1__.SyncWorker, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n    const worker = new Worker(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"sync_worker_js\"), __webpack_require__.b), { type: undefined });\n    worker.onmessage = (e) => {\n        syncWorker.onMessage(e.data);\n    };\n    const syncWorker = {\n        postMessage: (input) => {\n            worker.postMessage(input);\n        },\n        onMessage: effect_Function__WEBPACK_IMPORTED_MODULE_3__.constVoid,\n    };\n    return syncWorker;\n}));\n// It's a separated because it's imported dynamically and by Web Worker.\nconst dbWorker = effect_Effect__WEBPACK_IMPORTED_MODULE_2__.provide(_evolu_common__WEBPACK_IMPORTED_MODULE_4__.DbWorker, effect_Layer__WEBPACK_IMPORTED_MODULE_0__.provide(_evolu_common__WEBPACK_IMPORTED_MODULE_4__.DbWorkerLive, effect_Layer__WEBPACK_IMPORTED_MODULE_0__.mergeAll(_SqliteLive_js__WEBPACK_IMPORTED_MODULE_5__.SqliteLive, _PlatformLive_js__WEBPACK_IMPORTED_MODULE_6__.Bip39Live, _evolu_common__WEBPACK_IMPORTED_MODULE_7__.NanoIdLive, SyncWorkerLive))).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.runSync);\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common-web/dist/DbWorker.js?");

/***/ }),

/***/ "./node_modules/@evolu/common-web/dist/DbWorker.worker.js":
/*!****************************************************************!*\
  !*** ./node_modules/@evolu/common-web/dist/DbWorker.worker.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DbWorker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DbWorker.js */ \"./node_modules/@evolu/common-web/dist/DbWorker.js\");\n\n_DbWorker_js__WEBPACK_IMPORTED_MODULE_0__.dbWorker.onMessage = (output) => {\n    postMessage(output);\n};\nonmessage = (e) => {\n    _DbWorker_js__WEBPACK_IMPORTED_MODULE_0__.dbWorker.postMessage(e.data);\n};\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common-web/dist/DbWorker.worker.js?");

/***/ }),

/***/ "./node_modules/@evolu/common-web/dist/SqliteLive.js":
/*!***********************************************************!*\
  !*** ./node_modules/@evolu/common-web/dist/SqliteLive.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SqliteLive\": () => (/* binding */ SqliteLive)\n/* harmony export */ });\n/* harmony import */ var _evolu_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @evolu/common */ \"./node_modules/@evolu/common/dist/src/Platform.js\");\n/* harmony import */ var _evolu_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @evolu/common */ \"./node_modules/@evolu/common/dist/src/Sqlite.js\");\n/* harmony import */ var _sqlite_org_sqlite_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sqlite.org/sqlite-wasm */ \"./node_modules/@sqlite.org/sqlite-wasm/index.mjs\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effect/Layer */ \"./node_modules/effect/dist/esm/Layer.js\");\n\n\n\n\nconst dbname = self.name && self.name.split(\"/\")[0] ? self.name.split(\"/\")[0] : \"evolu\"\nconsole.info('dbname', dbname)\nconst sqlitePromise = (0,_sqlite_org_sqlite_wasm__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().then((sqlite3) => _evolu_common__WEBPACK_IMPORTED_MODULE_1__.canUseDom\n    ? new sqlite3.oo1.JsStorageDb(\"local\")\n    : new sqlite3.oo1.OpfsDb(\"/evolu/\"+dbname+\".db\", \"c\"));\nconst exec = (arg) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const sqlite = yield* _(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.promise(() => sqlitePromise));\n    const sqliteQuery = (0,_evolu_common__WEBPACK_IMPORTED_MODULE_3__.ensureSqliteQuery)(arg);\n    const rows = sqlite.exec(sqliteQuery.sql, {\n        returnValue: \"resultRows\",\n        rowMode: \"object\",\n        bind: (0,_evolu_common__WEBPACK_IMPORTED_MODULE_3__.valuesToSqliteValues)(sqliteQuery.parameters),\n    });\n    (0,_evolu_common__WEBPACK_IMPORTED_MODULE_3__.maybeParseJson)(rows);\n    return { rows, changes: sqlite.changes() };\n});\nconst SqliteLive = effect_Layer__WEBPACK_IMPORTED_MODULE_4__.succeed(_evolu_common__WEBPACK_IMPORTED_MODULE_3__.Sqlite, { exec }); \n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common-web/dist/SqliteLive.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/Db.js":
/*!***************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/Db.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RowsStore\": () => (/* binding */ RowsStore),\n/* harmony export */   \"RowsStoreLive\": () => (/* binding */ RowsStoreLive),\n/* harmony export */   \"SqliteNoSuchTableOrColumnError\": () => (/* binding */ SqliteNoSuchTableOrColumnError),\n/* harmony export */   \"database\": () => (/* binding */ database),\n/* harmony export */   \"deserializeQuery\": () => (/* binding */ deserializeQuery),\n/* harmony export */   \"emptyRows\": () => (/* binding */ emptyRows),\n/* harmony export */   \"ensureSchema\": () => (/* binding */ ensureSchema),\n/* harmony export */   \"lazyInit\": () => (/* binding */ lazyInit),\n/* harmony export */   \"queryResultFromRows\": () => (/* binding */ queryResultFromRows),\n/* harmony export */   \"schemaToTables\": () => (/* binding */ schemaToTables),\n/* harmony export */   \"serializeQuery\": () => (/* binding */ serializeQuery),\n/* harmony export */   \"someDefectToNoSuchTableOrColumnError\": () => (/* binding */ someDefectToNoSuchTableOrColumnError),\n/* harmony export */   \"table\": () => (/* binding */ table),\n/* harmony export */   \"transaction\": () => (/* binding */ transaction)\n/* harmony export */ });\n/* harmony import */ var _effect_schema_AST__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @effect/schema/AST */ \"./node_modules/@effect/schema/dist/esm/AST.js\");\n/* harmony import */ var _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @effect/schema/Schema */ \"./node_modules/@effect/schema/dist/esm/Schema.js\");\n/* harmony import */ var _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @effect/schema/Schema */ \"./node_modules/@effect/schema/dist/esm/Parser.js\");\n/* harmony import */ var _noble_ciphers_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/ciphers/utils */ \"./node_modules/@evolu/common/node_modules/@noble/ciphers/esm/utils.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effect/Context */ \"./node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Effect */ \"./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Exit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Exit */ \"./node_modules/effect/dist/esm/Exit.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/Function */ \"./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effect/Layer */ \"./node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! effect/Option */ \"./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effect/Predicate */ \"./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! effect/ReadonlyArray */ \"./node_modules/effect/dist/esm/ReadonlyArray.js\");\n/* harmony import */ var effect_ReadonlyRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! effect/ReadonlyRecord */ \"./node_modules/effect/dist/esm/ReadonlyRecord.js\");\n/* harmony import */ var effect_String__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effect/String */ \"./node_modules/effect/dist/esm/String.js\");\n/* harmony import */ var _Crdt_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Crdt.js */ \"./node_modules/@evolu/common/dist/src/Crdt.js\");\n/* harmony import */ var _Model_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Model.js */ \"./node_modules/@evolu/common/dist/src/Model.js\");\n/* harmony import */ var _Owner_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Owner.js */ \"./node_modules/@evolu/common/dist/src/Owner.js\");\n/* harmony import */ var _Sql_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Sql.js */ \"./node_modules/@evolu/common/dist/src/Sql.js\");\n/* harmony import */ var _Sqlite_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Sqlite.js */ \"./node_modules/@evolu/common/dist/src/Sqlite.js\");\n/* harmony import */ var _Store_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Store.js */ \"./node_modules/@evolu/common/dist/src/Store.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Create table schema.\n *\n * Supported types are null, string, number, Uint8Array, JSON Object, and JSON\n * Array. Use SqliteDate for dates and SqliteBoolean for booleans.\n *\n * Reserved columns are createdAt, updatedAt, isDeleted. Those columns are added\n * by default.\n *\n * @example\n *   const TodoId = id(\"Todo\");\n *   type TodoId = S.Schema.To<typeof TodoId>;\n *\n *   const TodoTable = table({\n *     id: TodoId,\n *     title: NonEmptyString1000,\n *     isCompleted: S.nullable(SqliteBoolean),\n *   });\n *   type TodoTable = S.Schema.To<typeof TodoTable>;\n */\nconst table = (fields) => _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.struct(fields).pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.extend(ReservedColumns));\nconst ReservedColumns = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.struct({\n    createdAt: _Model_js__WEBPACK_IMPORTED_MODULE_2__.SqliteDate,\n    updatedAt: _Model_js__WEBPACK_IMPORTED_MODULE_2__.SqliteDate,\n    isDeleted: _Model_js__WEBPACK_IMPORTED_MODULE_2__.SqliteBoolean,\n});\n/**\n * Create database schema.\n *\n * Tables with a name prefixed with _ are local-only, which means they are not\n * synced. Local-only tables are useful for device-specific or temporal data.\n *\n * @example\n *   const Database = database({\n *     // A local-only table.\n *     _todo: TodoTable,\n *     todo: TodoTable,\n *     todoCategory: TodoCategoryTable,\n *   });\n *   type Database = S.Schema.To<typeof Database>;\n */\nconst database = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.struct;\n// We use queries as keys, hence JSON.stringify.\nconst serializeQuery = ({ sql, parameters, }) => {\n    const query = {\n        sql,\n        parameters: parameters.map((p) => {\n            return effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.isUint8Array(p)\n                ? Array.from(p)\n                : (0,_Sqlite_js__WEBPACK_IMPORTED_MODULE_4__.isJsonObjectOrArray)(p)\n                    ? { json: p }\n                    : p;\n        }),\n    };\n    return JSON.stringify(query);\n};\nconst deserializeQuery = (query) => {\n    const serializedSqliteQuery = JSON.parse(query);\n    return {\n        ...serializedSqliteQuery,\n        parameters: serializedSqliteQuery.parameters.map((p) => Array.isArray(p)\n            ? new Uint8Array(p)\n            : typeof p === \"object\" && p != null\n                ? p.json\n                : p),\n    };\n};\nconst _emptyRows = [];\nconst emptyRows = () => _emptyRows;\nconst queryResultCache = new WeakMap();\nconst queryResultFromRows = (rows) => {\n    let queryResult = queryResultCache.get(rows);\n    if (queryResult == null) {\n        queryResult = { rows, row: rows[0] };\n        queryResultCache.set(rows, queryResult);\n    }\n    return queryResult;\n};\n// https://github.com/Effect-TS/schema/releases/tag/v0.18.0\nconst getPropertySignatures = (schema) => {\n    const out = {};\n    const propertySignatures = _effect_schema_AST__WEBPACK_IMPORTED_MODULE_5__.getPropertySignatures(schema.ast);\n    for (let i = 0; i < propertySignatures.length; i++) {\n        const propertySignature = propertySignatures[i];\n        out[propertySignature.name] = (0,_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.make)(propertySignature.type);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return out;\n};\nconst schemaToTables = (schema) => (0,effect_Function__WEBPACK_IMPORTED_MODULE_6__.pipe)(getPropertySignatures(schema), effect_ReadonlyRecord__WEBPACK_IMPORTED_MODULE_7__.toEntries, effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.map(([name, schema]) => ({\n    name,\n    columns: Object.keys(getPropertySignatures(schema)),\n})));\nconst transaction = (effect) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.flatMap(_Sqlite_js__WEBPACK_IMPORTED_MODULE_4__.Sqlite, (sqlite) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.acquireUseRelease(sqlite.exec(\"BEGIN\"), () => effect, (_, exit) => effect_Exit__WEBPACK_IMPORTED_MODULE_10__.isFailure(exit) ? sqlite.exec(\"ROLLBACK\") : sqlite.exec(\"END\")));\nconst SqliteNoSuchTableOrColumnError = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.struct({\n    message: _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.union(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.string.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.includes(\"no such table\")), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.string.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.includes(\"no such column\")), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.string.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_1__.includes(\"has no column\"))),\n});\nconst someDefectToNoSuchTableOrColumnError = effect_Effect__WEBPACK_IMPORTED_MODULE_9__.catchSomeDefect((error) => _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_11__.is(SqliteNoSuchTableOrColumnError)(error)\n    ? effect_Option__WEBPACK_IMPORTED_MODULE_12__.some(effect_Effect__WEBPACK_IMPORTED_MODULE_9__.fail({\n        _tag: \"NoSuchTableOrColumnError\",\n    }))\n    : effect_Option__WEBPACK_IMPORTED_MODULE_12__.none());\nconst lazyInit = (mnemonic) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.gen(function* (_) {\n    const [owner, sqlite, initialTimestampString] = yield* _(effect_Effect__WEBPACK_IMPORTED_MODULE_9__.all([(0,_Owner_js__WEBPACK_IMPORTED_MODULE_13__.makeOwner)(mnemonic), _Sqlite_js__WEBPACK_IMPORTED_MODULE_4__.Sqlite, _Crdt_js__WEBPACK_IMPORTED_MODULE_14__.makeInitialTimestamp], {\n        concurrency: \"unbounded\",\n    }));\n    console.info('lazy init owner', owner, mnemonic)\n    yield* _(effect_Effect__WEBPACK_IMPORTED_MODULE_9__.all([\n        sqlite.exec(_Sql_js__WEBPACK_IMPORTED_MODULE_15__.createMessageTable),\n        sqlite.exec(_Sql_js__WEBPACK_IMPORTED_MODULE_15__.createMessageTableIndex),\n        sqlite.exec(_Sql_js__WEBPACK_IMPORTED_MODULE_15__.createOwnerTable),\n        sqlite.exec({\n            sql: _Sql_js__WEBPACK_IMPORTED_MODULE_15__.insertOwner,\n            parameters: [\n                owner.id,\n                owner.mnemonic,\n                // expo-sqlite 11.3.2 doesn't support Uint8Array\n                (0,_noble_ciphers_utils__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(owner.encryptionKey),\n                (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_14__.timestampToString)(initialTimestampString),\n                (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_14__.merkleTreeToString)(_Crdt_js__WEBPACK_IMPORTED_MODULE_14__.initialMerkleTree),\n            ],\n        }),\n    ]));\n    return owner;\n});\nconst getTables = _Sqlite_js__WEBPACK_IMPORTED_MODULE_4__.Sqlite.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_9__.flatMap((sqlite) => sqlite.exec(`SELECT \"name\" FROM \"sqlite_schema\" WHERE \"type\" = 'table'`)), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map((result) => result.rows), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.map((row) => row.name + \"\")), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.filter(effect_Predicate__WEBPACK_IMPORTED_MODULE_3__.not(effect_String__WEBPACK_IMPORTED_MODULE_16__.startsWith(\"__\")))), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.dedupeWith(effect_String__WEBPACK_IMPORTED_MODULE_16__.Equivalence)));\nconst updateTable = ({ name, columns, }) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.gen(function* (_) {\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_4__.Sqlite);\n    const sql = yield* _(sqlite.exec(`PRAGMA table_info (${name})`), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map((result) => result.rows), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.map((row) => row.name)), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map((existingColumns) => effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.differenceWith(effect_String__WEBPACK_IMPORTED_MODULE_16__.Equivalence)(existingColumns)(columns)), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.map((newColumn) => `ALTER TABLE \"${name}\" ADD COLUMN \"${newColumn}\" blob;`)), effect_Effect__WEBPACK_IMPORTED_MODULE_9__.map(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_8__.join(\"\")));\n    if (sql)\n        yield* _(sqlite.exec(sql));\n});\nconst createTable = ({ name, columns, }) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.flatMap(_Sqlite_js__WEBPACK_IMPORTED_MODULE_4__.Sqlite, (sqlite) => sqlite.exec(`\n      CREATE TABLE ${name} (\n        \"id\" text primary key,\n        ${columns\n    .filter((c) => c !== \"id\")\n    // \"A column with affinity BLOB does not prefer one storage class over another\n    // and no attempt is made to coerce data from one storage class into another.\"\n    // https://www.sqlite.org/datatype3.html\n    .map((name) => `\"${name}\" blob`)\n    .join(\", \")}\n      );\n    `));\nconst ensureSchema = (tables) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.flatMap(getTables, (existingTables) => effect_Effect__WEBPACK_IMPORTED_MODULE_9__.forEach(tables, (tableDefinition) => existingTables.includes(tableDefinition.name)\n    ? updateTable(tableDefinition)\n    : createTable(tableDefinition), { discard: true }));\nconst RowsStore = effect_Context__WEBPACK_IMPORTED_MODULE_17__.GenericTag(\"@services/RowsStore\");\nconst RowsStoreLive = effect_Layer__WEBPACK_IMPORTED_MODULE_18__.effect(RowsStore, (0,_Store_js__WEBPACK_IMPORTED_MODULE_19__.makeStore)(new Map()));\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/Db.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/DbWorker.js":
/*!*********************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/DbWorker.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DbWorker\": () => (/* binding */ DbWorker),\n/* harmony export */   \"DbWorkerLive\": () => (/* binding */ DbWorkerLive),\n/* harmony export */   \"mutationsToNewMessages\": () => (/* binding */ mutationsToNewMessages),\n/* harmony export */   \"upsertValueIntoTableRowColumn\": () => (/* binding */ upsertValueIntoTableRowColumn)\n/* harmony export */ });\n/* harmony import */ var _noble_ciphers_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/ciphers/utils */ \"./node_modules/@evolu/common/node_modules/@noble/ciphers/esm/utils.js\");\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Context */ \"./node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effect/Effect */ \"./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var effect_Function__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effect/Function */ \"./node_modules/effect/dist/esm/Function.js\");\n/* harmony import */ var effect_Layer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effect/Layer */ \"./node_modules/effect/dist/esm/Layer.js\");\n/* harmony import */ var effect_Match__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effect/Match */ \"./node_modules/effect/dist/esm/Match.js\");\n/* harmony import */ var effect_Option__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! effect/Option */ \"./node_modules/effect/dist/esm/Option.js\");\n/* harmony import */ var effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! effect/ReadonlyArray */ \"./node_modules/effect/dist/esm/ReadonlyArray.js\");\n/* harmony import */ var _Config_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Config.js */ \"./node_modules/@evolu/common/dist/src/Config.js\");\n/* harmony import */ var _Crdt_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Crdt.js */ \"./node_modules/@evolu/common/dist/src/Crdt.js\");\n/* harmony import */ var _Crypto_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Crypto.js */ \"./node_modules/@evolu/common/dist/src/Crypto.js\");\n/* harmony import */ var _Db_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Db.js */ \"./node_modules/@evolu/common/dist/src/Db.js\");\n/* harmony import */ var _Diff_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Diff.js */ \"./node_modules/@evolu/common/dist/src/Diff.js\");\n/* harmony import */ var _ErrorStore_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ErrorStore.js */ \"./node_modules/@evolu/common/dist/src/ErrorStore.js\");\n/* harmony import */ var _Model_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Model.js */ \"./node_modules/@evolu/common/dist/src/Model.js\");\n/* harmony import */ var _Owner_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Owner.js */ \"./node_modules/@evolu/common/dist/src/Owner.js\");\n/* harmony import */ var _Sql_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Sql.js */ \"./node_modules/@evolu/common/dist/src/Sql.js\");\n/* harmony import */ var _Sqlite_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Sqlite.js */ \"./node_modules/@evolu/common/dist/src/Sqlite.js\");\n/* harmony import */ var _SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./SyncWorker.js */ \"./node_modules/@evolu/common/dist/src/SyncWorker.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DbWorker = effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(\"@services/DbWorker\");\nconst DbWorkerOnMessage = effect_Context__WEBPACK_IMPORTED_MODULE_1__.GenericTag(\"@services/DbWorkerOnMessage\");\nconst init = effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    const mnemonic = self.name && self.name.search(\"starpy2\") === -1 ? self.name.split(\"/\")[1] : undefined\n    return yield* _(sqlite.exec(_Sql_js__WEBPACK_IMPORTED_MODULE_4__.selectOwner), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(({ rows: [row] }) => ({\n        id: row.id,\n        mnemonic: row.mnemonic,\n        // expo-sqlite 11.3.2 doesn't support Uint8Array\n        encryptionKey: (0,_noble_ciphers_utils__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(row.encryptionKey),\n    })), _Db_js__WEBPACK_IMPORTED_MODULE_5__.someDefectToNoSuchTableOrColumnError, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchTag(\"NoSuchTableOrColumnError\", (err) => (0,_Db_js__WEBPACK_IMPORTED_MODULE_5__.lazyInit)(mnemonic)));\n});\nconst query = ({ queries, onCompleteIds = [], }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    const rowsStore = yield* _(_Db_js__WEBPACK_IMPORTED_MODULE_5__.RowsStore);\n    const dbWorkerOnMessage = yield* _(DbWorkerOnMessage);\n    const queriesRows = yield* _(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.dedupe(queries), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.forEach((query) => sqlite\n        .exec((0,_Db_js__WEBPACK_IMPORTED_MODULE_5__.deserializeQuery)(query))\n        .pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((result) => [query, result.rows]))));\n    const previous = rowsStore.getState();\n    yield* _(rowsStore.setState(new Map([...previous, ...queriesRows])));\n    const queriesPatches = queriesRows.map(([query, rows]) => ({\n        query,\n        patches: (0,_Diff_js__WEBPACK_IMPORTED_MODULE_7__.makePatches)(previous.get(query), rows),\n    }));\n    dbWorkerOnMessage({ _tag: \"onQuery\", queriesPatches, onCompleteIds });\n});\nconst readTimestampAndMerkleTree = _Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap((sqlite) => sqlite.exec(_Sql_js__WEBPACK_IMPORTED_MODULE_4__.selectOwnerTimestampAndMerkleTree)), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((result) => result.rows), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(([{ timestamp, merkleTree }]) => ({\n    timestamp: (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.unsafeTimestampFromString)(timestamp),\n    merkleTree: merkleTree,\n})));\nconst mutationsToNewMessages = (mutations) => (0,effect_Function__WEBPACK_IMPORTED_MODULE_9__.pipe)(mutations, effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.map(({ id, isInsert, now, table, values }) => (0,effect_Function__WEBPACK_IMPORTED_MODULE_9__.pipe)(Object.entries(values), effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.filterMap(([key, value]) => \n// The value can be undefined if exactOptionalPropertyTypes isn't true.\n// Don't insert nulls because null is the default value.\nvalue === undefined || (isInsert && value == null)\n    ? effect_Option__WEBPACK_IMPORTED_MODULE_10__.none()\n    : effect_Option__WEBPACK_IMPORTED_MODULE_10__.some([key, value])), effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.map(([key, value]) => [\n    key,\n    typeof value === \"boolean\"\n        ? (0,_Model_js__WEBPACK_IMPORTED_MODULE_11__.cast)(value)\n        : value instanceof Date\n            ? (0,_Model_js__WEBPACK_IMPORTED_MODULE_11__.cast)(value)\n            : value,\n]), effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.append([isInsert ? \"createdAt\" : \"updatedAt\", now]), effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.map(([key, value]) => ({\n    table,\n    row: id,\n    column: key,\n    value,\n})))), (a) => a.flat(), effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.dedupeWith(_SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__.NewMessageEquivalence));\nconst ensureSchemaByNewMessages = (messages) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const tablesMap = new Map();\n    messages.forEach((message) => {\n        const table = tablesMap.get(message.table);\n        if (table == null) {\n            tablesMap.set(message.table, {\n                name: message.table,\n                columns: [message.column],\n            });\n            return;\n        }\n        if (table.columns.includes(message.column))\n            return;\n        tablesMap.set(message.table, {\n            name: message.table,\n            columns: table.columns.concat(message.column),\n        });\n    });\n    yield* _((0,_Db_js__WEBPACK_IMPORTED_MODULE_5__.ensureSchema)(Array.from(tablesMap.values())));\n});\nconst upsertValueIntoTableRowColumn = (message, messages) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    const insert = sqlite.exec({\n        sql: _Sql_js__WEBPACK_IMPORTED_MODULE_4__.upsertValueIntoTableRowColumn(message.table, message.column),\n        parameters: [message.row, message.value, message.value],\n    });\n    yield* _(insert, _Db_js__WEBPACK_IMPORTED_MODULE_5__.someDefectToNoSuchTableOrColumnError, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchTag(\"NoSuchTableOrColumnError\", () => \n    // If one message fails, we ensure schema for all messages.\n    ensureSchemaByNewMessages(messages).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.zipRight(insert))));\n});\nconst applyMessages = ({ merkleTree, messages, }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    for (const message of messages) {\n        const timestamp = yield* _(sqlite.exec({\n            sql: _Sql_js__WEBPACK_IMPORTED_MODULE_4__.selectLastTimestampForTableRowColumn,\n            parameters: [message.table, message.row, message.column],\n        }), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((result) => result.rows), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.head), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((row) => row.timestamp), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchTag(\"NoSuchElementException\", () => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.succeed(null)));\n        if (timestamp == null || timestamp < message.timestamp) {\n            yield* _(upsertValueIntoTableRowColumn(message, messages));\n        }\n        if (timestamp == null || timestamp !== message.timestamp) {\n            const { changes } = yield* _(sqlite.exec({\n                sql: _Sql_js__WEBPACK_IMPORTED_MODULE_4__.insertIntoMessagesIfNew,\n                parameters: [\n                    message.timestamp,\n                    message.table,\n                    message.row,\n                    message.column,\n                    message.value,\n                ],\n            }));\n            if (changes > 0) {\n                const timestamp = (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.unsafeTimestampFromString)(message.timestamp);\n                merkleTree = (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.insertIntoMerkleTree)(timestamp)(merkleTree);\n            }\n        }\n    }\n    return merkleTree;\n});\nconst writeTimestampAndMerkleTree = ({ timestamp, merkleTree, }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite, (sqlite) => sqlite.exec({\n    sql: _Sql_js__WEBPACK_IMPORTED_MODULE_4__.updateOwnerTimestampAndMerkleTree,\n    parameters: [\n        (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.timestampToString)(timestamp),\n        (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.merkleTreeToString)(merkleTree),\n    ],\n}));\nconst mutate = ({ mutations, queries, }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const [toSync, localOnly] = effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.partition(mutations, (item) => item.table.startsWith(\"_\"));\n    const [toUpsert, toDelete] = effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.partition(localOnly, (item) => mutationsToNewMessages([item]).some((message) => message.column === \"isDeleted\" && message.value === 1)).map(mutationsToNewMessages);\n    yield* _(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.forEach(toUpsert, (message) => upsertValueIntoTableRowColumn(message, toUpsert)));\n    const { exec } = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    yield* _(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.forEach(toDelete, ({ table, row }) => exec({ sql: _Sql_js__WEBPACK_IMPORTED_MODULE_4__.deleteTableRow(table), parameters: [row] })));\n    if (toSync.length > 0) {\n        let { timestamp, merkleTree } = yield* _(readTimestampAndMerkleTree);\n        const messages = yield* _(mutationsToNewMessages(toSync), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.forEach((message) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.sendTimestamp)(timestamp), (nextTimestamp) => {\n            timestamp = nextTimestamp;\n            return { ...message, timestamp: (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.timestampToString)(timestamp) };\n        })));\n        merkleTree = yield* _(applyMessages({ merkleTree, messages }));\n        yield* _(writeTimestampAndMerkleTree({ timestamp, merkleTree }));\n        (yield* _(_SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__.SyncWorkerPostMessage))({\n            _tag: \"sync\",\n            syncUrl: (yield* _(_Config_js__WEBPACK_IMPORTED_MODULE_13__.Config)).syncUrl,\n            messages,\n            timestamp,\n            merkleTree,\n            owner: yield* _(_Owner_js__WEBPACK_IMPORTED_MODULE_14__.Owner),\n            syncLoopCount: 0,\n        });\n    }\n    const onCompleteIds = effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_6__.filterMap(mutations, (item) => effect_Option__WEBPACK_IMPORTED_MODULE_10__.fromNullable(item.onCompleteId));\n    if (queries.length > 0 || onCompleteIds.length > 0)\n        yield* _(query({ queries, onCompleteIds }));\n});\nconst handleSyncResponse = ({ messages, ...response }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    let { timestamp, merkleTree } = yield* _(readTimestampAndMerkleTree);\n    const dbWorkerOnMessage = yield* _(DbWorkerOnMessage);\n    if (messages.length > 0) {\n        for (const message of messages)\n            timestamp = yield* _((0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.unsafeTimestampFromString)(message.timestamp), (remote) => (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.receiveTimestamp)({ local: timestamp, remote }));\n        merkleTree = yield* _(applyMessages({ merkleTree, messages }));\n        yield* _(writeTimestampAndMerkleTree({ timestamp, merkleTree }));\n        dbWorkerOnMessage({ _tag: \"onReceive\" });\n    }\n    const diff = (0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.diffMerkleTrees)(response.merkleTree, merkleTree);\n    const syncWorkerPostMessage = yield* _(_SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__.SyncWorkerPostMessage);\n    if (effect_Option__WEBPACK_IMPORTED_MODULE_10__.isNone(diff)) {\n        syncWorkerPostMessage({ _tag: \"syncCompleted\" });\n        dbWorkerOnMessage({\n            _tag: \"onSyncState\",\n            state: {\n                _tag: \"SyncStateIsSynced\",\n                time: yield* _(_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.Time.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap((time) => time.now))),\n            },\n        });\n        return;\n    }\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    const config = yield* _(_Config_js__WEBPACK_IMPORTED_MODULE_13__.Config);\n    const owner = yield* _(_Owner_js__WEBPACK_IMPORTED_MODULE_14__.Owner);\n    const messagesToSync = yield* _(sqlite.exec({\n        sql: _Sql_js__WEBPACK_IMPORTED_MODULE_4__.selectMessagesToSync,\n        parameters: [(0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.timestampToString)((0,_Crdt_js__WEBPACK_IMPORTED_MODULE_8__.makeSyncTimestamp)(diff.value))],\n    }), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map(({ rows }) => rows));\n    if (response.syncLoopCount > 100) {\n        // TODO: dbWorkerOnMessage({ _tag: \"onError\" });\n        // eslint-disable-next-line no-console\n        console.error(\"Evolu: syncLoopCount > 100\");\n        return;\n    }\n    syncWorkerPostMessage({\n        _tag: \"sync\",\n        syncUrl: config.syncUrl,\n        messages: messagesToSync,\n        timestamp,\n        merkleTree,\n        owner,\n        syncLoopCount: response.syncLoopCount + 1,\n    });\n});\nconst sync = ({ queries, }) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    if (queries.length > 0)\n        yield* _(query({ queries }));\n    (yield* _(_SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__.SyncWorkerPostMessage))({\n        _tag: \"sync\",\n        ...(yield* _(readTimestampAndMerkleTree)),\n        syncUrl: (yield* _(_Config_js__WEBPACK_IMPORTED_MODULE_13__.Config)).syncUrl,\n        owner: yield* _(_Owner_js__WEBPACK_IMPORTED_MODULE_14__.Owner),\n        messages: [],\n        syncLoopCount: 0,\n    });\n});\nconst reset = (input) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const sqlite = yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite);\n    yield* _(sqlite.exec(`SELECT \"name\" FROM \"sqlite_master\" WHERE \"type\" = 'table'`), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((result) => result.rows), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.flatMap(\n    // The dropped table is completely removed from the database schema and\n    // the disk file. The table can not be recovered.\n    // All indices and triggers associated with the table are also deleted.\n    // https://sqlite.org/lang_droptable.html\n    effect_Effect__WEBPACK_IMPORTED_MODULE_2__.forEach(({ name }) => sqlite.exec(`DROP TABLE \"${name}\"`), { discard: true })));\n    if (input.mnemonic)\n        yield* _((0,_Db_js__WEBPACK_IMPORTED_MODULE_5__.lazyInit)(input.mnemonic));\n    const onMessage = yield* _(DbWorkerOnMessage);\n    onMessage({ _tag: \"onResetOrRestore\" });\n});\nconst DbWorkerLive = effect_Layer__WEBPACK_IMPORTED_MODULE_15__.effect(DbWorker, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.gen(function* (_) {\n    const syncWorker = yield* _(_SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__.SyncWorker);\n    const onError = (error) => effect_Effect__WEBPACK_IMPORTED_MODULE_2__.sync(() => {\n        dbWorker.onMessage({ _tag: \"onError\", error });\n    });\n    syncWorker.onMessage = (output) => {\n        switch (output._tag) {\n            case \"UnexpectedError\":\n                onError(output).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.runSync);\n                break;\n            case \"SyncWorkerOutputSyncResponse\":\n                postMessage(output);\n                break;\n            default:\n                dbWorker.onMessage({ _tag: \"onSyncState\", state: output });\n        }\n    };\n    const runContext = effect_Context__WEBPACK_IMPORTED_MODULE_1__.empty().pipe(effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite, yield* _(_Sqlite_js__WEBPACK_IMPORTED_MODULE_3__.Sqlite)), effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(_Crypto_js__WEBPACK_IMPORTED_MODULE_16__.Bip39, yield* _(_Crypto_js__WEBPACK_IMPORTED_MODULE_16__.Bip39)), effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(_Crypto_js__WEBPACK_IMPORTED_MODULE_16__.NanoId, yield* _(_Crypto_js__WEBPACK_IMPORTED_MODULE_16__.NanoId)), effect_Context__WEBPACK_IMPORTED_MODULE_1__.add(DbWorkerOnMessage, (output) => {\n        dbWorker.onMessage(output);\n    }));\n    const run = (effect) => effect.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchAllDefect(_ErrorStore_js__WEBPACK_IMPORTED_MODULE_17__.makeUnexpectedError), _Db_js__WEBPACK_IMPORTED_MODULE_5__.transaction, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.catchAll(onError), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.provide(runContext), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.runPromise);\n    // Write for reset only in case init fails.\n    const writeForInitFail = (input) => {\n        if (input._tag !== \"reset\")\n            return Promise.resolve(undefined);\n        return reset(input).pipe(run);\n    };\n    const makeWriteForInitSuccess = (config, owner) => {\n        let skipAllBecauseOfReset = false;\n        const layer = effect_Layer__WEBPACK_IMPORTED_MODULE_15__.mergeAll((0,_Config_js__WEBPACK_IMPORTED_MODULE_13__.ConfigLive)(config), effect_Layer__WEBPACK_IMPORTED_MODULE_15__.succeed(_Owner_js__WEBPACK_IMPORTED_MODULE_14__.Owner, owner), effect_Layer__WEBPACK_IMPORTED_MODULE_15__.succeed(_SyncWorker_js__WEBPACK_IMPORTED_MODULE_12__.SyncWorkerPostMessage, syncWorker.postMessage), _Db_js__WEBPACK_IMPORTED_MODULE_5__.RowsStoreLive, _Crdt_js__WEBPACK_IMPORTED_MODULE_8__.TimeLive).pipe(effect_Layer__WEBPACK_IMPORTED_MODULE_15__.memoize, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.scoped, effect_Effect__WEBPACK_IMPORTED_MODULE_2__.runSync);\n        return (input) => {\n            if (skipAllBecauseOfReset)\n                return Promise.resolve(undefined);\n            return effect_Match__WEBPACK_IMPORTED_MODULE_18__.value(input).pipe(effect_Match__WEBPACK_IMPORTED_MODULE_18__.tagsExhaustive({\n                init: () => (0,_ErrorStore_js__WEBPACK_IMPORTED_MODULE_17__.makeUnexpectedError)(new Error(\"init must be called once\")),\n                query,\n                mutate,\n                sync,\n                reset: (input) => {\n                    skipAllBecauseOfReset = true;\n                    return reset(input);\n                },\n                ensureSchema: ({ tables }) => (0,_Db_js__WEBPACK_IMPORTED_MODULE_5__.ensureSchema)(tables),\n                SyncWorkerOutputSyncResponse: handleSyncResponse,\n            }), effect_Effect__WEBPACK_IMPORTED_MODULE_2__.provide(layer), run);\n        };\n    };\n    let write = (input) => {\n        if (input._tag !== \"init\")\n            return run((0,_ErrorStore_js__WEBPACK_IMPORTED_MODULE_17__.makeUnexpectedError)(new Error(\"init must be called first\")));\n        write = writeForInitFail;\n        return init.pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_2__.map((owner) => {\n            dbWorker.onMessage({ _tag: \"onOwner\", owner });\n            write = makeWriteForInitSuccess(input.config, owner);\n        }), run);\n    };\n    let messageQueue = Promise.resolve(undefined);\n    const postMessage = (input) => {\n        messageQueue = messageQueue.then(() => write(input));\n    };\n    const dbWorker = {\n        postMessage,\n        onMessage: effect_Function__WEBPACK_IMPORTED_MODULE_9__.constVoid,\n    };\n    return dbWorker;\n}));\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/DbWorker.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/Diff.js":
/*!*****************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/Diff.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"applyPatches\": () => (/* binding */ applyPatches),\n/* harmony export */   \"areEqual\": () => (/* binding */ areEqual),\n/* harmony export */   \"makePatches\": () => (/* binding */ makePatches)\n/* harmony export */ });\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Predicate */ \"./node_modules/effect/dist/esm/Predicate.js\");\n/* harmony import */ var effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/ReadonlyArray */ \"./node_modules/effect/dist/esm/ReadonlyArray.js\");\n\n\nconst applyPatches = (patches) => (current) => patches.reduce((next, patch) => {\n    switch (patch.op) {\n        case \"replaceAll\":\n            return patch.value;\n        case \"replaceAt\": {\n            return effect_ReadonlyArray__WEBPACK_IMPORTED_MODULE_0__.replace(next, patch.index, patch.value);\n        }\n    }\n}, current);\n// We detect only a change in the whole result and in-place edits.\n// In the future, we will add more heuristics. We will probably not implement\n// the Myers diff algorithm because it's faster to rerender all than\n// to compute many detailed patches. We will only implement a logic\n// a developer would implement manually, if necessary.\n// Another idea is to make makePatches configurable via custom functions.\nconst makePatches = (previousRows, nextRows) => {\n    if (previousRows === undefined)\n        return [{ op: \"replaceAll\", value: nextRows }];\n    // TODO: Detect prepend and append, it's cheap.\n    if (previousRows.length !== nextRows.length) {\n        return [{ op: \"replaceAll\", value: nextRows }];\n    }\n    const length = previousRows.length;\n    const replaceAtPatches = [];\n    for (let i = 0; i < length; i++) {\n        const previousRow = previousRows[i];\n        const nextRow = nextRows[i];\n        // We expect the same shape for both rows.\n        for (const key in previousRow)\n            if (!areEqual(previousRow[key], nextRow[key])) {\n                replaceAtPatches.push({ op: \"replaceAt\", value: nextRow, index: i });\n                break;\n            }\n    }\n    if (length > 0 && replaceAtPatches.length === length) {\n        return [{ op: \"replaceAll\", value: nextRows }];\n    }\n    return replaceAtPatches;\n};\nconst areEqual = (a, b) => {\n    // Compare string, number, null ASAP.\n    if (a === b)\n        return true;\n    // Different type works only for string and number, everything else is an object.\n    if (typeof a !== typeof b)\n        return false;\n    // Both are nonnullable objects.\n    if (typeof a === \"object\" && a !== null && b !== null) {\n        const aIsUint8Array = effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.isUint8Array(a);\n        const bIsUint8Array = effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.isUint8Array(b);\n        if (aIsUint8Array && bIsUint8Array) {\n            if (a.length !== b.length)\n                return false;\n            for (let i = 0; i < a.length; i++)\n                if (a[i] !== b[i])\n                    return false;\n            return true;\n        }\n        const aIsArray = Array.isArray(a);\n        const bIsArray = Array.isArray(b);\n        if (aIsArray && bIsArray) {\n            if (a.length !== b.length)\n                return false;\n            for (let i = 0; i < a.length; i++)\n                if (!areEqual(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        if (!aIsUint8Array && !bIsUint8Array && !aIsArray && !bIsArray) {\n            const aKeys = Object.keys(a);\n            const bKeys = Object.keys(b);\n            if (aKeys.length !== bKeys.length)\n                return false;\n            for (const key of aKeys)\n                if (!areEqual(a[key], b[key]))\n                    return false;\n            return true;\n        }\n    }\n    return false;\n};\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/Diff.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/Model.js":
/*!******************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/Model.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Id\": () => (/* binding */ Id),\n/* harmony export */   \"NonEmptyString1000\": () => (/* binding */ NonEmptyString1000),\n/* harmony export */   \"PositiveInt\": () => (/* binding */ PositiveInt),\n/* harmony export */   \"SqliteBoolean\": () => (/* binding */ SqliteBoolean),\n/* harmony export */   \"SqliteDate\": () => (/* binding */ SqliteDate),\n/* harmony export */   \"String\": () => (/* binding */ String),\n/* harmony export */   \"String1000\": () => (/* binding */ String1000),\n/* harmony export */   \"cast\": () => (/* binding */ cast),\n/* harmony export */   \"id\": () => (/* binding */ id)\n/* harmony export */ });\n/* harmony import */ var _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @effect/schema/Schema */ \"./node_modules/@effect/schema/dist/esm/Schema.js\");\n/* harmony import */ var _Sqlite_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Sqlite.js */ \"./node_modules/@evolu/common/dist/src/Sqlite.js\");\n\n\n/**\n * Branded Id Schema for any table Id. To create Id Schema for a specific table,\n * use {@link id}.\n */\nconst Id = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.string.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.pattern(/^[\\w-]{21}$/), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"Id\"));\n/**\n * A factory function to create {@link Id} Schema for a specific table.\n *\n * @example\n *   import * as S from \"@effect/schema/Schema\";\n *   import { id } from \"@evolu/react\";\n *\n *   const TodoId = id(\"Todo\");\n *   type TodoId = S.Schema.To<typeof TodoId>;\n */\nconst id = (table) => Id.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(table));\n/**\n * SQLite doesn't support the Date type, so Evolu uses SqliteDate instead. Use\n * the {@link cast} helper to cast SqliteDate from Date and back.\n * https://www.sqlite.org/quirks.html#no_separate_datetime_datatype\n */\nconst SqliteDate = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.string.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.filter((s) => !isNaN(Date.parse(s))), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"SqliteDate\"));\n/**\n * SQLite doesn't support the boolean type, so Evolu uses SqliteBoolean instead.\n * Use the {@link cast} helper to cast SqliteBoolean from boolean and back.\n * https://www.sqlite.org/quirks.html#no_separate_boolean_datatype\n */\nconst SqliteBoolean = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.number.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.int(), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.filter((s) => s === 0 || s === 1), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"SqliteBoolean\"));\nfunction cast(value) {\n    if (typeof value === \"boolean\")\n        return (value === true ? 1 : 0);\n    if (typeof value === \"number\")\n        return value === 1;\n    if (value instanceof Date)\n        return value.toISOString();\n    return new Date(value);\n}\n/**\n * String schema represents a string that is not stringified JSON. Using String\n * schema for strings stored in SQLite is crucial to ensure a stored string is\n * not automatically parsed to a JSON object or array when retrieved. Use String\n * schema for all string-based schemas.\n */\nconst String = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.string.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.filter((s) => {\n    if (!(0,_Sqlite_js__WEBPACK_IMPORTED_MODULE_1__.maybeJson)(s))\n        return true;\n    try {\n        JSON.parse(s);\n    }\n    catch (e) {\n        return true;\n    }\n    return false;\n}, { message: () => \"a string that is not stringified JSON\" }), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"String\"));\n/**\n * A string with a maximum length of 1000 characters.\n *\n * @example\n *   import * as S from \"@effect/schema/Schema\";\n *   import { String1000 } from \"@evolu/react\";\n *\n *   S.decode(String1000)(value);\n */\nconst String1000 = String.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.maxLength(1000), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"String1000\"));\n/**\n * A nonempty string with a maximum length of 1000 characters.\n *\n * @example\n *   import * as S from \"@effect/schema/Schema\";\n *   import { NonEmptyString1000 } from \"@evolu/react\";\n *\n *   S.decode(NonEmptyString1000)(value);\n */\nconst NonEmptyString1000 = String.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.minLength(1), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.maxLength(1000), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"NonEmptyString1000\"));\n/**\n * A positive integer.\n *\n * @example\n *   import * as S from \"@effect/schema/Schema\";\n *   import { PositiveInt } from \"@evolu/react\";\n *\n *   S.decode(PositiveInt)(value);\n */\nconst PositiveInt = _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.number.pipe(_effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.int(), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.positive(), _effect_schema_Schema__WEBPACK_IMPORTED_MODULE_0__.brand(\"PositiveInt\"));\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/Model.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/Owner.js":
/*!******************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/Owner.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Owner\": () => (/* binding */ Owner),\n/* harmony export */   \"makeOwner\": () => (/* binding */ makeOwner)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"./node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Effect */ \"./node_modules/effect/dist/esm/Effect.js\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nanoid */ \"./node_modules/@evolu/common/node_modules/nanoid/url-alphabet/index.js\");\n/* harmony import */ var _Crypto_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Crypto.js */ \"./node_modules/@evolu/common/dist/src/Crypto.js\");\n\n\n\n\nconst Owner = effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@services/Owner\");\nconst makeOwner = (mnemonic) => effect_Effect__WEBPACK_IMPORTED_MODULE_1__.gen(function* (_) {\n    const bip39 = yield* _(_Crypto_js__WEBPACK_IMPORTED_MODULE_2__.Bip39);\n    if (mnemonic == null)\n        mnemonic = yield* _(bip39.make);\n    const seed = yield* _(bip39.toSeed(mnemonic));\n    const id = yield* _((0,_Crypto_js__WEBPACK_IMPORTED_MODULE_2__.slip21Derive)(seed, [\"Evolu\", \"Owner Id\"]).pipe(effect_Effect__WEBPACK_IMPORTED_MODULE_1__.map((key) => {\n        // convert key to nanoid\n        let id = \"\";\n        for (let i = 0; i < 21; i++) {\n            id += nanoid__WEBPACK_IMPORTED_MODULE_3__.urlAlphabet[key[i] & 63];\n        }\n        return id;\n    })));\n    const encryptionKey = yield* _((0,_Crypto_js__WEBPACK_IMPORTED_MODULE_2__.slip21Derive)(seed, [\"Evolu\", \"Encryption Key\"]));\n    return { mnemonic, id, encryptionKey };\n});\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/Owner.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/Sql.js":
/*!****************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/Sql.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createMessageTable\": () => (/* binding */ createMessageTable),\n/* harmony export */   \"createMessageTableIndex\": () => (/* binding */ createMessageTableIndex),\n/* harmony export */   \"createOwnerTable\": () => (/* binding */ createOwnerTable),\n/* harmony export */   \"deleteTableRow\": () => (/* binding */ deleteTableRow),\n/* harmony export */   \"insertIntoMessagesIfNew\": () => (/* binding */ insertIntoMessagesIfNew),\n/* harmony export */   \"insertOwner\": () => (/* binding */ insertOwner),\n/* harmony export */   \"selectLastTimestampForTableRowColumn\": () => (/* binding */ selectLastTimestampForTableRowColumn),\n/* harmony export */   \"selectMessagesToSync\": () => (/* binding */ selectMessagesToSync),\n/* harmony export */   \"selectOwner\": () => (/* binding */ selectOwner),\n/* harmony export */   \"selectOwnerTimestampAndMerkleTree\": () => (/* binding */ selectOwnerTimestampAndMerkleTree),\n/* harmony export */   \"updateOwnerTimestampAndMerkleTree\": () => (/* binding */ updateOwnerTimestampAndMerkleTree),\n/* harmony export */   \"upsertValueIntoTableRowColumn\": () => (/* binding */ upsertValueIntoTableRowColumn)\n/* harmony export */ });\n// TODO: This file should be generated from a script via Kysely.\n// The reason for not using Kysely directly is bundle size.\n// [Playground Link](https://kyse.link/?p=b&i=haFkpnNxbGl0ZaF2pjAuMjYuMKFz2gFoaW1wb3J0IHsgR2VuZXJhdGVkIH0gZnJvbSAna3lzZWx5JwoKZGVjbGFyZSBnbG9iYWwgewogIGludGVyZmFjZSBEQiB7CiAgICBldm9sdV9tZXNzYWdlOiB7CiAgICAgIHRpbWVzdGFtcDogc3RyaW5nLAogICAgICB0YWJsZTogc3RyaW5nLAogICAgICByb3c6IHN0cmluZywKICAgICAgY29sdW1uOiBzdHJpbmcsCiAgICAgIHZhbHVlOiB1bmtub3duCiAgICB9LAoKICAgIGV2b2x1X293bmVyOiB7CiAgICAgIGlkOiBzdHJpbmcKICAgICAgbW5lbW9uaWM6IHN0cmluZwogICAgICBlbmNyeXB0aW9uS2V5OiBVaW50OEFycmF5LAogICAgICB0aW1lc3RhbXA6IHN0cmluZywKICAgICAgbWVya2xlVHJlZTogc3RyaW5nCiAgICB9CiAgfQp9oXHaBnhhd2FpdCBreXNlbHkuc2VsZWN0RnJvbSgiZXZvbHVfb3duZXIiKQogIC5zZWxlY3QoWyJpZCIsICJtbmVtb25pYyIsICJlbmNyeXB0aW9uS2V5Il0pCiAgLmV4ZWN1dGUoKQoKYXdhaXQga3lzZWx5LnNjaGVtYQogIC5jcmVhdGVUYWJsZSgnZXZvbHVfbWVzc2FnZScpCiAgLmFkZENvbHVtbigndGltZXN0YW1wJywgJ2Jsb2InLCBjb2wgPT4gY29sLnByaW1hcnlLZXkoKSkKICAuYWRkQ29sdW1uKCd0YWJsZScsICdibG9iJykKICAuYWRkQ29sdW1uKCdyb3cnLCAnYmxvYicpCiAgLmFkZENvbHVtbignY29sdW1uJywgJ2Jsb2InKQogIC5hZGRDb2x1bW4oJ3ZhbHVlJywgJ2Jsb2InKQogIC5leGVjdXRlKCkKCmF3YWl0IGt5c2VseS5zY2hlbWEKICAuY3JlYXRlSW5kZXgoImluZGV4X2V2b2x1X21lc3NhZ2UiKQogIC5vbigiZXZvbHVfbWVzc2FnZSIpCiAgLmNvbHVtbnMoWyJ0YWJsZSIsICJyb3ciLCAiY29sdW1uIiwgInRpbWVzdGFtcCJdKQogIC5leGVjdXRlKCkKCmF3YWl0IGt5c2VseS5zY2hlbWEKICAuY3JlYXRlVGFibGUoJ2V2b2x1X19vd25lcicpCiAgLmFkZENvbHVtbignaWQnLCAnYmxvYicpCiAgLmFkZENvbHVtbignbW5lbW9uaWMnLCAnYmxvYicpCiAgLmFkZENvbHVtbignZW5jcnlwdGlvbktleScsICdibG9iJykKICAuYWRkQ29sdW1uKCd0aW1lc3RhbXAnLCAnYmxvYicpCiAgLmFkZENvbHVtbignbWVya2xlVHJlZScsICdibG9iJykKICAuZXhlY3V0ZSgpCgphd2FpdCBreXNlbHkuaW5zZXJ0SW50bygiZXZvbHVfb3duZXIiKQogIC52YWx1ZXMoewogICAgImlkIjogImIiLAogICAgIm1uZW1vbmljIjogImEiLAogICAgImVuY3J5cHRpb25LZXkiOiBuZXcgVWludDhBcnJheSgpLAogICAgInRpbWVzdGFtcCI6ICJhIiwKICAgICJtZXJrbGVUcmVlIjogImIiCiAgfSkKICAuZXhlY3V0ZSgpCgphd2FpdCBreXNlbHkuc2VsZWN0RnJvbSgiZXZvbHVfb3duZXIiKQogIC5zZWxlY3QoWyJ0aW1lc3RhbXAiLCAibWVya2xlVHJlZSJdKQogIC5leGVjdXRlKCkKCmF3YWl0IGt5c2VseS5zZWxlY3RGcm9tKCJldm9sdV9tZXNzYWdlIikKICAuc2VsZWN0KCJ0aW1lc3RhbXAiKQogIC53aGVyZSgndGFibGUnLCAnPScsICcxJykKICAud2hlcmUoJ3JvdycsICc9JywgJzInKQogIC53aGVyZSgnY29sdW1uJywgJz0nLCAnMycpCiAgLm9yZGVyQnkoInRpbWVzdGFtcCIsICJkZXNjIikKICAubGltaXQoMSkKICAuZXhlY3V0ZVRha2VGaXJzdCgpCgphd2FpdCBreXNlbHkuaW5zZXJ0SW50bygiZXZvbHVfbWVzc2FnZSIpCiAgLnZhbHVlcyh7CiAgICAidGltZXN0YW1wIjogJzEnLAogICAgInRhYmxlIjogJzInLAogICAgInJvdyI6ICczJywKICAgICJjb2x1bW4iOiAnNCcsCiAgICAidmFsdWUiOiAnNScsCiAgfSkKICAub25Db25mbGljdChvYyA9PiBvYy5kb05vdGhpbmcoKSkKICAuZXhlY3V0ZSgpCgphd2FpdCBreXNlbHkudXBkYXRlVGFibGUoImV2b2x1X293bmVyIikKICAuc2V0KHsKICAgICJtZXJrbGVUcmVlIjogJzEnLAogICAgInRpbWVzdGFtcCI6ICIyIgogIH0pCiAgLmV4ZWN1dGUoKQoKYXdhaXQga3lzZWx5LnNlbGVjdEZyb20oImV2b2x1X21lc3NhZ2UiKQogIC5zZWxlY3RBbGwoKQogIC53aGVyZSgidGltZXN0YW1wIiwgIj49IiwgJzEnKQogIC5vcmRlckJ5KCJ0aW1lc3RhbXAiKQogIC5leGVjdXRlKCmhY8M=)\nconst selectOwner = `\nSELECT\n  \"id\",\n  \"mnemonic\",\n  \"encryptionKey\"\nFROM\n  \"evolu_owner\"\n`;\nconst createMessageTable = `\nCREATE TABLE\n  \"evolu_message\" (\n    \"timestamp\" blob PRIMARY KEY,\n    \"table\" blob,\n    \"row\" blob,\n    \"column\" blob,\n    \"value\" blob\n  );\n`;\nconst createMessageTableIndex = `\nCREATE INDEX \"index_evolu_message\" ON \"evolu_message\" (\n  \"table\", \"row\", \"column\", \"timestamp\"\n);\n`;\nconst createOwnerTable = `\nCREATE TABLE\n  \"evolu_owner\" (\n    \"id\" blob,\n    \"mnemonic\" blob,\n    \"encryptionKey\" blob,\n    \"timestamp\" blob,\n    \"merkleTree\" blob\n  );\n`;\nconst insertOwner = `\nINSERT INTO\n  \"evolu_owner\" (\n    \"id\",\n    \"mnemonic\",\n    \"encryptionKey\",\n    \"timestamp\",\n    \"merkleTree\"\n  )\nVALUES\n  (?, ?, ?, ?, ?);\n`;\nconst selectOwnerTimestampAndMerkleTree = `\nSELECT\n  \"timestamp\",\n  \"merkleTree\"\nFROM\n  \"evolu_owner\"\n`;\nconst selectLastTimestampForTableRowColumn = `\nSELECT\n  \"timestamp\"\nFROM\n  \"evolu_message\"\nWHERE\n  \"table\" = ?\n  AND \"row\" = ?\n  AND \"column\" = ?\nORDER BY\n  \"timestamp\" DESC\nLIMIT\n  1\n`;\nconst upsertValueIntoTableRowColumn = (table, column) => `\nINSERT INTO\n  \"${table}\" (\"id\", \"${column}\")\nVALUES\n  (?, ?)\nON CONFLICT DO UPDATE SET\n  \"${column}\" = ?\n`;\nconst deleteTableRow = (table) => `\nDELETE FROM \"${table}\"\nWHERE\n  \"id\" = ?;\n`;\nconst insertIntoMessagesIfNew = `\nINSERT INTO\n  \"evolu_message\" (\"timestamp\", \"table\", \"row\", \"column\", \"value\")\nVALUES\n  (?, ?, ?, ?, ?)\nON CONFLICT DO NOTHING\n`;\nconst updateOwnerTimestampAndMerkleTree = `\nUPDATE \"evolu_owner\"\nSET\n  \"timestamp\" = ?,\n  \"merkleTree\" = ?\n`;\nconst selectMessagesToSync = `\nSELECT\n  *\nFROM\n  \"evolu_message\"\nWHERE\n  \"timestamp\" >= ?\nORDER BY\n  \"timestamp\"\n`;\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/Sql.js?");

/***/ }),

/***/ "./node_modules/@evolu/common/dist/src/Sqlite.js":
/*!*******************************************************!*\
  !*** ./node_modules/@evolu/common/dist/src/Sqlite.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Sqlite\": () => (/* binding */ Sqlite),\n/* harmony export */   \"ensureSqliteQuery\": () => (/* binding */ ensureSqliteQuery),\n/* harmony export */   \"isJsonObjectOrArray\": () => (/* binding */ isJsonObjectOrArray),\n/* harmony export */   \"maybeJson\": () => (/* binding */ maybeJson),\n/* harmony export */   \"maybeParseJson\": () => (/* binding */ maybeParseJson),\n/* harmony export */   \"valuesToSqliteValues\": () => (/* binding */ valuesToSqliteValues)\n/* harmony export */ });\n/* harmony import */ var effect_Context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! effect/Context */ \"./node_modules/effect/dist/esm/Context.js\");\n/* harmony import */ var effect_Predicate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effect/Predicate */ \"./node_modules/effect/dist/esm/Predicate.js\");\n\n\nconst Sqlite = effect_Context__WEBPACK_IMPORTED_MODULE_0__.GenericTag(\"@services/Sqlite\");\nconst isJsonObjectOrArray = (value) => value !== null && typeof value === \"object\" && !effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.isUint8Array(value);\nconst valuesToSqliteValues = (values) => values.map((value) => isJsonObjectOrArray(value) ? JSON.stringify(value) : value);\nconst ensureSqliteQuery = (arg) => {\n    if (typeof arg !== \"string\")\n        return arg;\n    return { sql: arg, parameters: [] };\n};\nconst maybeParseJson = (rows) => parseArray(rows);\nconst parseArray = (a) => {\n    for (let i = 0; i < a.length; ++i)\n        a[i] = parse(a[i]);\n    return a;\n};\nconst parse = (o) => {\n    if (effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.isString(o))\n        return parseString(o);\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    if (Array.isArray(o))\n        return parseArray(o);\n    if (typeof o === \"object\" && o !== null && !effect_Predicate__WEBPACK_IMPORTED_MODULE_1__.isUint8Array(o))\n        return parseObject(o);\n    return o;\n};\nconst parseString = (s) => {\n    if (maybeJson(s))\n        try {\n            return parse(JSON.parse(s));\n        }\n        catch (err) {\n            // Nothing to do.\n        }\n    return s;\n};\nconst maybeJson = (value) => value.match(/^[[{]/) != null;\nconst parseObject = (o) => {\n    for (const key in o)\n        o[key] = parse(o[key]);\n    return o;\n};\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@evolu/common/dist/src/Sqlite.js?");

/***/ }),

/***/ "./node_modules/@sqlite.org/sqlite-wasm/index.mjs":
/*!********************************************************!*\
  !*** ./node_modules/@sqlite.org/sqlite-wasm/index.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"sqlite3Worker1Promiser\": () => (/* binding */ sqlite3Worker1Promiser)\n/* harmony export */ });\n/* harmony import */ var _sqlite_wasm_jswasm_sqlite3_bundler_friendly_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sqlite-wasm/jswasm/sqlite3-bundler-friendly.mjs */ \"./node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-bundler-friendly.mjs\");\n/* harmony import */ var _sqlite_wasm_jswasm_sqlite3_worker1_promiser_bundler_friendly_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sqlite-wasm/jswasm/sqlite3-worker1-promiser-bundler-friendly.js */ \"./node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-worker1-promiser-bundler-friendly.js\");\n\n\n\nconst sqlite3Worker1Promiser = self.sqlite3Worker1Promiser;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_sqlite_wasm_jswasm_sqlite3_bundler_friendly_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@sqlite.org/sqlite-wasm/index.mjs?");

/***/ }),

/***/ "./node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-worker1-promiser-bundler-friendly.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-worker1-promiser-bundler-friendly.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/*\n  2022-08-24\n\n  The author disclaims copyright to this source code.  In place of a\n  legal notice, here is a blessing:\n\n  *   May you do good and not evil.\n  *   May you find forgiveness for yourself and forgive others.\n  *   May you share freely, never taking more than you give.\n\n  ***********************************************************************\n\n  This file implements a Promise-based proxy for the sqlite3 Worker\n  API #1. It is intended to be included either from the main thread or\n  a Worker, but only if (A) the environment supports nested Workers\n  and (B) it's _not_ a Worker which loads the sqlite3 WASM/JS\n  module. This file's features will load that module and provide a\n  slightly simpler client-side interface than the slightly-lower-level\n  Worker API does.\n\n  This script necessarily exposes one global symbol, but clients may\n  freely `delete` that symbol after calling it.\n*/\n\n\nglobalThis.sqlite3Worker1Promiser = function callee(\n  config = callee.defaultConfig,\n) {\n  if (1 === arguments.length && 'function' === typeof arguments[0]) {\n    const f = config;\n    config = Object.assign(Object.create(null), callee.defaultConfig);\n    config.onready = f;\n  } else {\n    config = Object.assign(Object.create(null), callee.defaultConfig, config);\n  }\n  const handlerMap = Object.create(null);\n  const noop = function () {};\n  const err = config.onerror || noop;\n  const debug = config.debug || noop;\n  const idTypeMap = config.generateMessageId ? undefined : Object.create(null);\n  const genMsgId =\n    config.generateMessageId ||\n    function (msg) {\n      return (\n        msg.type + '#' + (idTypeMap[msg.type] = (idTypeMap[msg.type] || 0) + 1)\n      );\n    };\n  const toss = (...args) => {\n    throw new Error(args.join(' '));\n  };\n  if (!config.worker) config.worker = callee.defaultConfig.worker;\n  if ('function' === typeof config.worker) config.worker = config.worker();\n  let dbId;\n  config.worker.onmessage = function (ev) {\n    ev = ev.data;\n    debug('worker1.onmessage', ev);\n    let msgHandler = handlerMap[ev.messageId];\n    if (!msgHandler) {\n      if (ev && 'sqlite3-api' === ev.type && 'worker1-ready' === ev.result) {\n        if (config.onready) config.onready();\n        return;\n      }\n      msgHandler = handlerMap[ev.type];\n      if (msgHandler && msgHandler.onrow) {\n        msgHandler.onrow(ev);\n        return;\n      }\n      if (config.onunhandled) config.onunhandled(arguments[0]);\n      else err('sqlite3Worker1Promiser() unhandled worker message:', ev);\n      return;\n    }\n    delete handlerMap[ev.messageId];\n    switch (ev.type) {\n      case 'error':\n        msgHandler.reject(ev);\n        return;\n      case 'open':\n        if (!dbId) dbId = ev.dbId;\n        break;\n      case 'close':\n        if (ev.dbId === dbId) dbId = undefined;\n        break;\n      default:\n        break;\n    }\n    try {\n      msgHandler.resolve(ev);\n    } catch (e) {\n      msgHandler.reject(e);\n    }\n  };\n  return function () {\n    let msg;\n    if (1 === arguments.length) {\n      msg = arguments[0];\n    } else if (2 === arguments.length) {\n      msg = Object.create(null);\n      msg.type = arguments[0];\n      msg.args = arguments[1];\n      msg.dbId = msg.args.dbId;\n    } else {\n      toss('Invalid arugments for sqlite3Worker1Promiser()-created factory.');\n    }\n    if (!msg.dbId && msg.type !== 'open') msg.dbId = dbId;\n    msg.messageId = genMsgId(msg);\n    msg.departureTime = performance.now();\n    const proxy = Object.create(null);\n    proxy.message = msg;\n    let rowCallbackId;\n    if ('exec' === msg.type && msg.args) {\n      if ('function' === typeof msg.args.callback) {\n        rowCallbackId = msg.messageId + ':row';\n        proxy.onrow = msg.args.callback;\n        msg.args.callback = rowCallbackId;\n        handlerMap[rowCallbackId] = proxy;\n      } else if ('string' === typeof msg.args.callback) {\n        toss(\n          'exec callback may not be a string when using the Promise interface.',\n        );\n      }\n    }\n\n    let p = new Promise(function (resolve, reject) {\n      proxy.resolve = resolve;\n      proxy.reject = reject;\n      handlerMap[msg.messageId] = proxy;\n      debug(\n        'Posting',\n        msg.type,\n        'message to Worker dbId=' + (dbId || 'default') + ':',\n        msg,\n      );\n      config.worker.postMessage(msg);\n    });\n    if (rowCallbackId) p = p.finally(() => delete handlerMap[rowCallbackId]);\n    return p;\n  };\n};\nglobalThis.sqlite3Worker1Promiser.defaultConfig = {\n  worker: function () {\n    return new Worker(\n      new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(\"node_modules_sqlite_org_sqlite-wasm_sqlite-wasm_jswasm_sqlite3-worker1-bundler-friendly_mjs\"), __webpack_require__.b),\n      {\n        type: undefined,\n      },\n    );\n  },\n  onerror: (...args) => console.error('worker1 promiser error', ...args),\n};\n\n\n//# sourceURL=webpack://StarpyApp/./node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-worker1-promiser-bundler-friendly.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/******/ 	// the startup function
/******/ 	__webpack_require__.x = () => {
/******/ 		// Load entry module and return exports
/******/ 		// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 		var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors-node_modules_sqlite_org_sqlite-wasm_sqlite-wasm_jswasm_sqlite3-bundler-friendly_mjs","vendors-node_modules_evolu_common-web_dist_PlatformLive_js-node_modules_evolu_common_dist_src-be6986"], () => (__webpack_require__("./node_modules/@evolu/common-web/dist/DbWorker.worker.js")))
/******/ 		__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 		return __webpack_exports__;
/******/ 	};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks and sibling chunks for the entrypoint
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".bundle.web.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/importScripts chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = self.location + "";
/******/ 		
/******/ 		// object to store loaded chunks
/******/ 		// "1" means "already loaded"
/******/ 		var installedChunks = {
/******/ 			"vendors-node_modules_evolu_common-web_dist_DbWorker_worker_js": 1
/******/ 		};
/******/ 		
/******/ 		// importScripts chunk loading
/******/ 		var installChunk = (data) => {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			for(var moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			while(chunkIds.length)
/******/ 				installedChunks[chunkIds.pop()] = 1;
/******/ 			parentChunkLoadingFunction(data);
/******/ 		};
/******/ 		__webpack_require__.f.i = (chunkId, promises) => {
/******/ 			// "1" is the signal for "already loaded"
/******/ 			if(!installedChunks[chunkId]) {
/******/ 				if(true) { // all chunks have JS
/******/ 					importScripts(__webpack_require__.p + __webpack_require__.u(chunkId));
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkStarpyApp"] = self["webpackChunkStarpyApp"] || [];
/******/ 		var parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);
/******/ 		chunkLoadingGlobal.push = installChunk;
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/startup chunk dependencies */
/******/ 	(() => {
/******/ 		var next = __webpack_require__.x;
/******/ 		__webpack_require__.x = () => {
/******/ 			return Promise.all([
/******/ 				__webpack_require__.e("vendors-node_modules_sqlite_org_sqlite-wasm_sqlite-wasm_jswasm_sqlite3-bundler-friendly_mjs"),
/******/ 				__webpack_require__.e("vendors-node_modules_evolu_common-web_dist_PlatformLive_js-node_modules_evolu_common_dist_src-be6986")
/******/ 			]).then(next);
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// run startup
/******/ 	var __webpack_exports__ = __webpack_require__.x();
/******/ 	
/******/ })()
;