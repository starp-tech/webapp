/*! For license information please see 894.bundle.web.js.LICENSE.txt */
(()=>{"use strict";var e,t,n={81303:(e,t,n)=>{n.d(t,{$0:()=>b,Ce:()=>h,Dr:()=>I,P6:()=>w,c7:()=>g,is:()=>O,re:()=>v,sf:()=>E,xi:()=>S});var r=n(12821),o=n(87585),s=n(4726),i=n(16749),a=n(71335),l=n(99768),c=n(24799),u=n(65686),p=n(33665),d=n(29645);const f=(e,t)=>{if(void 0===e)return t;if(void 0===t)return e;const n={};return n.errors=t.errors??e.errors,n.onExcessProperty=t.onExcessProperty??e.onExcessProperty,n},m=(e,t,n)=>{const r=T(e,t);return(e,t)=>r(e,f(n,t))},y=(e,t,n)=>{const r=m(e,t,n);return(e,t)=>o.G$(r(e,t),(e=>new Error(d.nG(e))))},h=(e,t)=>m(e.ast,!0,t),g=(e,t)=>((e,t,n)=>{const r=T(e,t);return(e,t)=>r(e,{...f(n,t),isEffectAllowed:!0})})(e.ast,!0,t),b=(e,t)=>y(e.ast,!0,t),w=(e,t)=>y(c.to(e.ast),!0,t),S=(e,t)=>((e,t,n)=>{const r=m(e,t,n);return(e,t)=>i.EK(r(e,t))})(c.to(e.ast),!0,t),v=(e,t)=>m(c.to(e.ast),!0,t),O=(e,t)=>{const n=T(c.to(e.ast),!0);return(e,r)=>o.tO(n(e,{...f(t,r),isExact:!0}))},E=(e,t)=>y(e.ast,!1,t),I={},x=(0,s.K)(Symbol.for("@effect/schema/Parser/decodeMemoMap"),(()=>new WeakMap)),D=(0,s.K)(Symbol.for("@effect/schema/Parser/encodeMemoMap"),(()=>new WeakMap)),T=(e,t)=>{const n=t?x:D,r=n.get(e);if(r)return r;const o=C(e,t);return n.set(e,o),o},C=(e,t)=>{switch(e._tag){case"Refinement":if(t){const t=T(e.from,!0);return(n,r)=>P(p.VS(p.d1(t(n,r),(t=>p.oc(e,n,"From",t))),(t=>i.EQ(e.filter(t,r??I,e),{onNone:()=>o.F2(t),onSome:t=>o.t$(p.oc(e,n,"Predicate",t))}))),e,n,r)}{const t=T(c.to(e),!0),n=T(_(e.from),!1);return(r,o)=>P(p.VS(t(r,o),(e=>n(e,o))),e,r,o)}case"Transform":{const n=V(e.transformation,t),r=t?T(e.from,!0):T(e.to,!1),o=t?T(e.to,!0):T(e.from,!1);return(s,i)=>P(p.VS(p.d1(r(s,i),(n=>p.vs(e,s,t?"From":"To",n))),(r=>p.VS(p.d1(n(r,i??I,e),(t=>p.vs(e,s,"Transformation",t))),(n=>p.d1(o(n,i),(n=>p.vs(e,s,t?"To":"From",n))))))),e,s,i)}case"Declaration":{const n=t?e.decodeUnknown(...e.typeParameters):e.encodeUnknown(...e.typeParameters);return(t,r)=>P(p.d1(n(t,r??I,e),(n=>p.CK(e,t,n))),e,t,r)}case"Literal":return A(e,(t=>t===e.literal));case"UniqueSymbol":return A(e,(t=>t===e.symbol));case"UndefinedKeyword":case"VoidKeyword":return A(e,a.o8);case"NeverKeyword":return A(e,a.r2);case"UnknownKeyword":case"AnyKeyword":return o.F2;case"StringKeyword":return A(e,a.HD);case"NumberKeyword":return A(e,a.hj);case"BooleanKeyword":return A(e,a.jn);case"BigIntKeyword":return A(e,a.C4);case"SymbolKeyword":return A(e,a.yk);case"ObjectKeyword":return A(e,a.Kn);case"Enums":return A(e,(t=>e.enums.some((([e,n])=>n===t))));case"TemplateLiteral":{const t=c.ze(e);return A(e,(e=>a.HD(e)&&t.test(e)))}case"Tuple":{const n=e.elements.map((e=>T(e.type,t))),s=i.UI(e.rest,l.UI((e=>T(e,t))));let a=e.elements.filter((e=>!e.isOptional)).length;i.pC(e.rest)&&(a+=e.rest.value.length-1);const u=c.lC(e.elements.map(((e,t)=>c.vs(t))));return(t,c)=>{if(!Array.isArray(t))return o.t$(p.dt(e,t));const d="all"===c?.errors,f=[];let m=0;const y=t.length;for(let n=y;n<=a-1;n++){const r=p.Kz(n,p.wb);if(!d)return o.t$(p.bc(e,t,[r]));f.push([m++,r])}if(i.Wi(e.rest))for(let n=e.elements.length;n<=y-1;n++){const r=p.Kz(n,p.pT(u));if(!d)return o.t$(p.bc(e,t,[r]));f.push([m++,r])}const h=[];let g,b=0;for(;b<n.length;b++)if(y<b+1){if(e.elements[b].isOptional)continue}else{const s=(0,n[b])(t[b],c),i=p.gC(s);if(i){if(o.nM(i)){const n=p.Kz(b,i.left);if(d){f.push([m++,n]);continue}return o.t$(p.bc(e,t,[n]))}h.push([m++,i.right])}else{const n=m++,i=b;g||(g=[]),g.push((({es:a,output:l})=>r.VSD(r.wEe(s),(s=>{if(o.nM(s)){const l=p.Kz(i,s.left);return d?(a.push([n,l]),r.bfT):o.t$(p.bc(e,t,[l]))}return l.push([n,s.right]),r.bfT}))))}}if(i.pC(s)){const[n,...i]=s.value;for(;b<y-i.length;b++){const s=n(t[b],c),i=p.gC(s);if(i){if(o.nM(i)){const n=p.Kz(b,i.left);if(d){f.push([m++,n]);continue}return o.t$(p.bc(e,t,[n]))}h.push([m++,i.right])}else{const n=m++,i=b;g||(g=[]),g.push((({es:a,output:l})=>r.VSD(r.wEe(s),(s=>{if(o.nM(s)){const l=p.Kz(i,s.left);return d?(a.push([n,l]),r.bfT):o.t$(p.bc(e,t,[l]))}return l.push([n,s.right]),r.bfT}))))}}for(let n=0;n<i.length;n++)if(b+=n,!(y<b+1)){const s=i[n](t[b],c),a=p.gC(s);if(a){if(o.nM(a)){const n=p.Kz(b,a.left);if(d){f.push([m++,n]);continue}return o.t$(p.bc(e,t,[n]))}h.push([m++,a.right])}else{const n=m++,i=b;g||(g=[]),g.push((({es:a,output:l})=>r.VSD(r.wEe(s),(s=>{if(o.nM(s)){const l=p.Kz(i,s.left);return d?(a.push([n,l]),r.bfT):o.t$(p.bc(e,t,[l]))}return l.push([n,s.right]),r.bfT}))))}}}const w=({es:n,output:r})=>l.Of(n)?o.t$(p.bc(e,t,j(n))):o.F2(j(r));if(g&&g.length>0){const e=g;return r.RqG((()=>{const t={es:Array.from(f),output:Array.from(h)};return r.VSD(r.Ed_(e,(e=>e(t)),{concurrency:"unbounded",discard:!0}),(()=>w(t)))}))}return w({output:h,es:f})}}case"TypeLiteral":{if(0===e.propertySignatures.length&&0===e.indexSignatures.length)return A(e,a.jW);const n=[],s={};for(const r of e.propertySignatures)n.push([T(r.type,t),r]),s[r.name]=null;const i=e.indexSignatures.map((e=>[T(e.parameter,t),T(e.type,t),e.parameter])),d=c.lC(e.indexSignatures.map((e=>e.parameter)).concat(u.Wp(s).map((e=>a.yk(e)?c.QH(e):c.vs(e))))),f=T(d,t);return(t,c)=>{if(!a.Uy(t))return o.t$(p.dt(e,t));const m="all"===c?.errors,y=[];let h=0;const g="error"===c?.onExcessProperty,b={};if(g||"preserve"===c?.onExcessProperty)for(const n of u.Wp(t)){const r=p.gC(f(n,c));if(o.nM(r)){if(g){const r=p.Jy(n,p.pT(d));if(m){y.push([h++,r]);continue}return o.t$(p.zy(e,t,[r]))}b[n]=t[n]}}let w;const S=!0===c?.isExact;for(let s=0;s<n.length;s++){const i=n[s][1],a=i.name,l=Object.prototype.hasOwnProperty.call(t,a);if(!l){if(i.isOptional)continue;if(S){const n=p.Jy(a,p.wb);if(m){y.push([h++,n]);continue}return o.t$(p.zy(e,t,[n]))}}const u=(0,n[s][0])(t[a],c),d=p.gC(u);if(d){if(o.nM(d)){const n=p.Jy(a,l?d.left:p.wb);if(m){y.push([h++,n]);continue}return o.t$(p.zy(e,t,[n]))}b[a]=d.right}else{const n=h++,s=a;w||(w=[]),w.push((({es:i,output:a})=>r.VSD(r.wEe(u),(c=>{if(o.nM(c)){const a=p.Jy(s,l?c.left:p.wb);return m?(i.push([n,a]),r.bfT):o.t$(p.zy(e,t,[a]))}return a[s]=c.right,r.bfT}))))}}for(let n=0;n<i.length;n++){const a=i[n],l=a[0],d=a[1],f=u.k8(t,a[2]);for(const n of f){const i=p.gC(l(n,c));if(i&&o.tO(i)){const i=d(t[n],c),a=p.gC(i);if(a){if(o.nM(a)){const r=p.Jy(n,a.left);if(m){y.push([h++,r]);continue}return o.t$(p.zy(e,t,[r]))}Object.prototype.hasOwnProperty.call(s,n)||(b[n]=a.right)}else{const a=h++,l=n;w||(w=[]),w.push((({es:c,output:u})=>r.VSD(r.wEe(i),(i=>{if(o.nM(i)){const n=p.Jy(l,i.left);return m?(c.push([a,n]),r.bfT):o.t$(p.zy(e,t,[n]))}return Object.prototype.hasOwnProperty.call(s,n)||(u[n]=i.right),r.bfT}))))}}}}const v=({es:n,output:r})=>l.Of(n)?o.t$(p.zy(e,t,j(n))):o.F2(r);if(w&&w.length>0){const e=w;return r.RqG((()=>{const t={es:Array.from(y),output:Object.assign({},b)};return r.VSD(r.Ed_(e,(e=>e(t)),{concurrency:"unbounded",discard:!0}),(()=>v(t)))}))}return v({es:y,output:b})}}case"Union":{const n=k(e.types,t),s=u.Wp(n.keys),i=s.length,d=new Map;for(let n=0;n<e.types.length;n++)d.set(e.types[n],T(e.types[n],t));return(t,u)=>{const f=[];let m,y=0,h=[];if(i>0)if(a.Uy(t))for(let e=0;e<i;e++){const r=s[e],o=n.keys[r].buckets;if(Object.prototype.hasOwnProperty.call(t,r)){const e=String(t[r]);Object.prototype.hasOwnProperty.call(o,e)?h=h.concat(o[e]):f.push([y++,p.zy(c.R1([c.KO(r,n.keys[r].ast,!1,!0)],[]),t,[p.Jy(r,p.dt(n.keys[r].ast,t[r]))])])}else f.push([y++,p.zy(c.R1([c.KO(r,n.keys[r].ast,!1,!0)],[]),t,[p.Jy(r,p.wb)])])}else f.push([y++,p.dt(e,t)]);n.otherwise.length>0&&(h=h.concat(n.otherwise));for(let e=0;e<h.length;e++){const n=h[e],s=d.get(n)(t,u),i=m&&0!==m.length?void 0:p.gC(s);if(i){if(o.tO(i))return o.F2(i.right);f.push([y++,p.fP(n,i.left)])}else{const e=y++;m||(m=[]),m.push((t=>r.RqG((()=>"finalResult"in t?r.bfT:r.VSD(r.wEe(s),(s=>(o.tO(s)?t.finalResult=o.F2(s.right):t.es.push([e,p.fP(n,s.left)]),r.bfT)))))))}}const g=n=>l.Of(n)?1===n.length&&"Type"===n[0][1]._tag?o.t$(n[0][1]):o.t$(p.G0(e,t,j(n))):o.t$(p.dt(c.$y,t));if(m&&m.length>0){const e=m;return r.RqG((()=>{const t={es:Array.from(f)};return r.VSD(r.Ed_(e,(e=>e(t)),{concurrency:1,discard:!0}),(()=>"finalResult"in t?t.finalResult:g(t.es)))}))}return g(f)}}case"Suspend":{const n=u.d3((()=>T(c.wr(e.f(),e.annotations),t)));return(e,t)=>n()(e,t)}}},A=(e,t)=>n=>t(n)?o.F2(n):o.t$(p.dt(e,n)),M=(e,t)=>{switch(e._tag){case"TypeLiteral":{const n=[];for(let r=0;r<e.propertySignatures.length;r++){const o=e.propertySignatures[r],s=t?c.Dp(o.type):c.to(o.type);c.n_(s)&&!o.isOptional&&n.push([o.name,s])}return n}case"Refinement":return M(e.from,t);case"Suspend":return M(e.f(),t);case"Transform":return M(t?e.from:e.to,t)}return[]},k=(e,t)=>{const n={},r=[];for(let o=0;o<e.length;o++){const s=e[o],i=M(s,t);if(i.length>0)for(let e=0;e<i.length;e++){const[t,r]=i[e],o=String(r.literal);n[t]=n[t]||{buckets:{},ast:c.$y};const a=n[t].buckets;if(!Object.prototype.hasOwnProperty.call(a,o)){a[o]=[s],n[t].ast=c.lC([n[t].ast,r]);break}e<i.length-1||(a[o].push(s),n[t].ast=c.lC([n[t].ast,r]))}else r.push(s)}return{keys:n,otherwise:r}},_=e=>c.TI(e)?_(e.from):e,P=(e,t,n,s)=>{const i=p.gC(e);if(i)return i;if(!0===s?.isEffectAllowed)return e;try{return r.Wno(r.wEe(e))}catch(e){return o.t$(p.ID(t,n,e instanceof Error?e.message:void 0))}};function j(e){return e.sort((([e],[t])=>e>t?1:e<t?-1:0)).map((([e,t])=>t))}const U=(e,t)=>{if("FinalPropertySignatureTransformation"===e._tag)return t?e.decode:e.encode},V=(e,t)=>{switch(e._tag){case"FinalTransformation":return t?e.decode:e.encode;case"ComposeTransformation":return o.F2;case"TypeLiteralTransformation":return n=>{let r=o.F2(n);for(const n of e.propertySignatureTransformations){const[e,o]=t?[n.from,n.to]:[n.to,n.from],s=U(n.propertySignatureTransformation,t),a=t=>{const n=s(Object.prototype.hasOwnProperty.call(t,e)?i.G(t[e]):i.YP());return delete t[e],i.pC(n)&&(t[o]=n.value),t};r=p.UI(r,a)}return r}}}},5894:(e,t,n)=>{var r=n(81303),o=n(53954),s=n(85431),i=n(13571),a=n(87585),l=n(40575),c=n(67492),u=n(27786),p=n(57303),d=n(17316),f=n(15839),m=n(16749),y=n(92817),h=n(71335),g=n(99768),b=n(13715),w=(n(54140),n(79468)),S=n(24799),v=n(65686),O=n(54634),E=n(8484),I=n(98885),x=n(22795);const D=I.aC,T=(e,t)=>{const n=r.c7(e,t);return(e,t)=>x.d1(n(e,t),x.nU)},C=e=>h.Kn(e)&&D in e&&"ast"in e,A=I.Sy,M=(...e)=>V(...e.map((e=>{return t=e,A(S.vs(t));var t}))),k=(e,t,n,r)=>A(S.i0(e.map((e=>e.ast)),((...e)=>t(...e.map((e=>A(e))))),((...e)=>n(...e.map((e=>A(e))))),q(r))),_=(e,t)=>{const n=()=>(t,n,r)=>e(t)?x.ng(t):x.bG(x.dt(r,t)),r=n;return A(S.i0([],n,r,q(t)))},P=function(){if(Array.isArray(arguments[0]))return k(arguments[0],arguments[1],arguments[2],arguments[3]);const e=arguments[0],t=arguments[1];return _(e,t)},j=(S.x8,S.zv,S.OS,S.$y,S.ai,S.TA,A(S.hw)),U=A(S.uo),V=(S.hA,S.gx,S.KN,S.DZ,(...e)=>A(S.lC(e.map((e=>e.ast))))),R=e=>{const t=v.Wp(e),n=[],r=[],o=[],s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[a];if("propertySignatureAST"in l){const e=l.propertySignatureAST,t=e.from,i=e.annotations;switch(e._tag){case"Declaration":n.push(S.KO(a,t,e.isOptional,!0,i)),r.push(S.KO(a,t,e.isOptional,!0)),o.push(S.KO(a,S.to(t),e.isOptional,!0,i));break;case"OptionalToRequired":r.push(S.KO(a,t,!0,!0)),o.push(S.KO(a,e.to,!1,!0,i)),s.push(S.YG(a,a,S.Yx(e.decode,e.encode)))}}else n.push(S.KO(a,l.ast,!1,!0)),r.push(S.KO(a,l.ast,!1,!0)),o.push(S.KO(a,S.to(l.ast),!1,!0))}return g.Ux(s)?A(S.pH(S.R1(r,[]),S.R1(o,[]),S.t5(s))):A(S.R1(n,[]))},N=(e,t)=>n=>{const o=((e,t,n)=>{const r=q(n),o=e.annotations[S.We];return r[S.We]=o?[...o,t]:[t],S.wr(e,r)})(n.ast,e,t),i=A(o),l=r.P6(i),c=r.xi(i),u=((e,t)=>{const n=r.re(e,void 0);return(e,t)=>a.Vn(n(e,t),x.nU)})(i),p=r.is(i);return Object.assign((e=>l(e)),{[s.UD]:s.UD,[D]:I.CA,ast:o,option:e=>c(e),either:e=>a.Vn(u(e),(e=>w.Z(e).map((e=>({meta:e.path,message:e.message}))))),is:e=>p(e),pipe(){return(0,y.n)(this,arguments)}})},$=(e,t)=>A(S.wP((()=>e().ast),t));function K(e,t){return n=>A(S.SV(n.ast,((t,n,r)=>{const o=e(t,n,r);return h.jn(o)?o?m.YP():m.G(x.dt(r,t)):o}),q(t)))}const Y=(0,d.OB)((e=>C(e[0])&&C(e[1])),((e,t,n,r)=>A(S.pH(e.ast,t.ast,S.zZ(n,r))))),q=e=>{if(!e)return{};const t={},n=Object.getOwnPropertySymbols(e);for(const r of n)t[r]=e[r];if(void 0!==e.typeId){const n=e.typeId;"object"==typeof n?(t[S.I4]=n.id,t[n.id]=n.annotation):t[S.I4]=n}const r=(n,r)=>{void 0!==e[n]&&(t[r]=e[n])};return r("message",S.eg),r("identifier",S.CA),r("title",S.Lf),r("description",S.Aj),r("examples",S.by),r("default",S.w9),r("documentation",S.Nh),r("jsonSchema",S.aN),r("arbitrary",E.S6),r("pretty",E.bf),r("equivalence",E.C_),t},G=e=>t=>A(S.ni(t.ast,S.CA,e)),L=O.fP,B=(e,t)=>n=>n.pipe(K((t=>t.length<=e),{typeId:L,description:`a string at most ${e} character(s) long`,jsonSchema:{maxLength:e},...t})),F=O.nh,W=Symbol.for("@effect/schema/TypeId/Pattern"),H=(e,t)=>n=>{const r=e.source;return n.pipe(K((t=>(e.lastIndex=0,e.test(t))),{typeId:{id:W,annotation:{regex:e}},description:`a string matching the pattern ${r}`,jsonSchema:{pattern:r},arbitrary:()=>t=>t.stringMatching(e),...t}))},z=Symbol.for("@effect/schema/TypeId/Includes"),J=(e,t)=>n=>n.pipe(K((t=>t.includes(e)),{typeId:{id:z,annotation:{includes:e}},description:`a string including ${JSON.stringify(e)}`,jsonSchema:{pattern:`.*${e}.*`},...t})),Z=(O.DL,S.CA,S.Lf,S.Aj,O.eF),X=(e,t)=>n=>n.pipe(K((t=>t>e),{typeId:Z,description:0===e?"a positive number":`a number greater than ${e}`,jsonSchema:{exclusiveMinimum:e},...t})),Q=O.ag,ee=O.lN,te=e=>t=>t.pipe(K((e=>Number.isSafeInteger(e)),{typeId:ee,title:"integer",description:"an integer",jsonSchema:{type:"integer"},...e})),ne=O.gw,re=(O.HG,O.UG),oe=e=>((e,t)=>e=>e.pipe(K((e=>e>=0),{typeId:Q,description:"a non-negative number",jsonSchema:{minimum:0},...t})))(0,e),se=Y(j,U,((e,t,n)=>x.Yo(f.Qc(e),(()=>x.dt(n,e)))),(e=>x.ng(String(e)))).pipe(G("NumberFromString")),ie=U.pipe(te({identifier:"Int",title:"Int"})),ae=(O.DC,O.c7,O.g3,O.AQ,O.Ro,b.ko,i._9,S.Lf,S.Aj,S.Lf,S.Aj,h.lq,l.NV,l.oF,l.fr,l.Mp,l.QT,l.U$,O.t8,O.HP,O.Rz,h.J_,o.Hv,V(R({_tag:M("Composite"),left:$((()=>ae)),right:$((()=>ae))}).pipe(G("FiberIdCompositeFrom")),R({_tag:M("None")}).pipe(G("FiberIdNoneFrom")),R({_tag:M("Runtime"),id:ie.pipe(oe({title:"id",description:"id"})),startTimeMillis:ie.pipe(oe({title:"startTimeMillis",description:"startTimeMillis"}))}).pipe(G("FiberIdRuntimeFrom"))).pipe(G("FiberIdFrom"))),le=(p.ez,e=>{switch(e._tag){case"Composite":return p.h$(le(e.left),le(e.right));case"None":return p.YP;case"Runtime":return p.GZ(e.id,e.startTimeMillis)}});var ce=n(93793),ue=n(83014),pe=n(65383),de=n(20591),fe=n(12821),me=n(95608),ye=n(95869);me.ow,me.$X,me.zS,me.VN,me.J_,me.ok,me.km,me.Np,me.Do,me.Xr,me.Ag,me.eJ;const he=me.SH,ge=(me.Dg,me.Cg,me.cS,me.A2,me.bG,me.zp,me.Dh,me.eu,me.VS,me.xH,me.DQ,me.iT,me.uP,me.UI,me.d1,me.EQ,me.eY,me.HP),be=(me.TS,me.Jn),we=(me.e3,me.vx,me.B2,me.iV,me.DM,me.EX,me.Lz,me.tX,me.lS,me.XD,me.eI,me.Yn,me.oc,me.u3,me.Xn,me.ng),Se=(me.zm,me.Rq,me.Z_,me.$2,me.bw,me.sn,me.OM,me.yK,me.JJ);me.hT,me.yL,me._u,me.iA,ye.Pj,ye.KW,ye.yP,ye.wC,me.cq,me.cV,me.Qj,me.eQ;var ve=n(8506),Oe=n(51988);h.HD;const Ee=u.Z_;Oe.Z_;class Ie{s;stripped;index;length;constructor(e,t=!1){this.s=e,this.stripped=t,this.index=0,this.length=e.length}next(){if(this.done)return{done:!0,value:void 0};const e=this.index;for(;!this.done&&!xe(this.s[this.index]);)this.index=this.index+1;let t=this.index;if(!this.done){const e=this.s[this.index];this.index=this.index+1,!this.done&&De(e,this.s[this.index])&&(this.index=this.index+1),this.stripped||(t=this.index)}return{done:!1,value:this.s.substring(e,t)}}[Symbol.iterator](){return new Ie(this.s,this.stripped)}get done(){return this.index>=this.length}}const xe=e=>{const t=e.charCodeAt(0);return 13===t||10===t},De=(e,t)=>13===e.charCodeAt(0)&&10===t.charCodeAt(0),Te=de.hV("@services/Config");var Ce=n(54204),Ae=n(41417),Me=n(32318),ke=n(23486),_e=n(95037);const Pe=de.hV("@services/Bip39"),je=de.hV("@services/NanoId"),Ue=j.pipe(H(/^[\w-]{16}$/),N("NodeId")),Ve=(0,_e.kP)("0123456789abcdef",16),Re=we(je,je.of({nanoid:fe.Z_X((()=>(0,_e.x0)())),nanoidAsNodeId:fe.Z_X((()=>Ve()))})),Ne=(e,t)=>fe.Z_X((()=>{let n=(0,Ae.b)(Me.o,"Symmetric key seed",e);for(let e=0;e<t.length;e++){const r=(new TextEncoder).encode(t[e]),o=new Uint8Array(r.byteLength+1);o[0]=0,o.set(r,1),n=(0,Ae.b)(Me.o,n.slice(0,32),o)}return n.slice(32,64)})),$e=de.hV("@services/SecretBox"),Ke=(we($e,$e.of({seal:(e,t)=>fe.Z_X((()=>{const n=(0,ke.O6)(24),r=(0,Ce.Zt)(e,n).seal(t);return(0,ce.eV)(n,r)})),open:(e,t)=>fe.Z_X((()=>{const n=t.subarray(0,24),r=t.subarray(24);return(0,Ce.Zt)(e,n).open(r)}))})),860934419999),Ye=U.pipe(X(Ke),(ct=258280326e4,e=>e.pipe(K((e=>e<ct),{typeId:ne,description:0===ct?"a negative number":`a number less than ${ct}`,jsonSchema:{exclusiveMaximum:ct},...ut}))),N("Millis")),qe=r.$0(Ye)(Ke+1),Ge=U.pipe(((e,t,n)=>r=>r.pipe(K((n=>n>=e&&n<=t),{typeId:re,description:`a number between ${e} and ${t}`,jsonSchema:{maximum:t,minimum:e},...n})))(0,65535),N("Counter")),Le=r.$0(Ge)(0),Be=e=>[new Date(e.millis).toISOString(),e.counter.toString(16).toUpperCase().padStart(4,"0"),e.node].join("-"),Fe=e=>{const t=e.split("-");return{millis:Date.parse(t.slice(0,3).join("-")).valueOf(),counter:parseInt(t[3],16),node:t[4]}},We=r.$0(Ue)("0000000000000000"),He=(e=qe)=>({millis:e,counter:Le,node:We}),ze=je.pipe(fe.VSD((({nanoidAsNodeId:e})=>e)),fe.UID((e=>({millis:qe,counter:Le,node:e})))),Je=de.hV("@services/Time"),Ze=we(Je,Je.of({now:fe.RqG((()=>T(Ye)(Date.now()))).pipe(fe.Glm("ParseError",(()=>fe.bGj({_tag:"TimestampTimeOutOfRangeError"}))))})),Xe=e=>fe.Yr4((function*(t){const n=yield*t(Je),r=yield*t(Te),o=yield*t(n.now),s=Math.max(o,...e);return s-o>r.maxDrift&&(yield*t(fe.bGj({_tag:"TimestampDriftError",now:o,next:s}))),s})),Qe=e=>(0,d.zG)(f.nP(e),((e,t)=>{const n=r.Ce(e,t);return(e,t)=>a.Vn(n(e,t),x.nU)})(Ge),a.Vn((()=>({_tag:"TimestampCounterOverflowError"})))),et=r.$0(Ge)(0),tt=({local:e,remote:t})=>fe.Yr4((function*(n){e.node===t.node&&(yield*n(fe.bGj({_tag:"TimestampDuplicateNodeError",node:e.node})));const r=yield*n(Xe([e.millis,t.millis])),o=yield*n(r===e.millis&&r===t.millis?Qe(Math.max(e.counter,t.counter)):r===e.millis?Qe(e.counter):r===t.millis?Qe(t.counter):a.F2(et));return{...e,millis:r,counter:o}})),nt=Object.create(null),rt=(e,t)=>(e||0)^t,ot=(e,t,n)=>{if(0===t.length)return e;const r=t[0],o=e[r]||{};return{...e,[r]:{...o,...ot(o,t.slice(1),n),hash:rt(o.hash,n)}}},st=e=>t=>{const n=(r=e.millis,Math.floor(r/1e3/60).toString(3).split(""));var r;const o=((e,t=0)=>{let n,r,o,s;const i=3&e.length,a=e.length-i;n=t;const l=3432918353,c=461845907;for(s=0;s<a;)o=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,o=(65535&o)*l+(((o>>>16)*l&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295,n^=o,n=n<<13|n>>>19,r=5*(65535&n)+((5*(n>>>16)&65535)<<16)&4294967295,n=27492+(65535&r)+((58964+(r>>>16)&65535)<<16);switch(o=0,i){case 3:o^=(255&e.charCodeAt(s+2))<<16;case 2:o^=(255&e.charCodeAt(s+1))<<8;case 1:o^=255&e.charCodeAt(s),o=(65535&o)*l+(((o>>>16)*l&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295,n^=o}return n^=e.length,n^=n>>>16,n=2246822507*(65535&n)+((2246822507*(n>>>16)&65535)<<16)&4294967295,n^=n>>>13,n=3266489909*(65535&n)+((3266489909*(n>>>16)&65535)<<16)&4294967295,n^=n>>>16,n>>>0})(Be(e));return ot({...t,hash:rt(t.hash,o)},n,o)},it=["0","1","2"],at=e=>it.filter((t=>t in e)),lt=e=>JSON.stringify(e);var ct,ut,pt=n(64184);const dt=de.hV("@services/PlatformName"),ft=de.hV("@services/FlushSync"),mt=(we(ft,(e=>e())),de.hV("@services/SyncLock")),yt=de.hV("@services/Fetch"),ht=(we(yt,yt.of(((e,t)=>fe.p6W({try:()=>fetch(e,{method:"POST",body:t,headers:{"Content-Type":"application/octet-stream","Content-Length":t.length.toString()}}),catch:()=>({_tag:"FetchError"})})))),de.hV("@services/AppState")),gt=(()=>{try{return!("undefined"==typeof window||!window.document||!window.document.createElement)}catch(e){return!1}})();var bt=n(12649);const wt=de.hV("@services/SyncWorker"),St=de.hV("@services/SyncWorkerPostMessage"),vt=(e,t)=>e.table===t.table&&e.row===t.row&&e.column===t.column&&JSON.stringify(e.value)===JSON.stringify(t.value),Ot=de.hV("@services/SyncWorkerOnMessage"),Et=new Uint8Array([0,1]),It=e=>{switch(typeof e){case"string":return{oneofKind:"stringValue",stringValue:e};case"number":return{oneofKind:"numberValue",numberValue:r.sf(se)(e)}}return null==e?{oneofKind:void 0}:h.lq(e)?{oneofKind:"bytesValue",bytesValue:e}:{oneofKind:"jsonValue",jsonValue:JSON.stringify(e)}},xt=e=>{switch(e.oneofKind){case"numberValue":return r.$0(se)(e.numberValue);case"stringValue":return e.stringValue;case"bytesValue":return e.bytesValue;case"jsonValue":return JSON.parse(e.jsonValue);case void 0:return null;default:return(0,d.Rz)(e)}},Dt=e=>{if(!((e,t)=>{if(t.length>e.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(e,Et))return m.YP();const{value:t,...n}=bt.En.fromBinary(e.slice(Et.length),Ct);return m.G({value:xt(t),...n})},Tt={writerFactory:()=>new ue.L({encode:e=>(new TextEncoder).encode(e)})},Ct={readerFactory:e=>new pe.o(e,{decode:e=>(new TextDecoder).decode(e)})},At=e=>fe.Yr4((function*(t){const n=yield*t(mt),r=yield*t(Ot),o=yield*t(yt),s=yield*t($e);if(0===e.syncLoopCount){if(!(yield*t(n.acquire)))return;r({_tag:"SyncStateIsSyncing"})}yield*t(fe.Ed_(e.messages,(({timestamp:t,...n})=>s.seal(e.owner.encryptionKey,(({value:e,...t})=>(0,ce.eV)(Et,bt.En.toBinary({value:It(e),...t},Tt)))(n)).pipe(fe.UID((e=>({timestamp:t,content:e})))))),fe.UID((t=>bt.D5.toBinary({messages:t,userId:e.owner.id,nodeId:e.timestamp.node,merkleTree:lt(e.merkleTree)},Tt))),fe.VSD((t=>o(e.syncUrl,t))),fe.Glm("FetchError",(()=>fe.bGj({_tag:"SyncStateIsNotSyncedError",error:{_tag:"NetworkError"}}))),fe.VSD((e=>{switch(e.status){case 402:return fe.bGj({_tag:"SyncStateIsNotSyncedError",error:{_tag:"PaymentRequiredError"}});case 200:return fe.MCc((()=>e.arrayBuffer().then((e=>new Uint8Array(e))).then((e=>bt.tU.fromBinary(e,Ct)))));default:return fe.bGj({_tag:"SyncStateIsNotSyncedError",error:{_tag:"ServerError",status:e.status}})}})),fe.VSD((t=>fe.Ed_(t.messages,(({timestamp:t,content:n})=>s.open(e.owner.encryptionKey,n).pipe(fe.UID(Dt),fe.UID(m.UI((e=>({timestamp:t,...e}))))))).pipe(fe.UID((n=>{return{_tag:"SyncWorkerOutputSyncResponse",messages:g.DZ(n,d.yR),merkleTree:(r=t.merkleTree,JSON.parse(r)),syncLoopCount:e.syncLoopCount};var r}))))),fe.sn3((()=>n.release)),fe.TSy,fe.UID(r))}));he(wt,fe.Yr4((function*(e){const t=yield*e(mt),n=e=>fe.Z_X((()=>{o.onMessage(e)})),r=de.cS().pipe(de.IH(mt,t),de.IH(yt,yield*e(yt)),de.IH($e,yield*e($e))),o={postMessage:e=>{ve.S3(e).pipe(ve.AD({sync:At,syncCompleted:()=>t.release}),fe.KPM(pt.j),fe.kmb(n),fe.JJ_(r),fe.aHK(Ot,o.onMessage),fe.VR7)},onMessage:d.Q1};return o})));var Mt=n(76658);const kt=de.hV("@services/Sqlite"),_t=e=>{for(let t=0;t<e.length;++t)e[t]=Pt(e[t]);return e},Pt=e=>h.HD(e)?jt(e):Array.isArray(e)?_t(e):"object"!=typeof e||null===e||h.lq(e)?e:Vt(e),jt=e=>{if(Ut(e))try{return Pt(JSON.parse(e))}catch(e){}return e},Ut=e=>null!=e.match(/^[[{]/),Vt=e=>{for(const t in e)e[t]=Pt(e[t]);return e},Rt=(j.pipe(H(/^[\w-]{21}$/),N("Id")),j.pipe(K((e=>!isNaN(Date.parse(e)))),N("SqliteDate"))),Nt=U.pipe(te(),K((e=>0===e||1===e)),N("SqliteBoolean"));function $t(e){return"boolean"==typeof e?!0===e?1:0:"number"==typeof e?1===e:e instanceof Date?e.toISOString():new Date(e)}const Kt=j.pipe(K((e=>{if(!Ut(e))return!0;try{JSON.parse(e)}catch(e){return!0}return!1}),{message:()=>"a string that is not stringified JSON"}),N("String"));Kt.pipe(B(1e3),N("String1000")),Kt.pipe(((e,t)=>n=>n.pipe(K((t=>t.length>=e),{typeId:F,description:`a string at least ${e} character(s) long`,jsonSchema:{minLength:e},...t})))(1),B(1e3),N("NonEmptyString1000")),U.pipe(te(),(e=>X(0,e))(),N("PositiveInt"));var Yt=n(90078);const qt=de.hV("@services/Owner"),Gt=e=>fe.Yr4((function*(t){const n=yield*t(Pe);null==e&&(e=yield*t(n.make));const r=yield*t(n.toSeed(e)),o=yield*t(Ne(r,["Evolu","Owner Id"]).pipe(fe.UID((e=>{let t="";for(let n=0;n<21;n++)t+=Yt.Q[63&e[n]];return t})))),s=yield*t(Ne(r,["Evolu","Encryption Key"]));return{mnemonic:e,id:o,encryptionKey:s}})),Lt=e=>`\nDELETE FROM "${e}"\nWHERE\n  "id" = ?;\n`;var Bt=n(77612);R({createdAt:Rt,updatedAt:Rt,isDeleted:Nt}),new WeakMap;const Ft=e=>fe.VSD(kt,(t=>fe.ni3(t.exec("BEGIN"),(()=>e),((e,n)=>Mt.hx(n)?t.exec("ROLLBACK"):t.exec("END"))))),Wt=R({message:V(j.pipe(J("no such table")),j.pipe(J("no such column")),j.pipe(J("has no column")))}),Ht=fe.C5L((e=>r.is(Wt)(e)?m.G(fe.bGj({_tag:"NoSuchTableOrColumnError"})):m.YP())),zt=e=>fe.Yr4((function*(t){const[n,r,o]=yield*t(fe.$6P([Gt(e),kt,ze],{concurrency:"unbounded"}));return console.info("lazy init owner",n,e),yield*t(fe.$6P([r.exec('\nCREATE TABLE\n  "evolu_message" (\n    "timestamp" blob PRIMARY KEY,\n    "table" blob,\n    "row" blob,\n    "column" blob,\n    "value" blob\n  );\n'),r.exec('\nCREATE INDEX "index_evolu_message" ON "evolu_message" (\n  "table", "row", "column", "timestamp"\n);\n'),r.exec('\nCREATE TABLE\n  "evolu_owner" (\n    "id" blob,\n    "mnemonic" blob,\n    "encryptionKey" blob,\n    "timestamp" blob,\n    "merkleTree" blob\n  );\n'),r.exec({sql:'\nINSERT INTO\n  "evolu_owner" (\n    "id",\n    "mnemonic",\n    "encryptionKey",\n    "timestamp",\n    "merkleTree"\n  )\nVALUES\n  (?, ?, ?, ?, ?);\n',parameters:[n.id,n.mnemonic,(0,ce.ci)(n.encryptionKey),Be(o),lt(nt)]})])),n})),Jt=kt.pipe(fe.VSD((e=>e.exec('SELECT "name" FROM "sqlite_schema" WHERE "type" = \'table\''))),fe.UID((e=>e.rows)),fe.UID(g.UI((e=>e.name+""))),fe.UID(g.hX(h.ff(("__",e=>e.startsWith("__",undefined))))),fe.UID(g.Sz(Ee)));const Zt=e=>fe.VSD(Jt,(t=>fe.Ed_(e,(e=>t.includes(e.name)?(({name:e,columns:t})=>fe.Yr4((function*(n){const r=yield*n(kt),o=yield*n(r.exec(`PRAGMA table_info (${e})`),fe.UID((e=>e.rows)),fe.UID(g.UI((e=>e.name))),fe.UID((e=>g.F2(Ee)(e)(t))),fe.UID(g.UI((t=>`ALTER TABLE "${e}" ADD COLUMN "${t}" blob;`))),fe.UID(g.v_("")));o&&(yield*n(r.exec(o)))})))(e):(({name:e,columns:t})=>fe.VSD(kt,(n=>n.exec(`\n      CREATE TABLE ${e} (\n        "id" text primary key,\n        ${t.filter((e=>"id"!==e)).map((e=>`"${e}" blob`)).join(", ")}\n      );\n    `))))(e)),{discard:!0}))),Xt=de.hV("@services/RowsStore"),Qt=he(Xt,(0,Bt.n)(new Map)),en=(e,t)=>{if(void 0===e)return[{op:"replaceAll",value:t}];if(e.length!==t.length)return[{op:"replaceAll",value:t}];const n=e.length,r=[];for(let o=0;o<n;o++){const n=e[o],s=t[o];for(const e in n)if(!tn(n[e],s[e])){r.push({op:"replaceAt",value:s,index:o});break}}return n>0&&r.length===n?[{op:"replaceAll",value:t}]:r},tn=(e,t)=>{if(e===t)return!0;if(typeof e!=typeof t)return!1;if("object"==typeof e&&null!==e&&null!==t){const n=h.lq(e),r=h.lq(t);if(n&&r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const o=Array.isArray(e),s=Array.isArray(t);if(o&&s){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}if(!(n||r||o||s)){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const r of n)if(!tn(e[r],t[r]))return!1;return!0}}return!1},nn=de.hV("@services/DbWorker"),rn=de.hV("@services/DbWorkerOnMessage"),on=fe.Yr4((function*(e){const t=yield*e(kt),n=self.name&&-1===self.name.search("starpy2")?self.name.split("/")[1]:void 0;return yield*e(t.exec('\nSELECT\n  "id",\n  "mnemonic",\n  "encryptionKey"\nFROM\n  "evolu_owner"\n'),fe.UID((({rows:[e]})=>({id:e.id,mnemonic:e.mnemonic,encryptionKey:(0,ce.nr)(e.encryptionKey)}))),Ht,fe.Glm("NoSuchTableOrColumnError",(e=>zt(n))))})),sn=({queries:e,onCompleteIds:t=[]})=>fe.Yr4((function*(n){const r=yield*n(kt),o=yield*n(Xt),s=yield*n(rn),i=yield*n(g.D8(e),fe.Ed_((e=>r.exec((e=>{const t=JSON.parse(e);return{...t,parameters:t.parameters.map((e=>Array.isArray(e)?new Uint8Array(e):"object"==typeof e&&null!=e?e.json:e))}})(e)).pipe(fe.UID((t=>[e,t.rows])))))),a=o.getState();yield*n(o.setState(new Map([...a,...i]))),s({_tag:"onQuery",queriesPatches:i.map((([e,t])=>({query:e,patches:en(a.get(e),t)}))),onCompleteIds:t})})),an=kt.pipe(fe.VSD((e=>e.exec('\nSELECT\n  "timestamp",\n  "merkleTree"\nFROM\n  "evolu_owner"\n'))),fe.UID((e=>e.rows)),fe.UID((([{timestamp:e,merkleTree:t}])=>({timestamp:Fe(e),merkleTree:t})))),ln=e=>(0,d.zG)(e,g.UI((({id:e,isInsert:t,now:n,table:r,values:o})=>(0,d.zG)(Object.entries(o),g.DZ((([e,n])=>void 0===n||t&&null==n?m.YP():m.G([e,n]))),g.UI((([e,t])=>[e,"boolean"==typeof t||t instanceof Date?$t(t):t])),g.R3([t?"createdAt":"updatedAt",n]),g.UI((([t,n])=>({table:r,row:e,column:t,value:n})))))),(e=>e.flat()),g.Sz(vt)),cn=(e,t)=>fe.Yr4((function*(n){const r=(yield*n(kt)).exec({sql:(o=e.table,s=e.column,`\nINSERT INTO\n  "${o}" ("id", "${s}")\nVALUES\n  (?, ?)\nON CONFLICT DO UPDATE SET\n  "${s}" = ?\n`),parameters:[e.row,e.value,e.value]});var o,s;yield*n(r,Ht,fe.Glm("NoSuchTableOrColumnError",(()=>(e=>fe.Yr4((function*(t){const n=new Map;e.forEach((e=>{const t=n.get(e.table);null!=t?t.columns.includes(e.column)||n.set(e.table,{name:e.table,columns:t.columns.concat(e.column)}):n.set(e.table,{name:e.table,columns:[e.column]})})),yield*t(Zt(Array.from(n.values())))})))(t).pipe(fe.qs5(r)))))})),un=({merkleTree:e,messages:t})=>fe.Yr4((function*(n){const r=yield*n(kt);for(const o of t){const s=yield*n(r.exec({sql:'\nSELECT\n  "timestamp"\nFROM\n  "evolu_message"\nWHERE\n  "table" = ?\n  AND "row" = ?\n  AND "column" = ?\nORDER BY\n  "timestamp" DESC\nLIMIT\n  1\n',parameters:[o.table,o.row,o.column]}),fe.UID((e=>e.rows)),fe.VSD(g.YM),fe.UID((e=>e.timestamp)),fe.Glm("NoSuchElementException",(()=>fe.ng0(null))));if((null==s||s<o.timestamp)&&(yield*n(cn(o,t))),null==s||s!==o.timestamp){const{changes:t}=yield*n(r.exec({sql:'\nINSERT INTO\n  "evolu_message" ("timestamp", "table", "row", "column", "value")\nVALUES\n  (?, ?, ?, ?, ?)\nON CONFLICT DO NOTHING\n',parameters:[o.timestamp,o.table,o.row,o.column,o.value]}));if(t>0){const t=Fe(o.timestamp);e=st(t)(e)}}}return e})),pn=({timestamp:e,merkleTree:t})=>fe.VSD(kt,(n=>n.exec({sql:'\nUPDATE "evolu_owner"\nSET\n  "timestamp" = ?,\n  "merkleTree" = ?\n',parameters:[Be(e),lt(t)]}))),dn=({mutations:e,queries:t})=>fe.Yr4((function*(n){const[r,o]=g.uK(e,(e=>e.table.startsWith("_"))),[s,i]=g.uK(o,(e=>ln([e]).some((e=>"isDeleted"===e.column&&1===e.value)))).map(ln);yield*n(fe.Ed_(s,(e=>cn(e,s))));const{exec:a}=yield*n(kt);if(yield*n(fe.Ed_(i,(({table:e,row:t})=>a({sql:Lt(e),parameters:[t]})))),r.length>0){let{timestamp:e,merkleTree:t}=yield*n(an);const o=yield*n(ln(r),fe.Ed_((t=>fe.UID((e=>fe.Yr4((function*(t){const n=yield*t(Xe([e.millis])),r=n===e.millis?yield*t(Qe(e.counter)):et;return{...e,millis:n,counter:r}})))(e),(n=>(e=n,{...t,timestamp:Be(e)}))))));t=yield*n(un({merkleTree:t,messages:o})),yield*n(pn({timestamp:e,merkleTree:t})),(yield*n(St))({_tag:"sync",syncUrl:(yield*n(Te)).syncUrl,messages:o,timestamp:e,merkleTree:t,owner:yield*n(qt),syncLoopCount:0})}const l=g.DZ(e,(e=>m.ij(e.onCompleteId)));(t.length>0||l.length>0)&&(yield*n(sn({queries:t,onCompleteIds:l})))})),fn=({messages:e,...t})=>fe.Yr4((function*(n){let{timestamp:r,merkleTree:o}=yield*n(an);const s=yield*n(rn);if(e.length>0){for(const t of e)r=yield*n(Fe(t.timestamp),(e=>tt({local:r,remote:e})));o=yield*n(un({merkleTree:o,messages:e})),yield*n(pn({timestamp:r,merkleTree:o})),s({_tag:"onReceive"})}const i=((e,t)=>{if(e.hash===t.hash)return m.YP();let n=e,r=t,o=[];for(;;){const e=g.Sz(at(n).concat(at(r)),Ee);let t=null;for(let o=0;o<e.length;o++){const s=e[o],i=n[s],a=r[s];if(!i||!a)break;if(i.hash!==a.hash){t=s;break}}if(!t)return m.G(0===(s=o).length?qe:1e3*parseInt(s.join("").padEnd(16,"0"),3)*60);o=[...o,t],n=n[t]||nt,r=r[t]||nt}var s;return m.YP()})(t.merkleTree,o),a=yield*n(St);if(m.Wi(i))return a({_tag:"syncCompleted"}),void s({_tag:"onSyncState",state:{_tag:"SyncStateIsSynced",time:yield*n(Je.pipe(fe.VSD((e=>e.now))))}});const l=yield*n(kt),c=yield*n(Te),u=yield*n(qt),p=yield*n(l.exec({sql:'\nSELECT\n  *\nFROM\n  "evolu_message"\nWHERE\n  "timestamp" >= ?\nORDER BY\n  "timestamp"\n',parameters:[Be(He(i.value))]}),fe.UID((({rows:e})=>e)));t.syncLoopCount>100?console.error("Evolu: syncLoopCount > 100"):a({_tag:"sync",syncUrl:c.syncUrl,messages:p,timestamp:r,merkleTree:o,owner:u,syncLoopCount:t.syncLoopCount+1})})),mn=({queries:e})=>fe.Yr4((function*(t){e.length>0&&(yield*t(sn({queries:e}))),(yield*t(St))({_tag:"sync",...yield*t(an),syncUrl:(yield*t(Te)).syncUrl,owner:yield*t(qt),messages:[],syncLoopCount:0})})),yn=e=>fe.Yr4((function*(t){const n=yield*t(kt);yield*t(n.exec('SELECT "name" FROM "sqlite_master" WHERE "type" = \'table\''),fe.UID((e=>e.rows)),fe.VSD(fe.Ed_((({name:e})=>n.exec(`DROP TABLE "${e}"`)),{discard:!0}))),e.mnemonic&&(yield*t(zt(e.mnemonic))),(yield*t(rn))({_tag:"onResetOrRestore"})})),hn=he(nn,fe.Yr4((function*(e){const t=yield*e(wt),n=e=>fe.Z_X((()=>{c.onMessage({_tag:"onError",error:e})}));t.onMessage=e=>{switch(e._tag){case"UnexpectedError":n(e).pipe(fe.Wno);break;case"SyncWorkerOutputSyncResponse":l(e);break;default:c.onMessage({_tag:"onSyncState",state:e})}};const r=de.cS().pipe(de.IH(kt,yield*e(kt)),de.IH(Pe,yield*e(Pe)),de.IH(je,yield*e(je)),de.IH(rn,(e=>{c.onMessage(e)}))),o=e=>e.pipe(fe.KPM(pt.j),Ft,fe.kmb(n),fe.JJ_(r),fe.VR7),s=e=>"reset"!==e._tag?Promise.resolve(void 0):yn(e).pipe(o);let i=e=>"init"!==e._tag?o((0,pt.j)(new Error("init must be called first"))):(i=s,on.pipe(fe.UID((n=>{c.onMessage({_tag:"onOwner",owner:n}),i=((e,n)=>{let r=!1;const s=be((e=>we(Te,Te.of({syncUrl:"https://evolu.world",maxDrift:3e5,reloadUrl:"/",...e})))(e),we(qt,n),we(St,t.postMessage),Qt,Ze).pipe(ge,fe.Ynp,fe.Wno);return e=>r?Promise.resolve(void 0):ve.S3(e).pipe(ve.AD({init:()=>(0,pt.j)(new Error("init must be called once")),query:sn,mutate:dn,sync:mn,reset:e=>(r=!0,yn(e)),ensureSchema:({tables:e})=>Zt(e),SyncWorkerOutputSyncResponse:fn}),fe.JJ_(s),o)})(e.config,n)})),o)),a=Promise.resolve(void 0);const l=e=>{a=a.then((()=>i(e)))},c={postMessage:l,onMessage:d.Q1};return c}))),gn=(we(dt,gt?null!=navigator.userAgentData&&null!=navigator.userAgentData.brands.find((({brand:e,version:t})=>e.includes("Chrom")&&Number(t)>=109))||(()=>{const e=navigator.userAgent.toLowerCase();if(-1===e.indexOf("firefox"))return!1;const t=e.match(/firefox\/([0-9]+\.*[0-9]*)/);return null!=t&&Number(t[1])>=111})()||(()=>{const e=navigator.userAgent.toLowerCase();if(-1===e.indexOf("safari"))return!1;const t=e.match(/version\/([0-9]+)/);return null!=t&&Number(t[1])>=17})()?"web-with-opfs":"web-without-opfs":"server"),he(mt,fe.Z_X((()=>{let e=null;return mt.of({acquire:fe.Yr4((function*(t){return!e&&(e=d.Q1,yield*t(fe.PFx((t=>{navigator.locks.request("evolu:sync",{ifAvailable:!0},(n=>null==n?(e=null,void t(fe.ng0(!1))):(t(fe.ng0(!0)),new Promise((t=>{e=t})))))}))))})),release:fe.Z_X((()=>{e&&e(),e=null}))})}))),he(ht,fe.Yr4((function*(e){if("server"===(yield*e(dt)))return ht.of({init:d.Q1,reset:fe.ng0(void 0)});const{reloadUrl:t}=yield*e(Te);return window.addEventListener("storage",(e=>{e.key})),ht.of({init:({onRequestSync:e})=>{window.addEventListener("online",e),document.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState&&e()})),window.addEventListener("focus",e)},reset:fe.Z_X((()=>{localStorage.setItem("evolu:reloadAllTabs",Date.now().toString())}))})}))),fe.$6P([fe.MCc((()=>Promise.all([n.e(729),n.e(984)]).then(n.bind(n,20984)))),fe.MCc((()=>n.e(957).then(n.bind(n,25957))))],{concurrency:"unbounded"})),bn=we(Pe,Pe.of({make:gn.pipe(fe.UID((([{generateMnemonic:e},{wordlist:t}])=>e(t,128)))),toSeed:e=>fe.MCc((()=>Promise.all([n.e(729),n.e(984)]).then(n.bind(n,20984)))).pipe(fe.VSD((t=>fe.MCc((()=>t.mnemonicToSeed(e)))))),parse:e=>gn.pipe(fe.VSD((([{validateMnemonic:t},{wordlist:n}])=>t(e,n)?fe.ng0(e):fe.bGj({_tag:"InvalidMnemonicError"}))))}));var wn=n(83476);globalThis.sqlite3Worker1Promiser=function e(t=e.defaultConfig){if(1===arguments.length&&"function"==typeof arguments[0]){const n=t;(t=Object.assign(Object.create(null),e.defaultConfig)).onready=n}else t=Object.assign(Object.create(null),e.defaultConfig,t);const n=Object.create(null),r=function(){},o=t.onerror||r,s=t.debug||r,i=t.generateMessageId?void 0:Object.create(null),a=t.generateMessageId||function(e){return e.type+"#"+(i[e.type]=(i[e.type]||0)+1)},l=(...e)=>{throw new Error(e.join(" "))};let c;return t.worker||(t.worker=e.defaultConfig.worker),"function"==typeof t.worker&&(t.worker=t.worker()),t.worker.onmessage=function(e){e=e.data,s("worker1.onmessage",e);let r=n[e.messageId];if(!r)return e&&"sqlite3-api"===e.type&&"worker1-ready"===e.result?void(t.onready&&t.onready()):(r=n[e.type],r&&r.onrow?void r.onrow(e):void(t.onunhandled?t.onunhandled(arguments[0]):o("sqlite3Worker1Promiser() unhandled worker message:",e)));switch(delete n[e.messageId],e.type){case"error":return void r.reject(e);case"open":c||(c=e.dbId);break;case"close":e.dbId===c&&(c=void 0)}try{r.resolve(e)}catch(e){r.reject(e)}},function(){let e;1===arguments.length?e=arguments[0]:2===arguments.length?(e=Object.create(null),e.type=arguments[0],e.args=arguments[1],e.dbId=e.args.dbId):l("Invalid arugments for sqlite3Worker1Promiser()-created factory."),e.dbId||"open"===e.type||(e.dbId=c),e.messageId=a(e),e.departureTime=performance.now();const r=Object.create(null);let o;r.message=e,"exec"===e.type&&e.args&&("function"==typeof e.args.callback?(o=e.messageId+":row",r.onrow=e.args.callback,e.args.callback=o,n[o]=r):"string"==typeof e.args.callback&&l("exec callback may not be a string when using the Promise interface."));let i=new Promise((function(o,i){r.resolve=o,r.reject=i,n[e.messageId]=r,s("Posting",e.type,"message to Worker dbId="+(c||"default")+":",e),t.worker.postMessage(e)}));return o&&(i=i.finally((()=>delete n[o]))),i}},globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL(n.p+n.u(867),n.b),{type:void 0})},onerror:(...e)=>console.error("worker1 promiser error",...e)},self.sqlite3Worker1Promiser;const Sn=wn.Z,vn=self.name&&self.name.split("/")[0]?self.name.split("/")[0]:"evolu";console.info("dbname",vn);const On=Sn().then((e=>gt?new e.oo1.JsStorageDb("local"):new e.oo1.OpfsDb("/evolu/"+vn+".db","c"))),En=we(kt,{exec:e=>fe.Yr4((function*(t){const n=yield*t(fe.MCc((()=>On))),r=(e=>"string"!=typeof e?e:{sql:e,parameters:[]})(e),o=n.exec(r.sql,{returnValue:"resultRows",rowMode:"object",bind:(s=r.parameters,s.map((e=>(e=>null!==e&&"object"==typeof e&&!h.lq(e))(e)?JSON.stringify(e):e)))});var s;return(e=>{_t(e)})(o),{rows:o,changes:n.changes()}}))}),In=he(wt,fe.Z_X((()=>{const e=new Worker(new URL(n.p+n.u(705),n.b),{type:void 0});e.onmessage=e=>{t.onMessage(e.data)};const t={postMessage:t=>{e.postMessage(t)},onMessage:d.Q1};return t}))),xn=fe.JJ_(nn,Se(hn,be(En,bn,Re,In))).pipe(fe.Wno);xn.onMessage=e=>{postMessage(e)},onmessage=e=>{xn.postMessage(e.data)}},93793:(e,t,n)=>{n.d(t,{Jq:()=>o,O0:()=>u,U5:()=>d,Wd:()=>f,ci:()=>i,eV:()=>p,iY:()=>c,nr:()=>l,uU:()=>m});var r=n(82601);const o=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function i(e){(0,r.aI)(e);let t="";for(let n=0;n<e.length;n++)t+=s[e[n]];return t}function a(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function l(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,o=0;t<n;t++,o+=2){const n=a(e.charCodeAt(o)),s=a(e.charCodeAt(o+1));if(void 0===n||void 0===s){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[t]=16*n+s}return r}function c(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){if("string"==typeof e)e=c(e);else{if(!(0,r._t)(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e}function p(...e){let t=0;for(let n=0;n<e.length;n++){const o=e[n];(0,r.aI)(o),t+=o.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}function d(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}function f(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const m=(e,t)=>(Object.assign(t,e),t)},12821:(e,t,n)=>{n.d(t,{$6P:()=>m,C5L:()=>D,Ed_:()=>y,Glm:()=>T,JJ_:()=>j,KPM:()=>x,MCc:()=>w,PFx:()=>h,RqG:()=>v,TSy:()=>k,UID:()=>A,VR7:()=>$,VSD:()=>R,Wno:()=>K,Ynp:()=>P,Yr4:()=>b,Z_X:()=>O,aHK:()=>U,bGj:()=>g,bfT:()=>E,d1Y:()=>M,kmb:()=>I,ng0:()=>S,ni3:()=>_,p6W:()=>C,qs5:()=>Y,sn3:()=>N,wEe:()=>V});var r=n(79757),o=n(26807),s=n(10218),i=n(74266),a=n(34606),l=n(50153),c=n(95608),u=n(55923),p=n(30060),d=n(97200),f=n(22019);s.Hjt,s.cdB,a.HX,a.z4,o.HP,a.oH,o.IH;const m=l.$6,y=(l.IZ,l.YI,o.NP,o.$x,o.yW,l.Gg,l.hX,o.Ew,o.n7,l.Ed),h=(o.YM,l.Jn,l.uK,o.u4,l.rN,o.nq,o.jQ,l.AS,l.VT,o.Rs,o.oE,l.Kf,l.Kt,s.PFx),g=(p.FW,s.bGj),b=(s.zph,s.DhG,s.euP,s.Xre,s.lFE,s.AgX,o.Yr),w=(s.FiN,o.YP,o.MC),S=s.ng0,v=(o.pF,o.i4,s.RqG),O=s.Z_X,E=s.bfT,I=(s.T4Q,o.Xw,s.kmb),x=(s.Npq,o.KP),D=(s.yNi,s.ENG,o.y8,o.C5),T=o.Gl,C=(o.dL,o.tx,o.zm,o.ID,o.RC,o.ki,o.vH,d.H,d.Gt,o.DV,o.K$,o.lm,o.p6),A=(o.wi,o.Q9,s.oGW,l.zP,s.e1i,s.m4x,s.um_,s.RxE,s.J7b,s.wUc,s.UO$,s.as,o.l0,o.Ps,s.EpM,s.RRI,o.tG,s.UID),M=(o.zJ,s.SAn,s.d1Y),k=(o.$p,o.TS),_=(o.tk,l.S8,l.Ro,s.ni3),P=(l.yR,l.IH,s.qQ3,s.dsk,l.BE,l.qm,l.r,l.eI,l.ZO,l.N1),j=(l.gW,l.KC,a.NZ,l.qi,o.qI,o.vG,o.gT,a.a7,a.Ij,s.ezx,s.mrY,l.rM,l.Zp,a.Xe,a.Bo,a.CL,l.lg,a.yE,a.ql,a.Lj,s.Yxn,s.l9G,f.ez,s.uqd,s.U76,o.mC,o.UA,l.Zx,i.rZ,r.iV,r.Y,r.SZ,r.A5,o.gw,o._v,o.E1,o.qP,a.Vs,a.Ai,a.R0,a.eS,i.D5,i.wD,l.Yk,s.Do7,o.bp,s.RuX,s.nP$,c.uZ),U=o.aH,V=(o.VZ,o.B8,o.M2,o.Ft,o.E9,o.DM,o.my,o.A1,o.Pg,o.Do,o.ak,o.YO,o.Zp,s.wEe),R=(s.JFt,s.S4Q,o.Kw,s.pHF,o.eW,o.FY,o.Y$,o.lF,o.qh,o.d7,o.gx,s.FNZ,o.Q2,o.kD,s.VSD),N=(s.Po9,s.xHg,l.xu,l.S3,a.x3,l.QQ,o.bA,s.bwX,o.iG,o.xv,o.sn),$=(o.WO,o.OM,o.Yo,o.UP,o.VX,d.kq,o.$I,d.rl,d.fh,a.Fw,d.zW,s.Hib,o.tW,o.CT,s.EXC,s.LzL,l.tX,l.lS,o.au,o.js,o.L,o.hx,o.d6,o.EQ,s.eYH,s.Bpg,s.PwY,o.cM,o.qn,o.o7,o.PN,o.KE,o.H,o.qX,o.JP,o.z,o.$F,s.uw7,s.e3I,s.war,s.vxS,o.LP,o.pt,o.MX,i.MD,i.Z0,l.vY,p.GZ,s.CpT,s.$Cr,s.ZYt,l.fn,o._t,o.mX,l.en,l.Ld,s.x_F,o.yz,a.Ct,a.Fi,p.m5,p.pd,p.GB),K=(p.p6,p.I7),Y=(p.uv,l.Gu,l.QV,l.Jq,l.jr,l.tv);l.xn,s.IN$,s.f6m,s.Nbs,u.Mw,u.YX,s.ZLd,u.e0,u.Bm,o.Z7,i.$f,i.oJ,l.at,s.ObN,o.wV,o.H5,o.f3,o.bs,o.xf,o.Dp,o.Rc,o.v8,l.ey,o._g,o.cq,l.$u,o.cV,o.ij,o.Ds},27786:(e,t,n)=>{n.d(t,{$H:()=>u,Ej:()=>p,IX:()=>f,O7:()=>c,Rx:()=>l,Sy:()=>o,Z_:()=>a,bc:()=>d});var r=n(17316);const o=e=>(t,n)=>t===n||e(t,n),s=(e,t)=>e===t,i=()=>s,a=i(),l=i(),c=i(),u=(0,r.OB)(2,((e,t)=>o(((n,r)=>e(t(n),t(r)))))),p=u(l,(e=>e.getTime())),d=(...e)=>{return t=e,o(((e,n)=>{const r=Math.min(e.length,n.length);let o=0;for(const s of t){if(o>=r)break;if(!s(e[o],n[o]))return!1;o++}return!0}));var t},f=e=>o(((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}))},76658:(e,t,n)=>{n.d(t,{Dh:()=>a,EQ:()=>p,bG:()=>i,d6:()=>s,e1:()=>u,hx:()=>o,jF:()=>c,ng:()=>d,xH:()=>l,yL:()=>f});var r=n(10218);r.fX8;const o=r.Ioz,s=r.dcz,i=(r.y8V,r.AZM,r.wal,r.fa7,r.jxF,r.ai8,r.oMA,r.bT5),a=r.KiG,l=(r.SMH,r.pcb,r.L$o),c=r.XZ7,u=(r.KTm,r.RxU,r.giG,r.eq6),p=(r.Fh8,r.V74,r.HYP,r.wvn,r.Bs2),d=(r.aoR,r.SID),f=(r.M0x,r.a69,r._TW,r.XIR,r.$7G,r.u9x,r.VEn,r.dG6)},15839:(e,t,n)=>{n.d(t,{KM:()=>a,Qc:()=>l,nP:()=>i});var r=n(27786),o=n(70602),s=n(51988);n(71335).hj;const i=e=>e+1,a=(r.Rx,s.Rx),l=e=>{if("NaN"===e)return o.G(NaN);if("Infinity"===e)return o.G(1/0);if("-Infinity"===e)return o.G(-1/0);if(""===e.trim())return o.YP;const t=Number(e);return Number.isNaN(t)?o.YP:o.G(t)}},51988:(e,t,n)=>{n.d(t,{$H:()=>c,Fp:()=>f,GY:()=>l,IX:()=>p,O7:()=>a,Rx:()=>i,Z_:()=>s,bc:()=>u,tS:()=>d});var r=n(17316);const o=e=>(t,n)=>t===n?0:e(t,n),s=o(((e,t)=>e<t?-1:1)),i=o(((e,t)=>e<t?-1:1)),a=o(((e,t)=>e<t?-1:1)),l=e=>o(((t,n)=>e(n,t))),c=(0,r.OB)(2,((e,t)=>o(((n,r)=>e(t(n),t(r)))))),u=(...e)=>{return t=e,o(((e,n)=>{const r=Math.min(e.length,n.length);let o=0;for(const s of t){if(o>=r)break;const t=s(e[o],n[o]);if(0!==t)return t;o++}return 0}));var t},p=e=>o(((t,n)=>{const r=t.length,o=n.length,s=Math.min(r,o);for(let r=0;r<s;r++){const o=e(t[r],n[r]);if(0!==o)return o}return i(r,o)})),d=e=>(0,r.OB)(2,((t,n)=>1===e(t,n))),f=e=>(0,r.OB)(2,((t,n)=>t===n||e(t,n)>-1?t:n))},71335:(e,t,n)=>{n.d(t,{Bd:()=>h,C4:()=>a,Ft:()=>p,HD:()=>o,J_:()=>S,Kn:()=>m,TW:()=>v,Uy:()=>O,Yd:()=>g,ff:()=>I,hj:()=>s,jW:()=>b,jn:()=>i,l$:()=>y,lq:()=>w,mf:()=>c,o8:()=>u,r2:()=>d,tI:()=>E,yk:()=>l});var r=n(17316);const o=e=>"string"==typeof e,s=e=>"number"==typeof e,i=e=>"boolean"==typeof e,a=e=>"bigint"==typeof e,l=e=>"symbol"==typeof e,c=r.mf,u=e=>void 0===e,p=e=>null===e,d=e=>!1,f=e=>"object"==typeof e&&null!==e,m=e=>f(e)||c(e),y=(0,r.OB)(2,((e,t)=>m(e)&&t in e)),h=(0,r.OB)(2,((e,t)=>y(e,"_tag")&&e._tag===t)),g=e=>null==e,b=e=>null!=e,w=e=>e instanceof Uint8Array,S=e=>e instanceof Date,v=e=>y(e,Symbol.iterator),O=e=>f(e)&&!Array.isArray(e),E=e=>y(e,"then")&&"catch"in e&&c(e.then)&&c(e.catch),I=e=>t=>!e(t)},99768:(e,t,n)=>{n.d(t,{$R:()=>U,Ce:()=>m,Cw:()=>C,D8:()=>ie,DZ:()=>Z,EE:()=>f,Ew:()=>k,F2:()=>B,G0:()=>L,GY:()=>P,JJ:()=>re,KB:()=>d,MH:()=>v,Mg:()=>X,Of:()=>g,R3:()=>y,Sz:()=>se,UI:()=>H,Ux:()=>b,VS:()=>z,YM:()=>O,Z$:()=>I,c5:()=>oe,cS:()=>F,dF:()=>_,dK:()=>E,fm:()=>D,hX:()=>Q,hr:()=>R,ln:()=>A,nq:()=>ne,of:()=>W,oq:()=>h,qr:()=>M,r3:()=>$,u4:()=>te,uK:()=>ee,v_:()=>ae,w4:()=>x,wx:()=>j,xH:()=>J,yP:()=>T});var r=n(67492),o=n(27786),s=n(17316),i=n(15132),a=n(16749),l=n(51988),c=n(71335),u=n(78230),p=n(10800);const d=(e,t)=>{const n=Math.max(1,Math.floor(e)),r=[t(0)];for(let e=1;e<n;e++)r.push(t(e));return r},f=e=>Array.isArray(e)?e:Array.from(e),m=(u.Yz,a.qo,(0,s.OB)(2,((e,t)=>[t,...e]))),y=(0,s.OB)(2,((e,t)=>[...e,t])),h=(0,s.OB)(2,((e,t)=>f(e).concat(f(t)))),g=i.O,b=i.O,w=(e,t)=>e<0||e>=t.length,S=(0,s.OB)(2,((e,t)=>{const n=Math.floor(t);return w(n,e)?a.YP():a.G(e[n])})),v=(0,s.OB)(2,((e,t)=>{const n=Math.floor(t);if(w(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]})),O=S(0),E=v(0),I=e=>b(e)?a.G(x(e)):a.YP(),x=e=>e[e.length-1],D=e=>e.slice(1),T=(0,s.OB)(2,((e,t)=>K(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t)))),C=(0,s.OB)(2,((e,t)=>{const n=f(e);return n.slice((r=t,o=n,Math.floor(Math.min(Math.max(0,r),o.length))),n.length);var r,o})),A=(0,s.OB)(2,((e,t)=>{let n=0;for(const r of e){if(t(r,n))return a.G(n);n++}return a.YP()})),M=(0,s.OB)(2,((e,t)=>{const n=f(e);for(let e=n.length-1;e>=0;e--)if(t(n[e],e))return a.G(e);return a.YP()})),k=(0,s.OB)(2,((e,t)=>{let n=0;for(const r of e){const e=t(r,n);if((0,c.jn)(e)){if(e)return a.G(r)}else if(a.pC(e))return e;n++}return a.YP()})),_=(0,s.OB)(2,((e,t)=>{const n=f(e);for(let e=n.length-1;e>=0;e--){const r=n[e],o=t(r,e);if((0,c.jn)(o)){if(o)return a.G(r)}else if(a.pC(o))return o}return a.YP()})),P=e=>Array.from(e).reverse(),j=(0,s.OB)(2,((e,t)=>{const n=Array.from(e);return n.sort(t),n})),U=(0,s.OB)(2,((e,t)=>V(e,t,p.Sy))),V=(0,s.OB)(3,((e,t,n)=>{const r=f(e),o=f(t);if(b(r)&&b(o)){const e=[n(E(r),E(o))],t=Math.min(r.length,o.length);for(let s=1;s<t;s++)e[s]=n(r[s],o[s]);return e}return[]})),R=e=>(0,s.OB)(2,((t,n)=>{for(const r of t)if(e(n,r))return!0;return!1})),N=r.DE(),$=R(N),K=(0,s.OB)(2,((e,t)=>{const n=Array.from(e),r=Math.floor(t);return b(n)?r>=1?Y(n,r):[[],n]:[n,[]]})),Y=(0,s.OB)(2,((e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[q(e),[]]:[m(e.slice(1,n),E(e)),e.slice(n)]})),q=e=>e.slice(),G=(0,s.OB)(3,((e,t,n)=>{const r=f(e),o=f(t);return b(r)?b(o)?se(n)(h(r,o)):r:o})),L=(0,s.OB)(2,((e,t)=>G(e,t,N))),B=e=>{const t=R(e);return(0,s.OB)(2,((e,n)=>f(e).filter((e=>!t(n,e)))))},F=()=>[],W=e=>[e],H=(0,s.OB)(2,((e,t)=>e.map(t))),z=(0,s.OB)(2,((e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let e=0;e<o.length;e++)n.push(o[e])}return n})),J=z(s.yR),Z=(0,s.OB)(2,((e,t)=>{const n=f(e),r=[];for(let e=0;e<n.length;e++){const o=t(n[e],e);a.pC(o)&&r.push(o.value)}return r})),X=Z(s.yR),Q=(0,s.OB)(2,((e,t)=>{const n=f(e),r=[];for(let e=0;e<n.length;e++)t(n[e],e)&&r.push(n[e]);return r})),ee=(0,s.OB)(2,((e,t)=>{const n=[],r=[],o=f(e);for(let e=0;e<o.length;e++)t(o[e],e)?r.push(o[e]):n.push(o[e]);return[n,r]})),te=(0,s.OB)(3,((e,t,n)=>f(e).reduce(((e,t,r)=>n(e,t,r)),t))),ne=(0,s.OB)(3,((e,t,n)=>f(e).reduceRight(((e,t,r)=>n(e,t,r)),t))),re=(e,t)=>{const n=[];let r,o=e;for(;a.pC(r=t(o));){const[e,t]=r.value;n.push(e),o=t}return n},oe=(l.IX,o.IX),se=(0,s.OB)(2,((e,t)=>{const n=f(e);if(b(n)){const e=[E(n)],r=D(n);for(const n of r)e.every((e=>!t(n,e)))&&e.push(n);return e}return[]})),ie=e=>se(e,r.DE()),ae=(0,s.OB)(2,((e,t)=>f(e).join(t)))}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return n[e](s,s.exports,o),s.exports}o.m=n,o.x=()=>{var e=o.O(void 0,[205,364,729],(()=>o(5894)));return o.O(e)},e=[],o.O=(t,n,r,s)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],s=e[u][2];for(var a=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".bundle.web.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{o.b=self.location+"";var e={894:1};o.f.i=(t,n)=>{e[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunkStarpyApp=self.webpackChunkStarpyApp||[],n=t.push.bind(t);t.push=t=>{var r=t[0],s=t[1],i=t[2];for(var a in s)o.o(s,a)&&(o.m[a]=s[a]);for(i&&i(o);r.length;)e[r.pop()]=1;n(t)}})(),t=o.x,o.x=()=>Promise.all([205,364,729].map(o.e,o)).then(t),o.x()})();